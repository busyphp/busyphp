<extend name="@admin:layout"/>
<block name="content">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">{$system.page_title}</h3>
        </div>
        <div class="panel-body no-padding-bottom">
            <script type="text/x-markdown" id="markdown">
### 开始

本组件属于内置组件，无需引用即可使用

### 使用

通过在标签上加上自定义属性 `data-toggle="busy-request"` 来触发

```html
<a data-toggle="busy-request">...</a>
```

### 属性

| 属性:240 | 类型:100 | 必须: 100 | 默认值: 100 | 描述 |
| - | :-: | :--: | :-: | - |
| 基本属性:title |  |  |  |  |
| data-url | string | `否` | `true` | 设置请求的地址，`a`标签支持`href`属性，设为true则获取当前网址 |
| data-params | object | `否` | - | 请求携带的参数，键值对 |
| data-headers | object | `否` | - | 请求携带的header，键值对 |
| data-confirm | string | `否` | - | 请求前询问对话框的文案 |
| data-method | string | `否` | `get` | 请求方式，支持`get`,`post` |
| data-pending | boolean | `否` | `true` | 是否显示请求loading |
| data-pending-message | string | `否` | `请稍候...` | 请求loading文案 |
| 回调方法:title |  |  |  |  |
| data-on-before | string | `否` | - | 请求前回调，返回false阻止请求 |
| data-on-complete | string | `否` | - | 请求完成回调，返回false阻止成功和失败 |
| data-on-success | string | `否` | - | 请求成功回调，返回false阻止弹出提示，支持语法糖如下：<br />`@route.reload`：重载当前页面<br />`@route.back`：返回上一页<br />`@route.redirect`：跳转到响应结果内返回的`url`地址<br />`@table.reload`：刷新表格(针对 `data-toggle="busy-request"` 在[数据表格]({:url('table')})内) |
| data-on-error | string | `否` | - | 请求失败回调，返回false阻止弹出提示，支持语法糖如下：<br />`@route.reload`：重载当前页面<br />`@route.back`：返回上一页<br />`@route.redirect`：跳转到响应结果内返回的`url`地址 |

### 使用示例

#### 基本示例
```demo:实例
#demo1
```
            </script>
        </div>
    </div>

    <template id="demo1" class="hide">
        <a class="btn btn-primary" href="__SELF__" data-toggle="busy-request" data-method="post" data-on-success="@route.reload">执行请求</a>
        <hr/>
        <a class="btn btn-primary" href="__SELF__" data-toggle="busy-request" data-method="post" data-confirm="确认要执行该操作吗？" data-on-success="@route.reload">执行操作并确认</a>
    </template>
</block>