<extend name="@admin:layout"/>
<block name="content">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">{$panel_title}</h3>
        </div>
        <div class="panel-body no-padding-bottom">
            <script type="text/x-markdown" id="markdown">
### 开始

本组件属于内置组件，无需引用即可使用

### 使用

通过在标签上加上自定义属性 `data-toggle="busy-modal"` 来触发

```html
<a data-toggle="busy-modal">打开对话框</a>
```

### 标签属性

| 属性:240 | 类型:100 | 必须: 100 | 默认值: 100 | 描述 |
| - | :-: | :--: | :-: | - |
| 基本:title |  |  |  |  |
| data-type | string | 否 | `form` | 对话框类型，支持以下类型：<br />`form`：表单<br />`page`：页面<br />`list`：列表 |
| data-backdrop | boolean,string | 否 | `true` | 是否显示背景遮罩，指定`static`则点击背景遮罩不会关闭对话框 |
| data-size | string | 否 | - | 对话框大小，留空则默认大小，支持以下类型：<br />`sm`：小对话框<br />`lg`：大对话框 |
| data-title | boolean,string | 否 | - | 设置对话框标题，`false`则不显示对话框标题栏，远端加载可以输出`<title>`标签指定标题 |
| data-footer | boolean | 否 | `true` | 设置是否显示footer栏 |
| data-footer-align | string | 否 | `right` | 设置footer按钮对齐方式，支持`left`,`center`,`right` |
| data-content | string | 否 | - | 设置对话框内容的jQuery选择器 |
| data-text | boolean | 否 | `false` | 设置content是否为文本 |
| data-url | string | 否 | - | 设置远程加载的页面，设置后`content`无效，`a`节点支持`href`指定 |
| data-class-name | string | 否 | - | 自定义对话框css类名 |
| data-padding | string | 否 | - | 设置内容区域的填充值 |
| data-border-top | boolean | 否 | `true` | 设置是否显示上边框 |
| data-border-bottom | boolean | 否 | `true` | 设置是否显示下边框 |
| data-height | number | 否 | - | 设置对话框内容高度，超出后将显示滚动条 |
| data-buttons | string | 否 | - | 自定义按钮`window全局变量名称` |
| 确认按钮:title |  |  |  |  |
| data-ok | boolean,string | 否 | `确定` | 设置确认按钮的文本内容，`false`则不显示 |
| data-ok-skin | string | 否 | `btn-primary` | 确定按钮css类名 |
| data-ok-icon | string | 否 | - | 确定按钮图标css类名称，如：`icon icon-check` |
| data-on-ok | string | 否 | - | 确定按钮点击事件，如不指定默认为：<br /> `data-type=form` 为 `submit`事件<br /> `data-type=其他` 为 `close` 事件 |
| 取消按钮:title |  |  |  |  |
| data-cancel | boolean,string | 否 | `取消` | 设置确认按钮的文本内容，`false`则不显示 |
| data-cancel-skin | string | 否 | `btn-default` | 取消按钮css类名 |
| data-cancel-icon | string | 否 | - | 取消按钮图标css类名称，如：`icon icon-close` |
| data-on-cancel | string | 否 | - | 取消按钮点击事件，如不指定默认为：`data-type=form` 为 `reset`事件<br /> `data-type=其他` 为 `close` 事件 |
| data-type="form":title |  |  |  |  |
| data-form-method | string | 否 | `post` | 指定form提交方式 |
| data-form-action | string | 否 | - | 指定form提交地址 |

### 自定义按钮结构
```js
var buttons = [
    {
        align: 'left|right', // 按钮位置
        classes: 'btn-danger', // 按钮样式
        text: '<i class="icon icon-check"></i> 按钮文本', // 按钮文本
        events: function(api) { // 直接指定回调函数则默认为按钮绑定点击事件
            $(this) // 当前按钮
        }
    },
    {
        classes: 'btn-danger', // 按钮样式
        text: '<i class="icon icon-check"></i> 按钮文本', // 按钮文本
        events: { // 可以绑定各种事件
            'click' : function(api) {
                $(this) // 当前按钮
            },
            'hover' : function(api) {
                $(this) // 当前按钮
            },
        }
    },
];
```

### 使用示例

#### 基本示例
```demo:实例
#demo1
```

#### 加载远程表单
```demo:实例
#demo2
```

#### 加载远程页面
```demo:实例
#demo3
```

#### 静态内容转表单
```demo:实例
#demo4
```

#### 自定义按钮
```demo:实例
#demo5
```
            
            
            
            
            </script>
        </div>
    </div>

    <template class="hide" id="demo1">
        <a class="btn btn-primary" data-toggle="busy-modal" data-type="page" data-content="#demo1_template">打开模态框</a>
        <script type="text/html" id="demo1_template">
            <div>这是对话框内容，通过<code>data-content="#demo1_template"</code>实现</div>
        </script>
    </template>

    <template class="hide" id="demo2">
        <a class="btn btn-primary" data-toggle="busy-modal" data-height="300" data-url="{:url('?action=demo2')}">打开表单</a>
    </template>

    <template class="hide" id="demo3">
        <a class="btn btn-primary"
           data-toggle="busy-modal"
           data-padding="0"
           data-border-top="false"
           data-border-bottom="false"
           data-type="page"
           data-url="{:url('?action=demo3')}">打开页面</a>
    </template>

    <template class="hide" id="demo4">
        <a class="btn btn-primary" data-toggle="busy-modal" data-size="sm" data-content="#demo4_template">打开静态内容</a>
        <script type="text/html" id="demo4_template">
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon">账号</div>
                    <input type="text" class="form-control" placeholder="请输入账号"/>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-addon">密码</div>
                    <input type="password" class="form-control" placeholder="请输入密码"/>
                </div>
            </div>
            <div class="form-group no-margin-bottom">
                <input type="checkbox" title="记住密码" data-toggle="busy-checkbox"/>
            </div>
        </script>
    </template>

    <template class="hide" id="demo5">
        <a class="btn btn-primary"
           data-toggle="busy-modal"
           data-ok="false"
           data-cancel="false"
           data-buttons="buttons"
           data-footer-align="center"
           data-text="true"
           data-content="通过自定义<code>data-buttons</code>来扩展按钮">打开模态框</a>
        <script>
            busyAdmin.data.buttons = [
                {
                    align   : 'left',
                    classes : 'btn-danger',
                    text    : '按钮1',
                    events  : function (api) {
                        busyAdmin.dialog.toast('点击了按钮：' + $(this).text());
                    }
                },
                {
                    classes : 'btn-warning',
                    text    : '按钮2',
                    events  : function (api) {
                        busyAdmin.dialog.toast('点击了按钮：' + $(this).text());
                    }
                },
                {
                    classes : 'btn-info',
                    text    : '按钮3',
                    events  : function (api) {
                        busyAdmin.dialog.toast('点击了按钮：' + $(this).text());
                        api.hide();
                    }
                }
            ];
        </script>
    </template>
</block>