var requirejs,require,define;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(x,e){"use strict";var t=[],$=x.document,i=Object.getPrototypeOf,s=t.slice,m=t.concat,l=t.push,a=t.indexOf,n={},r=n.toString,f=n.hasOwnProperty,o=f.toString,c=o.call(Object),g={};function v(e,t){var i=(t=t||$).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function d(e,t){return t.toUpperCase()}var u="3.0.0",C=function(e,t){return new C.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,y=/-([a-z])/g;function b(e){var t=!!e&&"length"in e&&e.length,i=C.type(e);return"function"!==i&&!C.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:u,constructor:C,length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(i){return this.pushStack(C.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,i,n,a,r=arguments[0]||{},o=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[o]||{},o++),"object"==typeof r||C.isFunction(r)||(r={}),o===s&&(r=this,o--);o<s;o++)if(null!=(e=arguments[o]))for(t in e)a=r[t],r!==(i=e[t])&&(l&&i&&(C.isPlainObject(i)||(n=C.isArray(i)))?(a=n?(n=!1,a&&C.isArray(a)?a:[]):a&&C.isPlainObject(a)?a:{},r[t]=C.extend(l,a,i)):void 0!==i&&(r[t]=i));return r},C.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==r.call(e))&&(!(e=i(e))||"function"==typeof(e=f.call(e,"constructor")&&e.constructor)&&o.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[r.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(h,"ms-").replace(y,d)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(b(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){t=t||[];return null!=e&&(b(Object(e))?C.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,i){return null==t?-1:a.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,a=e.length;n<i;n++)e[a++]=t[n];return e.length=a,e},grep:function(e,t,i){for(var n=[],a=0,r=e.length,o=!i;a<r;a++)!t(e[a],a)!=o&&n.push(e[a]);return n},map:function(e,t,i){var n,a,r=0,o=[];if(b(e))for(n=e.length;r<n;r++)null!=(a=t(e[r],r,i))&&o.push(a);else for(r in e)null!=(a=t(e[r],r,i))&&o.push(a);return m.apply([],o)},guid:1,proxy:function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),C.isFunction(e))return i=s.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||C.guid++,n},now:Date.now,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var w=function(i){function u(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function n(){x()}var e,h,w,r,a,f,p,m,k,l,c,x,$,o,C,g,s,d,v,S="sizzle"+ +new Date,y=i.document,T=0,b=0,_=oe(),D=oe(),A=oe(),E=function(e,t){return e===t&&(c=!0),0},P={}.hasOwnProperty,t=[],I=t.pop,O=t.push,L=t.push,R=t.slice,M=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+j+"*("+N+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+j+"*\\]",q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),U=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),z=new RegExp("^"+j+"*,"+j+"*"),Y=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),W=new RegExp(q),Q=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ge(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{L.apply(t=R.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){L={apply:t.length?function(e,t){O.apply(e,R.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,i,n){var a,r,o,s,l,c,d,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:y)!==$&&x(t),t=t||$,C)){if(11!==p&&(l=Z.exec(e)))if(a=l[1]){if(9===p){if(!(o=t.getElementById(a)))return i;if(o.id===a)return i.push(o),i}else if(u&&(o=u.getElementById(a))&&v(t,o)&&o.id===a)return i.push(o),i}else{if(l[2])return L.apply(i,t.getElementsByTagName(e)),i;if((a=l[3])&&h.getElementsByClassName&&t.getElementsByClassName)return L.apply(i,t.getElementsByClassName(a)),i}if(h.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==p)u=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ie,ne):t.setAttribute("id",s=S),r=(c=f(e)).length;r--;)c[r]="#"+s+" "+me(c[r]);d=c.join(","),u=ee.test(e)&&he(t.parentNode)||t}if(d)try{return L.apply(i,u.querySelectorAll(d)),i}catch(e){}finally{s===S&&t.removeAttribute("id")}}}return m(e.replace(U,"$1"),t,i,n)}function oe(){var i=[];function n(e,t){return i.push(e+" ")>w.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function se(e){return e[S]=!0,e}function le(e){var t=$.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function de(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ue(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&!1===e.disabled&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!ae(e))!==t)}}function pe(o){return se(function(r){return r=+r,se(function(e,t){for(var i,n=o([],e.length,r),a=n.length;a--;)e[i=n[a]]&&(e[i]=!(t[i]=e[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=re.support={},a=re.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},x=re.setDocument=function(e){var t,e=e?e.ownerDocument||e:y;return e!==$&&9===e.nodeType&&e.documentElement&&(o=($=e).documentElement,C=!a($),y!==$&&(t=$.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",n,!1):t.attachEvent&&t.attachEvent("onunload",n)),h.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=le(function(e){return e.appendChild($.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=J.test($.getElementsByClassName),h.getById=le(function(e){return o.appendChild(e).id=S,!$.getElementsByName||!$.getElementsByName(S).length}),h.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&C){e=t.getElementById(e);return e?[e]:[]}},w.filter.ID=function(e){var t=e.replace(te,u);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(te,u);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),w.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],a=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;i=r[a++];)1===i.nodeType&&n.push(i);return n},w.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},s=[],g=[],(h.qsa=J.test($.querySelectorAll))&&(le(function(e){o.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+S+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=$.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=J.test(d=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&le(function(e){h.disconnectedMatch=d.call(e,"*"),d.call(e,"[s!='']:x"),s.push("!=",q)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(o.compareDocumentPosition),v=t||J.test(o.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return c=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===i?e===$||e.ownerDocument===y&&v(y,e)?-1:t===$||t.ownerDocument===y&&v(y,t)?1:l?M(l,e)-M(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,n=0,a=e.parentNode,r=t.parentNode,o=[e],s=[t];if(!a||!r)return e===$?-1:t===$?1:a?-1:r?1:l?M(l,e)-M(l,t):0;if(a===r)return de(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;o[n]===s[n];)n++;return n?de(o[n],s[n]):o[n]===y?-1:s[n]===y?1:0}),$},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==$&&x(e),t=t.replace(V,"='$1']"),h.matchesSelector&&C&&!A[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var i=d.call(e,t);if(i||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<re(t,$,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==$&&x(e),v(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==$&&x(e);var i=w.attrHandle[t.toLowerCase()],i=i&&P.call(w.attrHandle,t.toLowerCase())?i(e,t,!C):void 0;return void 0!==i?i:h.attributes||!C?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},re.escape=function(e){return(e+"").replace(ie,ne)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],n=0,a=0;if(c=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(E),c){for(;t=e[a++];)t===e[a]&&(n=i.push(a));for(;n--;)e.splice(i[n],1)}return l=null,e},r=re.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(w=re.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,u),e[3]=(e[3]||e[4]||e[5]||"").replace(te,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=f(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=re.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(H," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,i){var n,a,r,o,s,l,c=v!=y?"nextSibling":"previousSibling",d=e.parentNode,u=b&&e.nodeName.toLowerCase(),p=!i&&!b,h=!1;if(d){if(v){for(;c;){for(o=e;o=o[c];)if(b?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?d.firstChild:d.lastChild],y&&p){for(h=(s=(n=(a=(r=(o=d)[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===T&&n[1])&&n[2],o=s&&d.childNodes[s];o=++s&&o&&o[c]||(h=s=0)||l.pop();)if(1===o.nodeType&&++h&&o===e){a[f]=[T,s,h];break}}else if(p&&(h=s=(n=(a=(r=(o=e)[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===T&&n[1]),!1===h)for(;(o=++s&&o&&o[c]||(h=s=0)||l.pop())&&((b?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++h||(p&&((a=(r=o[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]=[T,h]),o!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,r){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[S]?o(r):1<o.length?(t=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var i,n=o(e,r),a=n.length;a--;)e[i=M(e,n[a])]=!(t[i]=n[a])}):function(e){return o(e,0,t)}):o}},pseudos:{not:se(function(e){var n=[],a=[],s=p(e.replace(U,"$1"));return s[S]?se(function(e,t,i,n){for(var a,r=s(e,null,n,[]),o=e.length;o--;)(a=r[o])&&(e[o]=!(t[o]=a))}):function(e,t,i){return n[0]=e,s(n,null,i,a),n[0]=null,!a.pop()}}),has:se(function(t){return function(e){return 0<re(t,e).length}}),contains:se(function(t){return t=t.replace(te,u),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:se(function(i){return Q.test(i||"")||re.error("unsupported lang: "+i),i=i.replace(te,u).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ue(!1),disabled:ue(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:pe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:pe(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:pe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function fe(){}function me(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ge(o,e,t){var s=e.dir,l=e.next,c=l||s,d=t&&"parentNode"===c,u=b++;return e.first?function(e,t,i){for(;e=e[s];)if(1===e.nodeType||d)return o(e,t,i)}:function(e,t,i){var n,a,r=[T,u];if(i){for(;e=e[s];)if((1===e.nodeType||d)&&o(e,t,i))return!0}else for(;e=e[s];)if(1===e.nodeType||d)if(n=(a=e[S]||(e[S]={}))[e.uniqueID]||(a[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((a=n[c])&&a[0]===T&&a[1]===u)return r[2]=a[2];if((n[c]=r)[2]=o(e,t,i))return!0}}}function ve(a){return 1<a.length?function(e,t,i){for(var n=a.length;n--;)if(!a[n](e,t,i))return!1;return!0}:a[0]}function ye(e,t,i,n,a){for(var r,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(i&&!i(r,n,a)||(o.push(r),c&&t.push(s)));return o}function be(h,f,m,g,v,e){return g&&!g[S]&&(g=be(g)),v&&!v[S]&&(v=be(v,e)),se(function(e,t,i,n){var a,r,o,s=[],l=[],c=t.length,d=e||function(e,t,i){for(var n=0,a=t.length;n<a;n++)re(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),u=!h||!e&&f?d:ye(d,s,h,i,n),p=m?v||(e?h:c||g)?[]:t:u;if(m&&m(u,p,i,n),g)for(a=ye(p,l),g(a,[],i,n),r=a.length;r--;)(o=a[r])&&(p[l[r]]=!(u[l[r]]=o));if(e){if(v||h){if(v){for(a=[],r=p.length;r--;)(o=p[r])&&a.push(u[r]=o);v(null,p=[],a,n)}for(r=p.length;r--;)(o=p[r])&&-1<(a=v?M(e,o):s[r])&&(e[a]=!(t[a]=o))}}else p=ye(p===t?p.splice(c,p.length):p),v?v(null,t,p,n):L.apply(t,p)})}function we(g,v){function e(e,t,i,n,a){var r,o,s,l=0,c="0",d=e&&[],u=[],p=k,h=e||b&&w.find.TAG("*",a),f=T+=null==p?1:Math.random()||.1,m=h.length;for(a&&(k=t===$||t||a);c!==m&&null!=(r=h[c]);c++){if(b&&r){for(o=0,t||r.ownerDocument===$||(x(r),i=!C);s=g[o++];)if(s(r,t||$,i)){n.push(r);break}a&&(T=f)}y&&((r=!s&&r)&&l--,e&&d.push(r))}if(l+=c,y&&c!==l){for(o=0;s=v[o++];)s(d,u,t,i);if(e){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=I.call(n));u=ye(u)}L.apply(n,u),a&&!e&&0<u.length&&1<l+v.length&&re.uniqueSort(n)}return a&&(T=f,k=p),d}var y=0<v.length,b=0<g.length;return y?se(e):e}return fe.prototype=w.filters=w.pseudos,w.setFilters=new fe,f=re.tokenize=function(e,t){var i,n,a,r,o,s,l,c=D[e+" "];if(c)return t?0:c.slice(0);for(o=e,s=[],l=w.preFilter;o;){for(r in i&&!(n=z.exec(o))||(n&&(o=o.slice(n[0].length)||o),s.push(a=[])),i=!1,(n=Y.exec(o))&&(i=n.shift(),a.push({value:i,type:n[0].replace(U," ")}),o=o.slice(i.length)),w.filter)!(n=X[r].exec(o))||l[r]&&!(n=l[r](n))||(i=n.shift(),a.push({value:i,type:r,matches:n}),o=o.slice(i.length));if(!i)break}return t?o.length:o?re.error(e):D(e,s).slice(0)},p=re.compile=function(e,t){var i,n=[],a=[],r=A[e+" "];if(!r){for(i=(t=t||f(e)).length;i--;)((r=function e(t){for(var n,i,a,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],l=o?1:0,c=ge(function(e){return e===n},s,!0),d=ge(function(e){return-1<M(n,e)},s,!0),u=[function(e,t,i){return i=!o&&(i||t!==k)||((n=t).nodeType?c:d)(e,t,i),n=null,i}];l<r;l++)if(i=w.relative[t[l].type])u=[ge(ve(u),i)];else{if((i=w.filter[t[l].type].apply(null,t[l].matches))[S]){for(a=++l;a<r&&!w.relative[t[a].type];a++);return be(1<l&&ve(u),1<l&&me(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(U,"$1"),i,l<a&&e(t.slice(l,a)),a<r&&e(t=t.slice(a)),a<r&&me(t))}u.push(i)}return ve(u)}(t[i]))[S]?n:a).push(r);(r=A(e,we(a,n))).selector=e}return r},m=re.select=function(e,t,i,n){var a,r,o,s,l,c="function"==typeof e&&e,d=!n&&f(e=c.selector||e);if(i=i||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(o=r[0]).type&&h.getById&&9===t.nodeType&&C&&w.relative[r[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(te,u),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=X.needsContext.test(e)?0:r.length;a--&&(o=r[a],!w.relative[s=o.type]);)if((l=w.find[s])&&(n=l(o.matches[0].replace(te,u),ee.test(r[0].type)&&he(t.parentNode)||t))){if(r.splice(a,1),!(e=n.length&&me(r)))return L.apply(i,n),i;break}}return(c||p(e,d))(n,t,!C,i,!t||ee.test(e)&&he(t.parentNode)||t),i},h.sortStable=S.split("").sort(E).join("")===S,h.detectDuplicates=!!c,x(),h.sortDetached=le(function(e){return 1&e.compareDocumentPosition($.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(F,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),re}(x);C.find=w,C.expr=w.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=w.uniqueSort,C.text=w.getText,C.isXMLDoc=w.isXML,C.contains=w.contains,C.escapeSelector=w.escape;function k(e,t,i){for(var n=[],a=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&C(e).is(i))break;n.push(e)}return n}function S(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var T=C.expr.match.needsContext,_=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function A(e,i,n){if(C.isFunction(i))return C.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return C.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(D.test(i))return C.filter(i,e,n);i=C.filter(i,e)}return C.grep(e,function(e){return-1<a.call(i,e)!==n&&1===e.nodeType})}C.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?C.find.matchesSelector(n,e)?[n]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,i,n=this.length,a=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++)if(C.contains(a[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)C.find(e,a[t],i);return 1<n?C.uniqueSort(i):i},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&T.test(e)?C(e):e||[],!1).length}});var E,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,i){if(!e)return this;if(i=i||E,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==i.ready?i.ready(e):e(C):C.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:P.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),_.test(n[1])&&C.isPlainObject(t))for(var n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(e=$.getElementById(n[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn,E=C($);var I=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,a=this.length,r=[],o="string"!=typeof e&&C(e);if(!T.test(e))for(;n<a;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&C.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?a.call(C(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,i){return k(e,"parentNode",i)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,i){return k(e,"nextSibling",i)},prevUntil:function(e,t,i){return k(e,"previousSibling",i)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(n,a){C.fn[n]=function(e,t){var i=C.map(this,a,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=C.filter(t,i)),1<this.length&&(O[n]||C.uniqueSort(i),I.test(n)&&i.reverse()),this.pushStack(i)}});var R=/\S+/g;function M(e){return e}function F(e){throw e}function j(e,t,i){var n;try{e&&C.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&C.isFunction(n=e.then)?n.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}C.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},C.each(e.match(R)||[],function(e,t){i[t]=!0}),i):C.extend({},n);function a(){for(s=n.once,o=r=!0;c.length;d=-1)for(t=c.shift();++d<l.length;)!1===l[d].apply(t[0],t[1])&&n.stopOnFalse&&(d=l.length,t=!1);n.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,o,s,l=[],c=[],d=-1,u={add:function(){return l&&(t&&!r&&(d=l.length-1,c.push(t)),function i(e){C.each(e,function(e,t){C.isFunction(t)?n.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==C.type(t)&&i(t)})}(arguments),t&&!r&&a()),this},remove:function(){return C.each(arguments,function(e,t){for(var i;-1<(i=C.inArray(t,l,i));)l.splice(i,1),i<=d&&d--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||a()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},C.extend({Deferred:function(e){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],a="pending",o={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var a=arguments;return C.Deferred(function(n){C.each(r,function(e,t){var i=C.isFunction(a[t[4]])&&a[t[4]];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),a=null}).promise()},then:function(t,i,n){var l=0;function c(a,r,o,s){return function(){function e(){var e,t;if(!(a<l)){if((e=o.apply(i,n))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,C.isFunction(t)?s?t.call(e,c(l,r,M,s),c(l,r,F,s)):(l++,t.call(e,c(l,r,M,s),c(l,r,F,s),c(l,r,M,r.notifyWith))):(o!==M&&(i=void 0,n=[e]),(s||r.resolveWith)(i,n))}}var i=this,n=arguments,t=s?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=a+1&&(o!==F&&(i=void 0,n=[e]),r.rejectWith(i,n))}};a?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),x.setTimeout(t))}}return C.Deferred(function(e){r[0][3].add(c(0,e,C.isFunction(n)?n:M,e.notifyWith)),r[1][3].add(c(0,e,C.isFunction(t)?t:M)),r[2][3].add(c(0,e,C.isFunction(i)?i:F))}).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},s={};return C.each(r,function(e,t){var i=t[2],n=t[5];o[t[1]]=i.add,n&&i.add(function(){a=n},r[3-e][2].disable,r[0][2].lock),i.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=i.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){a[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--i||o.resolveWith(a,r)}}var i=arguments.length,n=i,a=Array(n),r=s.call(arguments),o=C.Deferred();if(i<=1&&(j(e,o.done(t(n)).resolve,o.reject),"pending"===o.state()||C.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)j(r[n],t(n),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){x.console&&x.console.warn&&e&&N.test(e.name)&&x.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)};var B=C.Deferred();function q(){$.removeEventListener("DOMContentLoaded",q),x.removeEventListener("load",q),C.ready()}C.fn.ready=function(e){return B.then(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||B.resolveWith($,[C])}}),C.ready.then=B.then,"complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll?x.setTimeout(C.ready):($.addEventListener("DOMContentLoaded",q),x.addEventListener("load",q));function H(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}var U=function(e,t,i,n,a,r,o){var s=0,l=e.length,c=null==i;if("object"===C.type(i))for(s in a=!0,i)U(e,t,s,i[s],!0,r,o);else if(void 0!==n&&(a=!0,C.isFunction(n)||(o=!0),c&&(t=o?(t.call(e,n),null):(c=t,function(e,t,i){return c.call(C(e),i)})),t))for(;s<l;s++)t(e[s],i,o?n:n.call(e[s],s,t(e[s],i)));return a?e:c?t.call(e):l?t(e[0],i):r};function z(){this.expando=C.expando+z.uid++}z.uid=1,z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},H(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,a=this.cache(e);if("string"==typeof t)a[C.camelCase(t)]=i;else for(n in t)a[C.camelCase(n)]=t[n];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][C.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=C.isArray(t)?t.map(C.camelCase):(t=C.camelCase(t))in n?[t]:t.match(R)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!C.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new z,V=new z,W=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function X(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:W.test(i)?JSON.parse(i):i)}catch(e){}V.set(e,t,i)}else i=void 0;return i}C.extend({hasData:function(e){return V.hasData(e)||Y.hasData(e)},data:function(e,t,i){return V.access(e,t,i)},removeData:function(e,t){V.remove(e,t)},_data:function(e,t,i){return Y.access(e,t,i)},_removeData:function(e,t){Y.remove(e,t)}}),C.fn.extend({data:function(i,e){var t,n,a,r=this[0],o=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){V.set(this,i)}):U(this,function(e){var t;return r&&void 0===e?void 0!==(t=V.get(r,i))||void 0!==(t=X(r,i))?t:void 0:void this.each(function(){V.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(a=V.get(r),1===r.nodeType&&!Y.get(r,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(n=o[t].name).indexOf("data-")&&(n=C.camelCase(n.slice(5)),X(r,n,a[n]));Y.set(r,"hasDataAttrs",!0)}return a},removeData:function(e){return this.each(function(){V.remove(this,e)})}}),C.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Y.get(e,t),i&&(!n||C.isArray(i)?n=Y.access(e,t,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=C.queue(e,t),n=i.length,a=i.shift(),r=C._queueHooks(e,t);"inprogress"===a&&(a=i.shift(),n--),a&&("fx"===t&&i.unshift("inprogress"),delete r.stop,a.call(e,function(){C.dequeue(e,t)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Y.get(e,i)||Y.access(e,i,{empty:C.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",i])})})}}),C.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===i?this:this.each(function(){var e=C.queue(this,t,i);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--a||r.resolveWith(o,[o])}var n,a=1,r=C.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Y.get(o[s],e+"queueHooks"))&&n.empty&&(a++,n.empty.add(i));return i(),r.promise(t)}});function G(e,t,i,n){var a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in n=i.apply(e,n||[]),t)e.style[a]=r[a];return n}var u=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+u+")([a-z%]*)$","i"),J=["Top","Right","Bottom","Left"],Z=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")};function ee(e,t,i,n){var a,r=1,o=20,s=n?function(){return n.cur()}:function(){return C.css(e,t,"")},l=s(),c=i&&i[3]||(C.cssNumber[t]?"":"px"),d=(C.cssNumber[t]||"px"!==c&&+l)&&K.exec(C.css(e,t));if(d&&d[3]!==c)for(c=c||d[3],i=i||[],d=+l||1;d/=r=r||".5",C.style(e,t,d+c),r!==(r=s()/l)&&1!==r&&--o;);return i&&(d=+d||+l||0,a=i[1]?d+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=d,n.end=a)),a}var te={};function ie(e,t){for(var i,n,a,r,o,s=[],l=0,c=e.length;l<c;l++)(n=e[l]).style&&(i=n.style.display,t?("none"===i&&(s[l]=Y.get(n,"display")||null,s[l]||(n.style.display="")),""===n.style.display&&Z(n)&&(s[l]=(o=r=void 0,r=(a=n).ownerDocument,o=a.nodeName,(a=te[o])||(r=r.body.appendChild(r.createElement(o)),a=C.css(r,"display"),r.parentNode.removeChild(r),"none"===a&&(a="block"),te[o]=a)))):"none"!==i&&(s[l]="none",Y.set(n,"display",i)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Z(this)?C(this).show():C(this).hide()})}});var ne=/^(?:checkbox|radio)$/i,ae=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,re=/^$|\/(?:java|ecma)script/i,oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C.nodeName(e,t)?C.merge([e],i):i}function le(e,t){for(var i=0,n=e.length;i<n;i++)Y.set(e[i],"globalEval",!t||Y.get(t[i],"globalEval"))}oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var ce=/<|&#?\w+;/;function de(e,t,i,n,a){for(var r,o,s,l,c,d=t.createDocumentFragment(),u=[],p=0,h=e.length;p<h;p++)if((r=e[p])||0===r)if("object"===C.type(r))C.merge(u,r.nodeType?[r]:r);else if(ce.test(r)){for(o=o||d.appendChild(t.createElement("div")),s=(ae.exec(r)||["",""])[1].toLowerCase(),s=oe[s]||oe._default,o.innerHTML=s[1]+C.htmlPrefilter(r)+s[2],c=s[0];c--;)o=o.lastChild;C.merge(u,o.childNodes),(o=d.firstChild).textContent=""}else u.push(t.createTextNode(r));for(d.textContent="",p=0;r=u[p++];)if(n&&-1<C.inArray(r,n))a&&a.push(r);else if(l=C.contains(r.ownerDocument,r),o=se(d.appendChild(r),"script"),l&&le(o),i)for(c=0;r=o[c++];)re.test(r.type||"")&&i.push(r);return d}t=$.createDocumentFragment().appendChild($.createElement("div")),(w=$.createElement("input")).setAttribute("type","radio"),w.setAttribute("checked","checked"),w.setAttribute("name","t"),t.appendChild(w),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var ue=$.documentElement,pe=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=/^([^.]*)(?:\.(.+)|)/;function me(){return!0}function ge(){return!1}function ve(){try{return $.activeElement}catch(e){}}function ye(e,t,i,n,a,r){var o,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)ye(e,s,i,n,t[s],r);return e}if(null==n&&null==a?(a=i,n=i=void 0):null==a&&("string"==typeof i?(a=n,n=void 0):(a=n,n=i,i=void 0)),!1===a)a=ge;else if(!a)return e;return 1===r&&(o=a,(a=function(e){return C().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=C.guid++)),e.each(function(){C.event.add(this,t,a,n,i)})}C.event={global:{},add:function(t,e,i,n,a){var r,o,s,l,c,d,u,p,h,f=Y.get(t);if(f)for(i.handler&&(i=(r=i).handler,a=r.selector),a&&C.find.matchesSelector(ue,a),i.guid||(i.guid=C.guid++),(s=f.events)||(s=f.events={}),(o=f.handle)||(o=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)u=h=(c=fe.exec(e[l])||[])[1],p=(c[2]||"").split(".").sort(),u&&(d=C.event.special[u]||{},u=(a?d.delegateType:d.bindType)||u,d=C.event.special[u]||{},c=C.extend({type:u,origType:h,data:n,handler:i,guid:i.guid,selector:a,needsContext:a&&C.expr.match.needsContext.test(a),namespace:p.join(".")},r),(h=s[u])||((h=s[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(u,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),a?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[u]=!0)},remove:function(e,t,i,n,a){var r,o,s,l,c,d,u,p,h,f,m,g=Y.hasData(e)&&Y.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(R)||[""]).length;c--;)if(h=m=(s=fe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=C.event.special[h]||{},p=l[h=(n?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)d=p[r],!a&&m!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(p.splice(r,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],i,n,!0);C.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,i,n,a,r,o=C.event.fix(e),s=new Array(arguments.length),l=(Y.get(this,"events")||{})[o.type]||[],e=C.event.special[o.type]||{};for(s[0]=o,t=1;t<arguments.length;t++)s[t]=arguments[t];if(o.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,o)){for(r=C.event.handlers.call(this,o,l),t=0;(n=r[t++])&&!o.isPropagationStopped();)for(o.currentTarget=n.elem,i=0;(a=n.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(a.namespace)||(o.handleObj=a,o.data=a.data,void 0!==(a=((C.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,s))&&!1===(o.result=a)&&(o.preventDefault(),o.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,o),o.result}},handlers:function(e,t){var i,n,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<s;i++)void 0===n[a=(r=t[i]).selector+" "]&&(n[a]=r.needsContext?-1<C(a,this).index(l):C.find(a,this,null,[l]).length),n[a]&&n.push(r);n.length&&o.push({elem:l,handlers:n})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:C.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ve()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ve()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?me:ge,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ge,isPropagationStopped:ge,isImmediatePropagationStopped:ge,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&pe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&he.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){C.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=a),t}}}),C.fn.extend({on:function(e,t,i,n){return ye(this,e,t,i,n)},one:function(e,t,i,n){return ye(this,e,t,i,n,1)},off:function(e,t,i){var n,a;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,C(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ge),this.each(function(){C.event.remove(this,e,i,t)});for(a in e)this.off(a,t,e[a]);return this}});var be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,we=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ce(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function Se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){var t=xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _e(e,t){var i,n,a,r,o,s;if(1===t.nodeType){if(Y.hasData(e)&&(r=Y.access(e),o=Y.set(t,r),s=r.events))for(a in delete o.handle,o.events={},s)for(i=0,n=s[a].length;i<n;i++)C.event.add(t,a,s[a][i]);V.hasData(e)&&(e=V.access(e),e=C.extend({},e),V.set(t,e))}}function De(i,n,a,r){n=m.apply([],n);var e,t,o,s,l,c,d=0,u=i.length,p=u-1,h=n[0],f=C.isFunction(h);if(f||1<u&&"string"==typeof h&&!g.checkClone&&ke.test(h))return i.each(function(e){var t=i.eq(e);f&&(n[0]=h.call(this,e,t.html())),De(t,n,a,r)});if(u&&(t=(e=de(n,i[0].ownerDocument,!1,i,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(s=(o=C.map(se(e,"script"),Se)).length;d<u;d++)l=e,d!==p&&(l=C.clone(l,!0,!0),s&&C.merge(o,se(l,"script"))),a.call(i[d],l,d);if(s)for(c=o[o.length-1].ownerDocument,C.map(o,Te),d=0;d<s;d++)l=o[d],re.test(l.type||"")&&!Y.access(l,"globalEval")&&C.contains(c,l)&&(l.src?C._evalUrl&&C._evalUrl(l.src):v(l.textContent.replace($e,""),c))}return i}function Ae(e,t,i){for(var n,a=t?C.filter(t,e):e,r=0;null!=(n=a[r]);r++)i||1!==n.nodeType||C.cleanData(se(n)),n.parentNode&&(i&&C.contains(n.ownerDocument,n)&&le(se(n,"script")),n.parentNode.removeChild(n));return e}C.extend({htmlPrefilter:function(e){return e.replace(be,"<$1></$2>")},clone:function(e,t,i){var n,a,r,o,s,l,c,d=e.cloneNode(!0),u=C.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(o=se(d),n=0,a=(r=se(e)).length;n<a;n++)s=r[n],l=o[n],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ne.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(i)for(r=r||se(e),o=o||se(d),n=0,a=r.length;n<a;n++)_e(r[n],o[n]);else _e(e,d);return 0<(o=se(d,"script")).length&&le(o,!u&&se(e,"script")),d},cleanData:function(e){for(var t,i,n,a=C.event.special,r=0;void 0!==(i=e[r]);r++)if(H(i)){if(t=i[Y.expando]){if(t.events)for(n in t.events)a[n]?C.event.remove(i,n):C.removeEvent(i,n,t.handle);i[Y.expando]=void 0}i[V.expando]&&(i[V.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ae(this,e,!0)},remove:function(e){return Ae(this,e)},text:function(e){return U(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ce(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ce(this,e)).insertBefore(e,t.firstChild)})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!we.test(e)&&!oe[(ae.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return De(this,arguments,function(e){var t=this.parentNode;C.inArray(this,i)<0&&(C.cleanData(se(this)),t&&t.replaceChild(e,this))},i)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){C.fn[e]=function(e){for(var t,i=[],n=C(e),a=n.length-1,r=0;r<=a;r++)t=r===a?this:this.clone(!0),C(n[r])[o](t),l.apply(i,t.get());return this.pushStack(i)}});var Ee,Pe,Ie,Oe,Le,Re,Me=/^margin/,Fe=new RegExp("^("+u+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=x),t.getComputedStyle(e)};function Ne(){var e;Re&&(Re.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Re.innerHTML="",ue.appendChild(Le),e=x.getComputedStyle(Re),Ee="1%"!==e.top,Oe="2px"===e.marginLeft,Pe="4px"===e.width,Re.style.marginRight="50%",Ie="4px"===e.marginRight,ue.removeChild(Le),Re=null)}function Be(e,t,i){var n,a,r=e.style;return(i=i||je(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||C.contains(e.ownerDocument,e)||(a=C.style(e,t)),!g.pixelMarginRight()&&Fe.test(a)&&Me.test(t)&&(n=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=i.width,r.width=n,r.minWidth=e,r.maxWidth=t)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Le=$.createElement("div"),(Re=$.createElement("div")).style&&(Re.style.backgroundClip="content-box",Re.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Re.style.backgroundClip,Le.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",Le.appendChild(Re),C.extend(g,{pixelPosition:function(){return Ne(),Ee},boxSizingReliable:function(){return Ne(),Pe},pixelMarginRight:function(){return Ne(),Ie},reliableMarginLeft:function(){return Ne(),Oe}}));var He=/^(none|table(?!-c[ea]).+)/,Ue={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","Moz","ms"],Ve=$.createElement("div").style;function We(e){if(e in Ve)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Ye.length;i--;)if((e=Ye[i]+t)in Ve)return e}function Qe(e,t,i){var n=K.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Xe(e,t,i,n,a){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=C.css(e,i+J[r],!0,a)),n?("content"===i&&(o-=C.css(e,"padding"+J[r],!0,a)),"margin"!==i&&(o-=C.css(e,"border"+J[r]+"Width",!0,a))):(o+=C.css(e,"padding"+J[r],!0,a),"padding"!==i&&(o+=C.css(e,"border"+J[r]+"Width",!0,a)));return o}function Ge(e,t,i){var n,a=!0,r=je(e),o="border-box"===C.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(n=e.getBoundingClientRect()[t]),n<=0||null==n){if(((n=Be(e,t,r))<0||null==n)&&(n=e.style[t]),Fe.test(n))return n;a=o&&(g.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+Xe(e,t,i||(o?"border":"content"),a,r)+"px"}function Ke(e,t,i,n,a){return new Ke.prototype.init(e,t,i,n,a)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Be(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=We(s)||s),o=C.cssHooks[t]||C.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(a=o.get(e,!1,n))?a:l[t];"string"===(r=typeof i)&&(a=K.exec(i))&&a[1]&&(i=ee(e,t,a),r="number"),null!=i&&i==i&&("number"===r&&(i+=a&&a[3]||(C.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i))}},css:function(e,t,i,n){var a,r=C.camelCase(t);return t=C.cssProps[r]||(C.cssProps[r]=We(r)||r),(r=C.cssHooks[t]||C.cssHooks[r])&&"get"in r&&(a=r.get(e,!0,i)),void 0===a&&(a=Be(e,t,n)),"normal"===a&&t in ze&&(a=ze[t]),""===i||i?(t=parseFloat(a),!0===i||isFinite(t)?t||0:a):a}}),C.each(["height","width"],function(e,r){C.cssHooks[r]={get:function(e,t,i){if(t)return!He.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ge(e,r,i):G(e,Ue,function(){return Ge(e,r,i)})},set:function(e,t,i){var n,a=i&&je(e),a=i&&Xe(e,r,i,"border-box"===C.css(e,"boxSizing",!1,a),a);return a&&(n=K.exec(t))&&"px"!==(n[3]||"px")&&(e.style[r]=t,t=C.css(e,r)),Qe(0,t,a)}}}),C.cssHooks.marginLeft=qe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-G(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(a,r){C.cssHooks[a+r]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[a+J[t]+r]=n[t]||n[t-2]||n[0];return i}},Me.test(a)||(C.cssHooks[a+r].set=Qe)}),C.fn.extend({css:function(e,t){return U(this,function(e,t,i){var n,a,r={},o=0;if(C.isArray(t)){for(n=je(e),a=t.length;o<a;o++)r[t[o]]=C.css(e,t[o],!1,n);return r}return void 0!==i?C.style(e,t,i):C.css(e,t)},e,t,1<arguments.length)}}),(C.Tween=Ke).prototype={constructor:Ke,init:function(e,t,i,n,a,r){this.elem=e,this.prop=i,this.easing=a||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(C.cssNumber[i]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return(e&&e.get?e:Ke.propHooks._default).get(this)},run:function(e){var t,i=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:Ke.propHooks._default).set(this),this}},Ke.prototype.init.prototype=Ke.prototype,Ke.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},Ke.propHooks.scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=Ke.prototype.init,C.fx.step={};var Je,Ze,et=/^(?:toggle|show|hide)$/,tt=/queueHooks$/;function it(){Ze&&(x.requestAnimationFrame(it),C.fx.tick())}function nt(){return x.setTimeout(function(){Je=void 0}),Je=C.now()}function at(e,t){var i,n=0,a={height:e};for(t=t?1:0;n<4;n+=2-t)a["margin"+(i=J[n])]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function rt(e,t,i){for(var n,a=(ot.tweeners[t]||[]).concat(ot.tweeners["*"]),r=0,o=a.length;r<o;r++)if(n=a[r].call(i,t,e))return n}function ot(a,e,t){var i,r,n=0,o=ot.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Je||nt(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),i=0,n=c.tweens.length;i<n;i++)c.tweens[i].run(t);return s.notifyWith(a,[c,t,e]),t<1&&n?e:(s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:Je||nt(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(a,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;t<i;t++)c.tweens[t].run(1);return e?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,e])):s.rejectWith(a,[c,e]),this}}),d=c.props;for(!function(e,t){var i,n,a,r,o;for(i in e)if(a=t[n=C.camelCase(i)],r=e[i],C.isArray(r)&&(a=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),(o=C.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete e[n],r)i in e||(e[i]=r[i],t[i]=a);else t[n]=a}(d,c.opts.specialEasing);n<o;n++)if(i=ot.prefilters[n].call(c,a,d,c.opts))return C.isFunction(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=C.proxy(i.stop,i)),i;return C.map(d,rt,c),C.isFunction(c.opts.start)&&c.opts.start.call(a,c),C.fx.timer(C.extend(l,{elem:a,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(ot,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ee(i.elem,e,K.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,a=(e=C.isFunction(e)?(t=e,["*"]):e.match(R)).length;n<a;n++)i=e[n],ot.tweeners[i]=ot.tweeners[i]||[],ot.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,a,r,o,s,l,c,d="width"in t||"height"in t,u=this,p={},h=e.style,f=e.nodeType&&Z(e),m=Y.get(e,"fxshow");for(n in i.queue||(null==(o=C._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,C.queue(e,"fx").length||o.empty.fire()})})),t)if(a=t[n],et.test(a)){if(delete t[n],r=r||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||C.style(e,n)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=Y.get(e,"display")),"none"===(d=C.css(e,"display"))&&(c?d=c:(ie([e],!0),c=e.style.display||c,d=C.css(e,"display"),ie([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(e,"float")&&(l||(u.done(function(){h.display=c}),null==c&&(d=h.display,c="none"===d?"":d)),h.display="inline-block")),i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=Y.access(e,"fxshow",{display:c}),r&&(m.hidden=!f),f&&ie([e],!0),u.done(function(){for(n in f||ie([e]),Y.remove(e,"fxshow"),p)C.style(e,n,p[n])})),l=rt(f?m[n]:0,n,u),n in m||(m[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ot.prefilters.unshift(e):ot.prefilters.push(e)}}),C.speed=function(e,t,i){var n=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||C.isFunction(e)&&e,duration:e,easing:i&&t||t&&!C.isFunction(t)&&t};return C.fx.off||$.hidden?n.duration=0:n.duration="number"==typeof n.duration?n.duration:n.duration in C.fx.speeds?C.fx.speeds[n.duration]:C.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){C.isFunction(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Z).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var a=C.isEmptyObject(t),r=C.speed(e,i,n),n=function(){var e=ot(this,C.extend({},t),r);(a||Y.get(this,"finish"))&&e.stop(!0)};return n.finish=n,a||!1===r.queue?this.each(n):this.queue(r.queue,n)},stop:function(a,e,r){function o(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof a&&(r=e,e=a,a=void 0),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var e=!0,t=null!=a&&a+"queueHooks",i=C.timers,n=Y.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&tt.test(t)&&o(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=a&&i[t].queue!==a||(i[t].anim.stop(r),e=!1,i.splice(t,1));!e&&r||C.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=Y.get(this),i=t[o+"queue"],n=t[o+"queueHooks"],a=C.timers,r=i?i.length:0;for(t.finish=!0,C.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===o&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<r;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,n){var a=C.fn[n];C.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(at(n,!0),e,t,i)}}),C.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){C.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),C.timers=[],C.fx.tick=function(){var e,t=0,i=C.timers;for(Je=C.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||C.fx.stop(),Je=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Ze=Ze||(x.requestAnimationFrame?x.requestAnimationFrame(it):x.setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){x.cancelAnimationFrame?x.cancelAnimationFrame(Ze):x.clearInterval(Ze),Ze=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,e){return n=C.fx&&C.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=x.setTimeout(e,n);t.stop=function(){x.clearTimeout(i)}})},t=$.createElement("input"),u=$.createElement("select").appendChild($.createElement("option")),t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=u.selected,(t=$.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value;var st,lt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return U(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,i):(1===r&&C.isXMLDoc(e)||(a=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?st:void 0)),void 0!==i?null===i?void C.removeAttr(e,t):a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(a&&"get"in a&&null!==(n=a.get(e,t)))&&null==(n=C.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,a=t&&t.match(R);if(a&&1===e.nodeType)for(;i=a[n++];)e.removeAttribute(i)}}),st={set:function(e,t,i){return!1===t?C.removeAttr(e,i):e.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=lt[t]||C.find.attr;lt[t]=function(e,t,i){var n,a,r=t.toLowerCase();return i||(a=lt[r],lt[r]=n,n=null!=o(e,t,i)?r:null,lt[r]=a),n}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return U(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,i){var n,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(t=C.propFix[t]||t,a=C.propHooks[t]),void 0!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:e[t]=i:a&&"get"in a&&null!==(n=a.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;function pt(e){return e.getAttribute&&e.getAttribute("class")||""}C.fn.extend({addClass:function(t){var e,i,n,a,r,o,s=0;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,pt(this)))});if("string"==typeof t&&t)for(e=t.match(R)||[];i=this[s++];)if(o=pt(i),n=1===i.nodeType&&(" "+o+" ").replace(ut," ")){for(r=0;a=e[r++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");o!==(o=C.trim(n))&&i.setAttribute("class",o)}return this},removeClass:function(t){var e,i,n,a,r,o,s=0;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,pt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(R)||[];i=this[s++];)if(o=pt(i),n=1===i.nodeType&&(" "+o+" ").replace(ut," ")){for(r=0;a=e[r++];)for(;-1<n.indexOf(" "+a+" ");)n=n.replace(" "+a+" "," ");o!==(o=C.trim(n))&&i.setAttribute("class",o)}return this},toggleClass:function(a,t){var r=typeof a;return"boolean"==typeof t&&"string"==r?t?this.addClass(a):this.removeClass(a):C.isFunction(a)?this.each(function(e){C(this).toggleClass(a.call(this,e,pt(this),t),t)}):this.each(function(){var e,t,i,n;if("string"==r)for(t=0,i=C(this),n=a.match(R)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==a&&"boolean"!=r||((e=pt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==a&&Y.get(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+pt(t)+" ").replace(ut," ").indexOf(n))return!0;return!1}});var ht=/\r/g,ft=/[\x20\t\r\n\f]+/g;C.fn.extend({val:function(t){var i,e,n,a=this[0];return arguments.length?(n=C.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):a?(i=C.valHooks[a.type]||C.valHooks[a.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(a,"value"))?e:"string"==typeof(e=a.value)?e.replace(ht,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,a="select-one"===e.type,r=a?null:[],o=a?n+1:i.length,s=n<0?o:a?n:0;s<o;s++)if(((t=i[s]).selected||s===n)&&!t.disabled&&(!t.parentNode.disabled||!C.nodeName(t.parentNode,"optgroup"))){if(t=C(t).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var i,n,a=e.options,r=C.makeArray(t),o=a.length;o--;)((n=a[o]).selected=-1<C.inArray(C.valHooks.option.get(n),r))&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,i,n){var a,r,o,s,l,c,d=[i||$],u=f.call(e,"type")?e.type:e,p=f.call(e,"namespace")?e.namespace.split("."):[],h=r=i=i||$;if(3!==i.nodeType&&8!==i.nodeType&&!mt.test(u+C.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),s=u.indexOf(":")<0&&"on"+u,(e=e[C.expando]?e:new C.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[u]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!C.isWindow(i)){for(o=c.delegateType||u,mt.test(o+u)||(h=h.parentNode);h;h=h.parentNode)d.push(h),r=h;r===(i.ownerDocument||$)&&d.push(r.defaultView||r.parentWindow||x)}for(a=0;(h=d[a++])&&!e.isPropagationStopped();)e.type=1<a?o:c.bindType||u,(l=(Y.get(h,"events")||{})[e.type]&&Y.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&H(h)&&(e.result=l.apply(h,t),!1===e.result&&e.preventDefault());return e.type=u,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!H(i)||s&&C.isFunction(i[u])&&!C.isWindow(i)&&((r=i[s])&&(i[s]=null),i[C.event.triggered=u](),C.event.triggered=void 0,r&&(i[s]=r)),e.result}},simulate:function(e,t,i){e=C.extend(new C.Event,i,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){C.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),g.focusin="onfocusin"in x,g.focusin||C.each({focus:"focusin",blur:"focusout"},function(i,n){function a(e){C.event.simulate(n,e.target,C.event.fix(e))}C.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=Y.access(e,n);t||e.addEventListener(i,a,!0),Y.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Y.access(e,n)-1;t?Y.access(e,n,t):(e.removeEventListener(i,a,!0),Y.remove(e,n))}}});var gt=x.location,vt=C.now(),yt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new x.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var bt=/\[\]$/,wt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function i(e,t){t=C.isFunction(t)?t():t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,a=[];if(C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,a,r){if(C.isArray(e))C.each(e,function(e,t){a||bt.test(n)?r(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,a,r)});else if(a||"object"!==C.type(e))r(n,e);else for(var t in e)i(n+"["+t+"]",e[t],a,r)}(n,e[n],t,i);return a.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&xt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ne.test(e))}).map(function(e,t){var i=C(this).val();return null==i?null:C.isArray(i)?C.map(i,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:i.replace(wt,"\r\n")}}).get()}});var $t=/%20/g,Ct=/#.*$/,St=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:GET|HEAD)$/,Dt=/^\/\//,At={},Et={},Pt="*/".concat("*"),It=$.createElement("a");function Ot(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,a=e.toLowerCase().match(R)||[];if(C.isFunction(t))for(;i=a[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(t)):(r[i]=r[i]||[]).push(t)}}function Lt(t,n,a,r){var o={},s=t===Et;function l(e){var i;return o[e]=!0,C.each(t[e]||[],function(e,t){t=t(n,a,r);return"string"!=typeof t||s||o[t]?s?!(i=t):void 0:(n.dataTypes.unshift(t),l(t),!1)}),i}return l(n.dataTypes[0])||!o["*"]&&l("*")}function Rt(e,t){var i,n,a=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((a[i]?e:n=n||{})[i]=t[i]);return n&&C.extend(!0,e,n),e}It.href=gt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rt(Rt(e,C.ajaxSettings),t):Rt(C.ajaxSettings,e)},ajaxPrefilter:Ot(At),ajaxTransport:Ot(Et),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,c,d,i,u,n,p,h,a,f=C.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=f.statusCode||{},r={},o={},s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!i)for(i={};t=Tt.exec(d);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){if(e)if(p)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),k(0,e),this}};if(v.promise(w),f.url=((e||f.url||gt.href)+"").replace(Dt,gt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(R)||[""],null==f.crossDomain){n=$.createElement("a");try{n.href=f.url,n.href=n.href,f.crossDomain=It.protocol+"//"+It.host!=n.protocol+"//"+n.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Lt(At,f,t,w),p)return w;for(a in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!_t.test(f.type),c=f.url.replace(Ct,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace($t,"+")):(e=f.url.slice(c.length),f.data&&(c+=(yt.test(c)?"&":"?")+f.data,delete f.data),!1===f.cache&&(c=c.replace(St,""),e=(yt.test(c)?"&":"?")+"_="+vt+++e),f.url=c+e),f.ifModified&&(C.lastModified[c]&&w.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&w.setRequestHeader("If-None-Match",C.etag[c])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Pt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(!1===f.beforeSend.call(m,w,f)||p))return w.abort();if(s="abort",y.add(f.complete),w.done(f.success),w.fail(f.error),l=Lt(Et,f,t,w)){if(w.readyState=1,h&&g.trigger("ajaxSend",[w,f]),p)return w;f.async&&0<f.timeout&&(u=x.setTimeout(function(){w.abort("timeout")},f.timeout));try{p=!1,l.send(r,k)}catch(e){if(p)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,i,n){var a,r,o,s=t;p||(p=!0,u&&x.clearTimeout(u),l=void 0,d=n||"",w.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(o=function(e,t,i){for(var n,a,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(a in s)if(s[a]&&s[a].test(n)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}o=o||a}r=r||o}if(r)return r!==l[0]&&l.unshift(r),i[r]}(f,w,i)),o=function(e,t,i,n){var a,r,o,s,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(a in c)if(s=a.split(" "),s[1]===r&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[a]:!0!==c[a]&&(r=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,o,w,n),n?(f.ifModified&&((i=w.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=i),(i=w.getResponseHeader("etag"))&&(C.etag[c]=i)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=o.state,a=o.data,n=!(r=o.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",n?v.resolveWith(m,[a,s,w]):v.rejectWith(m,[w,s,r]),w.statusCode(b),b=void 0,h&&g.trigger(n?"ajaxSuccess":"ajaxError",[w,f,n?a:r]),y.fireWith(m,[w,s]),h&&(g.trigger("ajaxComplete",[w,f]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,a){C[a]=function(e,t,i,n){return C.isFunction(t)&&(n=n||i,i=t,t=void 0),C.ajax(C.extend({url:e,type:a,dataType:n,data:t,success:i},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){return this[0]&&(C.isFunction(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return C.isFunction(i)?this.each(function(e){C(this).wrapInner(i.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=C.isFunction(t);return this.each(function(e){C(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},Ft=C.ajaxSettings.xhr();g.cors=!!Ft&&"withCredentials"in Ft,g.ajax=Ft=!!Ft,C.ajaxTransport(function(a){var r,o;if(g.cors||Ft&&!a.crossDomain)return{send:function(e,t){var i,n=a.xhr();if(n.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(i in a.xhrFields)n[i]=a.xhrFields[i];for(i in a.mimeType&&n.overrideMimeType&&n.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);r=function(e){return function(){r&&(r=o=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Mt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),o=n.onerror=r("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&x.setTimeout(function(){r&&o()})},r=r("abort");try{n.send(a.hasContent&&a.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(i){var n,a;if(i.crossDomain)return{send:function(e,t){n=C("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",a=function(e){n.remove(),a=null,e&&t("error"===e.type?404:200,e.type)}),$.head.appendChild(n[0])},abort:function(){a&&a()}}});var jt=[],Nt=/(=)\?(?=&|$)|\?\?/;function Bt(e){return C.isWindow(e)?e:9===e.nodeType&&e.defaultView}C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||C.expando+"_"+vt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var n,a,r,o=!1!==e.jsonp&&(Nt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Nt,"$1"+n):!1!==e.jsonp&&(e.url+=(yt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return r||C.error(n+" was not called"),r[0]},e.dataTypes[0]="json",a=x[n],x[n]=function(){r=arguments},i.always(function(){void 0===a?C(x).removeProp(n):x[n]=a,e[n]&&(e.jsonpCallback=t.jsonpCallback,jt.push(n)),r&&C.isFunction(a)&&a(r[0]),r=a=void 0}),"script"}),g.createHTMLDocument=((t=$.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(g.createHTMLDocument?((n=(t=$.implementation.createHTMLDocument("")).createElement("base")).href=$.location.href,t.head.appendChild(n)):t=$),n=!i&&[],(i=_.exec(e))?[t.createElement(i[1])]:(i=de([e],t,n),n&&n.length&&C(n).remove(),C.merge([],i.childNodes)));var n},C.fn.load=function(e,t,i){var n,a,r,o=this,s=e.indexOf(" ");return-1<s&&(n=C.trim(e.slice(s)),e=e.slice(0,s)),C.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(a="POST"),0<o.length&&C.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?C("<div>").append(C.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,i){var n,a,r,o,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),n=C.css(e,"top"),o=C.css(e,"left"),o=("absolute"===s||"fixed"===s)&&-1<(n+o).indexOf("auto")?(a=(s=l.position()).top,s.left):(a=parseFloat(n)||0,parseFloat(o)||0),C.isFunction(t)&&(t=t.call(e,i,C.extend({},r))),null!=t.top&&(c.top=t.top-r.top+a),null!=t.left&&(c.left=t.left-r.left+o),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect()).width||e.height?(n=Bt(i=n.ownerDocument),i=i.documentElement,{top:e.top+n.pageYOffset-i.clientTop,left:e.left+n.pageXOffset-i.clientLeft}):e:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===C.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n={top:n.top+C.css(e[0],"borderTopWidth",!0),left:n.left+C.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-C.css(i,"marginTop",!0),left:t.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ue})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,a){var r="pageYOffset"===a;C.fn[t]=function(e){return U(this,function(e,t,i){var n=Bt(e);if(void 0===i)return n?n[a]:e[t];n?n.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):e[t]=i},t,e,arguments.length)}}),C.each(["top","left"],function(e,i){C.cssHooks[i]=qe(g.pixelPosition,function(e,t){if(t)return t=Be(e,i),Fe.test(t)?C(e).position()[i]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,s){C.each({padding:"inner"+o,content:s,"":"outer"+o},function(n,r){C.fn[r]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),a=n||(!0===e||!0===t?"margin":"border");return U(this,function(e,t,i){var n;return C.isWindow(e)?0===r.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?C.css(e,t,a):C.style(e,t,i,a)},s,i?e:void 0,i)}})}),C.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),C.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var qt=x.jQuery,Ht=x.$;return C.noConflict=function(e){return x.$===C&&(x.$=Ht),e&&x.jQuery===C&&(x.jQuery=qt),C},e||(x.jQuery=x.$=C),C}),function(){function r(e,t){return function(){return e.apply(t,arguments)}}var l,c,o,a,i,v,e,d,y,n,s,u,t,p,b,w,h,f,m,g,k,x,C,S,T,_,D,A,E,P,I,O,L,R,M,F,j,N,B,q,H,U,z,Y,V,W,Q=[].slice,X={}.hasOwnProperty,G=function(e,t){for(var i in t)X.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},K=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};function J(){}for(f={className:"",catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},_=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,h=window.cancelAnimationFrame||window.mozCancelAnimationFrame,u=function(e,t,i){return"function"==typeof e.addEventListener?e.addEventListener(t,i,!1):("function"!=typeof e["on"+t]||"object"!=typeof e["on"+t].eventListeners?(n=new a,"function"==typeof e["on"+t]&&n.on(t,e["on"+t]),e["on"+t]=function(e){return n.trigger(t,e)},e["on"+t].eventListeners=n):n=e["on"+t].eventListeners,void n.on(t,i));var n},null==A&&(A=function(e){return setTimeout(e,50)},h=function(e){return clearTimeout(e)}),P=function(t){var i=_(),n=function(){var e=_()-i;return 33<=e?(i=_(),t(e,function(){return A(n)})):setTimeout(n,33-e)};return n()},E=function(){var e=arguments[0],t=arguments[1],i=3<=arguments.length?Q.call(arguments,2):[];return"function"==typeof e[t]?e[t].apply(e,i):e[t]},m=function(){for(var e,t,i,n=arguments[0],a=2<=arguments.length?Q.call(arguments,1):[],r=0,o=a.length;r<o;r++)if(t=a[r])for(e in t)X.call(t,e)&&(i=t[e],null!=n[e]&&"object"==typeof n[e]&&null!=i&&"object"==typeof i?m(n[e],i):n[e]=i);return n},p=function(e){for(var t,i,n=t=0,a=0,r=e.length;a<r;a++)i=e[a],n+=Math.abs(i),t++;return n/t},k=function(e,t){var i,n;if(null==e&&(e="options"),null==t&&(t=!0),n=document.querySelector("[data-pace-"+e+"]")){if(i=n.getAttribute("data-pace-"+e),!t)return i;try{return JSON.parse(i)}catch(e){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",e):void 0}}},J.prototype.on=function(e,t,i,n){var a;return null==n&&(n=!1),null==this.bindings&&(this.bindings={}),null==(a=this.bindings)[e]&&(a[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})},J.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},J.prototype.off=function(e,t){var i,n,a;if(null!=(null!=(n=this.bindings)?n[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,a=[];i<this.bindings[e].length;)this.bindings[e][i].handler===t?a.push(this.bindings[e].splice(i,1)):a.push(i++);return a}},J.prototype.trigger=function(){var e,t,i,n,a,r,o=arguments[0],s=2<=arguments.length?Q.call(arguments,1):[];if(null!=(n=this.bindings)&&n[o]){for(i=0,r=[];i<this.bindings[o].length;)t=(a=this.bindings[o][i]).handler,e=a.ctx,a=a.once,t.apply(null!=e?e:this,s),a?r.push(this.bindings[o].splice(i,1)):r.push(i++);return r}},W=J,v=window.Pace||{},window.Pace=v,m(v,W.prototype),D=v.options=m({},f,window.paceOptions,k()),q=0,U=(Y=["ajax","document","eventLag","elements"]).length;q<U;q++)!0===D[R=Y[q]]&&(D[R]=f[R]);function Z(){return Z.__super__.constructor.apply(this,arguments)}function ee(){this.progress=0,this.$body=$("body")}function te(){this.bindings={}}function ie(){var t,r=this;ie.__super__.constructor.apply(this,arguments),t=function(n){var a=n.open;return n.open=function(e,t,i){return L(e)&&r.trigger("request",{type:e,url:t,request:n}),a.apply(n,arguments)}},window.XMLHttpRequest=function(e){e=new B(e);return t(e),e};try{g(window.XMLHttpRequest,B)}catch(e){}if(null!=N){window.XDomainRequest=function(){var e=new N;return t(e),e};try{g(window.XDomainRequest,N)}catch(e){}}if(null!=j&&D.ajax.trackWebSockets){window.WebSocket=function(e,t){var i=null!=t?new j(e,t):new j(e);return L("socket")&&r.trigger("request",{type:"socket",url:e,protocols:t,request:i}),i};try{g(window.WebSocket,j)}catch(e){}}}function ne(){this.complete=r(this.complete,this);var e=this;this.elements=[],x().on("request",function(){return e.watch.apply(e,arguments)})}function ae(e){var t,i,n,a;for(null==e&&(e={}),this.complete=r(this.complete,this),this.elements=[],null==e.selectors&&(e.selectors=[]),i=0,n=(a=e.selectors).length;i<n;i++)t=a[i],this.elements.push(new o(t,this.complete))}function re(e,t){this.selector=e,this.completeCallback=t,this.progress=0,this.check()}function oe(){var e,t,i=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=i.states[document.readyState]&&(i.progress=i.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}function se(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}W=Error,G(Z,W),i=Z,ee.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(D.target)))throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ");var t=""!==D.className?" "+D.className:"";this.el.innerHTML='<div class="pace-progress'+t+'">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},ee.prototype.finish=function(){var e=this.getElement();return e.className=e.className.replace("pace-active","pace-inactive"),this.$body.removeClass("pace-running").addClass("pace-done"),document.body.className},ee.prototype.update=function(e){return this.progress=e,v.trigger("progress",e),this.render()},ee.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){i=e}return this.el=void 0},ee.prototype.render=function(){var e,t,i,n,a,r,o;if(null==document.querySelector(D.target))return!1;for(e=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",a=0,r=(o=["webkitTransform","msTransform","transform"]).length;a<r;a++)t=o[a],e.children[0].style[t]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?i="99":(i=this.progress<10?"0":"",i+=0|this.progress),e.children[0].setAttribute("data-progress",""+i)),v.trigger("change",this.progress),this.lastRenderedProgress=this.progress},ee.prototype.done=function(){return 100<=this.progress},c=ee,te.prototype.trigger=function(e,t){var i,n,a,r,o;if(null!=this.bindings[e]){for(o=[],n=0,a=(r=this.bindings[e]).length;n<a;n++)i=r[n],o.push(i.call(this,t));return o}},te.prototype.on=function(e,t){var i;return null==(i=this.bindings)[e]&&(i[e]=[]),this.bindings[e].push(t)},a=te,B=window.XMLHttpRequest,N=window.XDomainRequest,j=window.WebSocket,g=function(e,t){var i,n=[];for(i in t.prototype)try{null==e[i]&&"function"!=typeof t[i]?"function"==typeof Object.defineProperty?n.push(Object.defineProperty(e,i,{get:function(e){return function(){return t.prototype[e]}}(i),configurable:!0,enumerable:!0})):n.push(e[i]=t.prototype[i]):n.push(void 0)}catch(e){0}return n},S=[],v.ignore=function(){var e=arguments[0],t=2<=arguments.length?Q.call(arguments,1):[];return S.unshift("ignore"),t=e.apply(null,t),S.shift(),t},v.track=function(){var e=arguments[0],t=2<=arguments.length?Q.call(arguments,1):[];return S.unshift("track"),t=e.apply(null,t),S.shift(),t},L=function(e){if(null==e&&(e="GET"),"track"===S[0])return"force";if(!S.length&&D.ajax){if("socket"===e&&D.ajax.trackWebSockets)return!0;if(e=e.toUpperCase(),0<=K.call(D.ajax.trackMethods,e))return!0}return!1},G(ie,a),e=ie,H=null,O=function(e){for(var t,i=D.ajax.ignoreURLs,n=0,a=i.length;n<a;n++)if("string"==typeof(t=i[n])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(x=function(){return null==H&&(H=new e),H})().on("request",function(e){var r,o=e.type,s=e.request,t=e.url;if(!O(t))return v.running||!1===D.restartOnRequestAfter&&"force"!==L(o)?void 0:(r=arguments,"boolean"==typeof(t=D.restartOnRequestAfter||0)&&(t=0),setTimeout(function(){var e,t,i,n,a="socket"===o?s.readyState<1:0<(a=s.readyState)&&a<4;if(a){for(v.restart(),n=[],e=0,t=(i=v.sources).length;e<t;e++){if((R=i[e])instanceof l){R.watch.apply(R,r);break}n.push(void 0)}return n}},t))}),ne.prototype.watch=function(e){var t=e.type,i=e.request,e=e.url;if(!O(e))return i=new("socket"===t?n:s)(i,this.complete),this.elements.push(i)},ne.prototype.complete=function(t){return this.elements=this.elements.filter(function(e){return e!==t})},l=ne,s=function(t,i){var e,n,a,r,o=this;if(this.progress=0,null!=window.ProgressEvent)for(u(t,"progress",function(e){return e.lengthComputable?o.progress=100*e.loaded/e.total:o.progress=o.progress+(100-o.progress)/2}),e=0,n=(r=["load","abort","timeout","error"]).length;e<n;e++)u(t,r[e],function(){return i(o),o.progress=100});else a=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?(i(o),o.progress=100):3===t.readyState&&(o.progress=50),"function"==typeof a?a.apply(null,arguments):void 0}},n=function(e,t){for(var i,n=this,a=this.progress=0,r=(i=["error","open"]).length;a<r;a++)u(e,i[a],function(){return t(n),n.progress=100})},ae.prototype.complete=function(t){return this.elements=this.elements.filter(function(e){return e!==t})},k=ae,re.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},D.elements.checkInterval)},re.prototype.done=function(){return this.completeCallback(this),this.completeCallback=null,this.progress=100},o=re,oe.prototype.states={loading:0,interactive:50,complete:100},W=oe,G=function(){var t,i,n,a,r,o=this;this.progress=0,r=[],a=0,n=_(),i=setInterval(function(){var e=_()-n-50;return n=_(),r.push(e),r.length>D.eventLag.sampleCount&&r.shift(),t=p(r),++a>=D.eventLag.minSamples&&t<D.eventLag.lagThreshold?(o.progress=100,clearInterval(i)):o.progress=3/(t+3)*100},50)},se.prototype.tick=function(e,t){return null==t&&(t=E(this.source,"progress")),100<=t&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),t=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=t*this.rate*e,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},y=se,w=t=F=b=I=M=null,v.running=!1,C=function(){if(D.restartOnPushState)return v.restart()},null!=window.history.pushState&&(z=window.history.pushState,window.history.pushState=function(){return C(),z.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return C(),V.apply(window.history,arguments)}),d={ajax:l,elements:k,document:W,eventLag:G},(T=function(){var e,t,i,n,a,r,o,s;for(v.sources=M=[],t=0,n=(r=["ajax","elements","document","eventLag"]).length;t<n;t++)!1!==D[e=r[t]]&&M.push(new d[e](D[e]));for(i=0,a=(s=null!=(o=D.extraSources)?o:[]).length;i<a;i++)R=s[i],M.push(new R(D));return v.bar=b=new c,I=[],F=new y})(),v.stop=function(){return v.trigger("stop"),v.running=!1,b.destroy(),w=!0,null!=t&&("function"==typeof h&&h(t),t=null),T()},v.restart=function(){return v.trigger("restart"),v.stop(),v.start()},v.go=function(){var g;return v.running=!0,b.render(),g=_(),w=!1,t=P(function(e,t){b.progress;for(var i,n,a,r,o,s,l,c,d,u,p=s=0,h=!0,f=l=0,m=M.length;l<m;f=++l)for(R=M[f],o=null!=I[f]?I[f]:I[f]=[],a=c=0,d=(n=null!=(u=R.elements)?u:[R]).length;c<d;a=++c)r=n[a],h&=(r=null!=o[a]?o[a]:o[a]=new y(r)).done,r.done||(p++,s+=r.tick(e));return i=s/p,b.update(F.tick(e,i)),b.done()||h||w?(b.update(100),v.trigger("done"),setTimeout(function(){return b.finish(),v.running=!1,v.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(_()-g),0)))):t()})},v.start=function(e){m(D,e),v.running=!0;try{b.render()}catch(e){i=e}return document.querySelector(".pace")?(v.trigger("start"),v.go()):setTimeout(v.start,50)},"function"==typeof define&&define.amd?define(function(){return v}):"object"==typeof exports?module.exports=v:D.startOnPageLoad&&v.start()}.call(this),function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}function eachReverse(e,t){if(e)for(var i=e.length-1;-1<i&&(!e[i]||!t(e[i],i,e));--i);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(i,e,n,a){return e&&eachProp(e,function(e,t){!n&&hasProp(i,t)||(!a||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?i[t]=e:(i[t]||(i[t]={}),mixin(i[t],e,n,a)))}),i}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,n){t=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=n,i&&(t.originalError=i),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,n){var a,r=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=i,i=n):e=[]),a&&a.context&&(r=a.context),n=(n=getOwn(contexts,r))||(contexts[r]=req.s.newContext(r)),a&&n.configure(a),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(t,i,n){var e,a=t&&t.config||{};if(isBrowser)return(e=req.createNode(a,i,n)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",i),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=n,a.onNodeCreated&&a.onNodeCreated(e,a,i,n),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),t.completeLoad(i)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+i+" at "+n,e,[i]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,i,t){var n,a;"string"!=typeof e&&(t=i,i=e,e=null),isArray(i)||(t=i,i=null),!i&&isFunction(t)&&(i=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){i.push(t)}),i=(1===t.length?["require"]:["require","exports","module"]).concat(i))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(e=e||n.getAttribute("data-requiremodule"),a=contexts[n.getAttribute("data-requirecontext")]),a?(a.defQueue.push([e,i,t]),a.defQueueMap[e]=!0):globalDefQueue.push([e,i,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(l){var t,e,p,c,i,m={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},d={},u={},n={},h=[],f={},a={},g={},v=1,y=1;function b(e,t,i){var n,a,r,o,s,l,c,d,u,p=t&&t.split("/"),h=m.map,f=h&&h["*"];if(e&&(t=(e=e.split("/")).length-1,m.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),function(e){for(var t,i=0;i<e.length;i++)"."===(t=e[i])?(e.splice(i,1),--i):".."===t&&(0===i||1===i&&".."===e[2]||".."===e[i-1]||0<i&&(e.splice(i-1,2),i-=2))}(e),e=e.join("/")),i&&h&&(p||f)){e:for(r=(a=e.split("/")).length;0<r;--r){if(s=a.slice(0,r).join("/"),p)for(o=p.length;0<o;--o)if(n=getOwn(h,p.slice(0,o).join("/")),n=n&&getOwn(n,s)){l=n,c=r;break e}!d&&f&&getOwn(f,s)&&(d=getOwn(f,s),u=r)}!l&&d&&(l=d,c=u),l&&(a.splice(0,c,l),e=a.join("/"))}return getOwn(m.pkgs,e)||e}function w(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===p.contextName)return e.parentNode.removeChild(e),!0})}function k(e){var t=getOwn(m.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),p.require.undef(e),p.makeRequire(null,{skipMap:!0})([e]),1)}function x(e){var t,i=e?e.indexOf("!"):-1;return-1<i&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function $(e,t,i,n){var a,r,o,s=null,l=t?t.name:null,c=e,d=!0,u="";return e||(d=!1,e="_@r"+(v+=1)),s=(o=x(e))[0],e=o[1],s&&(s=b(s,l,n),r=getOwn(f,s)),e&&(s?u=i?e:r&&r.normalize?r.normalize(e,function(e){return b(e,l,n)}):-1===e.indexOf("!")?b(e,l,n):e:(s=(o=x(u=b(e,l,n)))[0],u=o[1],i=!0,a=p.nameToUrl(u))),{prefix:s,name:u,parentMap:t,unnormalized:!!(i=!s||r||i?"":"_unnormalized"+(y+=1)),url:a,originalName:c,isDefine:d,id:(s?s+"!"+u:u)+i}}function C(e){var t=e.id;return getOwn(d,t)||(d[t]=new p.Module(e))}function S(e,t,i){var n=e.id,a=getOwn(d,n);!hasProp(f,n)||a&&!a.defineEmitComplete?(a=C(e)).error&&"error"===t?i(a.error):a.on(t,i):"defined"===t&&i(f[n])}function T(t,e){var i=t.requireModules,n=!1;e?e(t):(each(i,function(e){e=getOwn(d,e);e&&(e.error=t,e.events.error&&(n=!0,e.emit("error",t)))}),n||req.onError(t))}function _(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(p.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function D(e){delete d[e],delete u[e]}function A(){var n,e=1e3*m.waitSeconds,a=e&&p.startTime+e<(new Date).getTime(),r=[],o=[],s=!1,l=!0;if(!t){if(t=!0,eachProp(u,function(e){var t=e.map,i=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&a)k(i)?s=n=!0:(r.push(i),w(i));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return l=!1}),a&&r.length)return(e=makeError("timeout","Load timeout for modules: "+r,null,r)).contextName=p.contextName,T(e),0;l&&each(o,function(e){!function n(a,r,o){var e=a.map.id;a.error?a.emit("error",a.error):(r[e]=!0,each(a.depMaps,function(e,t){var i=e.id,e=getOwn(d,i);!e||a.depMatched[t]||o[i]||(getOwn(r,i)?(a.defineDep(t,f[i]),a.check()):n(e,r,o))}),o[e]=!0)}(e,{},{})}),a&&!n||!s||!isBrowser&&!isWebWorker||i||(i=setTimeout(function(){i=0,A()},50)),t=!1}}function o(e){hasProp(f,e[0])||C($(e[0],null,!0)).init(e[1],e[2])}function r(e,t,i,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(i,t,!1)}function s(e){e=e.currentTarget||e.srcElement;return r(e,p.onScriptLoad,"load","onreadystatechange"),r(e,p.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function E(){var e;for(_();h.length;){if(null===(e=h.shift())[0])return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1])),0;o(e)}p.defQueueMap={}}return c={require:function(e){return e.require||(e.require=p.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?f[e.map.id]=e.exports:e.exports=f[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(m.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(e=function(e){this.events=getOwn(n,e.id)||{},this.map=e,this.shim=getOwn(m.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,i,n){n=n||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;a[e]||(a[e]=!0,p.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,i,n=this.map.id,a=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=p.execCb(n,o,a,r)}catch(e){t=e}else r=p.execCb(n,o,a,r);if(this.map.isDefine&&void 0===r&&((e=this.module)?r=e.exports:this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",T(this.error=t)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(f[n]=r,req.onResourceLoad&&(i=[],each(this.depMaps,function(e){i.push(e.normalizedMap||e)}),req.onResourceLoad(p,this.map,i))),D(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,n)||this.fetch()}},callPlugin:function(){var s=this.map,l=s.id,e=$(s.prefix);this.depMaps.push(e),S(e,"defined",bind(this,function(e){var r,t,i=getOwn(g,this.map.id),n=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,o=p.makeRequire(s.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(n=e.normalize(n,function(e){return b(e,a,!0)})||""),S(t=$(s.prefix+"!"+n,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((n=getOwn(d,t.id))&&(this.depMaps.push(t),this.events.error&&n.on("error",bind(this,function(e){this.emit("error",e)})),n.enable()))):i?(this.map.url=p.nameToUrl(i),void this.load()):((r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[l],eachProp(d,function(e){0===e.map.id.indexOf(l+"_unnormalized")&&D(e.map.id)}),T(e)}),r.fromText=bind(this,function(e,t){var i=s.name,n=$(i),a=useInteractive;t&&(e=t),a&&(useInteractive=!1),C(n),hasProp(m.config,l)&&(m.config[i]=m.config[l]);try{req.exec(e)}catch(e){return T(makeError("fromtexteval","fromText eval for "+l+" failed: "+e,e,[l]))}a&&(useInteractive=!0),this.depMaps.push(n),p.completeLoad(i),o([i],r)}),void e.load(s.name,o,r,m))})),p.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(u[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,n;if("string"==typeof e){if(e=$(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(c,e.id))return void(this.depExports[t]=n(this));this.depCount+=1,S(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?S(e,"error",bind(this,this.errback)):this.events.error&&S(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,n=d[i],hasProp(c,i)||!n||n.enabled||p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(d,e.id);t&&!t.enabled&&p.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(p={config:m,contextName:l,registry:d,defined:f,urlFetched:a,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:$,nextTick:req.nextTick,onError:T,configure:function(e){var i;e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(i=e.urlArgs,e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+i});var n=m.shim,a={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){a[t]?(m[t]||(m[t]={}),mixin(m[t],e,!0,!0)):m[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(g[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=p.makeShimExports(e)),n[t]=e}),m.shim=n),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(m.paths[t]=e.location),m.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(d,function(e,t){e.inited||e.map.unnormalized||(e.map=$(t,null,!0))}),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(r,o){function s(e,t,i){var n,a;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?T(makeError("requireargs","Invalid require call"),i):r&&hasProp(c,e)?c[e](d[r.id]):req.get?req.get(p,e,r,s):(n=$(e,r,!1,!0).id,hasProp(f,n)?f[n]:T(makeError("notloaded",'Module name "'+n+'" has not been loaded yet for context: '+l+(r?"":". Use require([])")))):(E(),p.nextTick(function(){E(),(a=C($(null,r))).skipMap=o.skipMap,a.init(e,t,i,{enabled:!0}),A()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,i=e.lastIndexOf("."),n=e.split("/")[0];return-1!==i&&(!("."===n||".."===n)||1<i)&&(t=e.substring(i,e.length),e=e.substring(0,i)),p.nameToUrl(b(e,r&&r.id,!0),t,!0)},defined:function(e){return hasProp(f,$(e,r,!1,!0).id)},specified:function(e){return e=$(e,r,!1,!0).id,hasProp(f,e)||hasProp(d,e)}}),r||(s.undef=function(i){_();var e=$(i,r,!0),t=getOwn(d,i);t.undefed=!0,w(i),delete f[i],delete a[e.url],delete n[i],eachReverse(h,function(e,t){e[0]===i&&h.splice(t,1)}),delete p.defQueueMap[i],t&&(t.events.defined&&(n[i]=t.events),D(i))}),s},enable:function(e){getOwn(d,e.id)&&C(e).enable()},completeLoad:function(e){var t,i,n,a=getOwn(m.shim,e)||{},r=a.exports;for(_();h.length;){if(null===(i=h.shift())[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);o(i)}if(p.defQueueMap={},n=getOwn(d,e),!t&&!hasProp(f,e)&&n&&!n.inited){if(!(!m.enforceDefine||r&&getGlobal(r)))return k(e)?void 0:T(makeError("nodefine","No define call for "+e,null,[e]));o([e,a.deps||[],a.exportsFn])}A()},nameToUrl:function(e,t,i){var n,a,r,o,s,l=getOwn(m.pkgs,e);if(l&&(e=l),l=getOwn(g,e))return p.nameToUrl(l,t,i);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(n=m.paths,r=(a=e.split("/")).length;0<r;--r)if(s=getOwn(n,a.slice(0,r).join("/"))){isArray(s)&&(s=s[0]),a.splice(0,r,s);break}o=a.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||i?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":m.baseUrl)+o}return m.urlArgs&&!/^blob\:/.test(o)?o+m.urlArgs(e,o):o},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=s(e),p.completeLoad(e.id))},onScriptError:function(e){var i=s(e);if(!k(i.id)){var n=[];return eachProp(d,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===i.id)return n.push(t),!0})}),T(makeError("scripterror",'Script error for "'+i.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[i.id]))}}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),function(e){function t(){var e=this;e.sys={core:"busyAdmin",jquery:"jquery",pace:"pace"},e.lib={bootstrap:"bootstrap",layer:"layer"},e.e={},e.plugins={},e.linkClickIgnore=[],e.formSubmitIgnore=[],e.autoInitList=[],e.helper=null,e.app=null,e.route=null,e.request=null,e.response=null,e.dialog=null,e.require=require,e.define=define,e.locale={},e.config={root:"/",moduleRoot:"/",version:"1.0.0",configs:{}},e.data={},e.sugars={},e.requireShims={},e.requirePaths={},e.defaultZIndex=1e4}var a;t.prototype={autoInit:function(e,t){this.autoInitList.push({selector:e,callback:t})},regSugar:function(e,t){this.sugars[e]=t},dispatchSugar:function(n,e,a,r){var o;"string"==typeof e&&e&&(o=this,(e=e.split("|@")).map(function(e){var t,i;(e=e.trim())&&-1!==e.indexOf(".")&&(0===e.indexOf("@")&&(e=e.substr(1)),i=e.indexOf("."),t=e.substr(0,i).trim(),e=e.substr(i+1).trim(),i=o.sugars[t],t&&e&&"function"==typeof i&&i.call(o,n,e,a,r))}))},ee:function(e,t){return"busy-admin:"+t+"-"+e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/_/g,"-").toLowerCase()},addMod:function(e,t,i){return this.lib[e]=e,this.requirePaths[e]=t,i&&(this.requireShims[e]=i),this},init:function(e){var t=this;t.config=e||{},n=busyAdmin,e=n.moduleRoot(),n.root(),a.addMod("bootstrap","bootstrap/js/bootstrap.min").addMod("layer","layer/layer.min",["css!"+e+"layer/theme/default/layer"]).addMod("moment","moment/moment.min").addMod("marked","marked/marked.min").addMod("vue",n.config.debug?"vue/vue":"vue/vue.min").addMod("clipboard","clipboard/clipboard.min").addMod("md5","md5/md5.min").addMod("sticky","sticky/jquery.sticky.min").addMod("jqueryUi","jquery-ui/jquery-ui.min").addMod("toastr","toastr/toastr.min",["css!"+e+"toastr/toastr.min"]).addMod("highlight","hijs/highlight.min",{deps:["css!hijs/css.min"],exports:"hljs"}).addMod("colorPicker","bootstrap-colorpicker/js/bootstrap-colorpicker.min",["css!"+e+"bootstrap-colorpicker/css/bootstrap-colorpicker.min"]).addMod("tree","tree/jstree.min",["css!"+e+"tree/themes/default/style.min"]).addMod("uploadConfig",n.getConfig("upload",{}).configUrl).addMod("webUploader","webuploader/webuploader.min",["css!"+e+"webuploader/webuploader"]).addMod("video","video-js/video.min",["css!video-js/video.min"]).addMod("audio","audio-js/audio.min").addMod("imageViewer","image-viewer/viewer.min",["css!image-viewer/viewer.min"]).addMod("sortable","sortable/sortable.min").addMod("dragtable","dragtable/jquery-dragtable.min",["css!"+e+"dragtable/dragtable.min","jqueryUi"]).addMod("treegrid","treegrid/jquery.treegrid.min",["css!"+e+"treegrid/jquery.treegrid.min"]).addMod("bootstrapTable","bootstrap-table/bootstrap-table.min",["css!bootstrap-table/bootstrap-table.min"]).addMod("bootstrapTableReorderColumns","bootstrap-table/reorder-columns/bootstrap-table-reorder-columns.min",["dragtable"]).addMod("bootstrapTableResizable","bootstrap-table/resizable/bootstrap-table-resizable",["css!bootstrap-table/resizable/jquery.resizableColumns","bootstrap-table/resizable/jquery.resizableColumns.min"]).addMod("bootstrapTableReorderRows","bootstrap-table/reorder-rows/bootstrap-table-reorder-rows.min",["css!bootstrap-table/reorder-rows/bootstrap-table-reorder-rows","bootstrap-table/reorder-rows/jquery.tablednd.min"]).addMod("bootstrapTableStickyHeader","bootstrap-table/sticky-header/bootstrap-table-sticky-header.min",["css!bootstrap-table/sticky-header/bootstrap-table-sticky-header"]).addMod("bootstrapTableTree","bootstrap-table/tree/bootstrap-table-treegrid.min",["treegrid"]).addMod("bootstrapTablePrint","bootstrap-table/print/bootstrap-table-print.min").addMod("bootstrapTableFixedColumns","bootstrap-table/fixed-columns/bootstrap-table-fixed-columns.min",["css!bootstrap-table/fixed-columns/bootstrap-table-fixed-columns.min"]).addMod("bootstrapTableExport","bootstrap-table/export/bootstrap-table-export.min",["bootstrap-table/export/tableExport.min"]).addMod("ueditor","ueditor/ueditor.all.min",[n.getConfig("editor",{}).ueConfigUrl]).addMod("zeroClipboard","ueditor/third-party/zeroclipboard/ZeroClipboard.min").addMod("ckEditor5Classic","ckeditor/ckeditor5-build-classic/ckeditor").addMod("select2","select2/select2.min",["css!"+e+"select2/select2.min","css!"+e+"select2/select2-bootstrap.min"]).addMod("autocomplete","autocomplete/auto-complete.min",["css!"+e+"autocomplete/auto-complete.min"]).addMod("artTemplate","art-template/template-web").addMod("treeTable","tree-table/jquery.treetable",["css!"+e+"tree-table/jquery.treetable","css!"+e+"tree-table/jquery.treetable.theme.default"]).addMod("validate","validate/jquery.validate.min").addMod("socketio",e+"socketio/socket.io.min").addMod("gwm",e+"gwm/gwm").addMod("ionRangeSlider","ion-range-slider/ion.rangeSlider.min",["css!ion-range-slider/ion.rangeSlider.min"]).addMod("bootstrapStarRatingCore","bootstrap-star-rating/js/star-rating.min",["css!bootstrap-star-rating/css/star-rating.min"]).addMod("bootstrapStarRating","bootstrap-star-rating/themes/krajee-svg/theme.min",["bootstrapStarRatingCore","css!bootstrap-star-rating/themes/krajee-svg/theme.min"]).addMod("fullcalendar","fullcalendar/locales-all.min",[e+"fullcalendar/main.min.js","css!"+e+"fullcalendar/main.min"]).addMod("json","require/json.min").addMod("depend","require/depend.min").addMod("font","require/font.min").addMod("goog","require/goog.min").addMod("i18n","require/i18n.min").addMod("image","require/image.min").addMod("mdown","require/mdown.min").addMod("noext","require/noext.min").addMod("propertyParser","require/propertyParser.min").addMod("text","require/text.min"),require.config({baseUrl:e,urlArgs:"v="+n.config.version,waitSeconds:0,map:{"*":{css:"require/css"}},paths:a.requirePaths,shim:a.requireShims});var i=$.map(["modal","audio","audioViewer","autocomplete","catalog","changeVerify","checkboxRadio","checkedAll","colorPicker","copy","datePicker","editor","filePicker","form","verify","high","iconPicker","imageViewer","markdown","request","searchBar","selectPicker","shuttle","table","tree","upload","videoViewer","dialog","random","linkagePicker","rangeSlider","rate","calendar"],function(e){return"./busyAdmin/plugins/"+e}),n=t.config.requires||[];return"string"==typeof n&&n?i.push(n):$.map(n,function(e){i.push(e)}),require(i,function(){t.app.start()}),this},root:function(){return this.config.root||"/"},moduleRoot:function(){return this.config.moduleRoot||"/"},skinRoot:function(){return this.config.skinRoot||"/"},cssRoot:function(){return this.config.cssRoot||"/"},jsRoot:function(){return this.config.jsRoot||"/"},imagesRoot:function(){return this.config.imagesRoot||"/"},getConfig:function(e,t){return this.config.configs[e]||t},ready:function(e){return this.app.ready(e),this},zIndex:function(){return this.defaultZIndex++,this.defaultZIndex}},e.busyAdmin=a=new t,define(a.sys.core,function(){return a}),define(a.sys.jquery,function(){return jQuery}),define(a.sys.pace,function(){return Pace});var i="app",e="route";$.extend(a.e,{appReady:a.ee("ready",i),appBeforeDestroy:a.ee("before-destroy",i),appReadies:a.ee("readies",i),appReqBefore:a.ee("req-before",i),appReqComplete:a.ee("req-complete",i),appReqError:a.ee("req-error",i),appReqSuccess:a.ee("req-success",i),appRenderBefore:a.ee("render-before",i),appRenderSuccess:a.ee("render-success",i),appComplete:a.ee("complete",i),appPluginReady:a.ee("plugin-ready",i),appLoginSucceed:a.ee("login-succeed",i),appLoginOuted:a.ee("login-outed",i),routeBeforeLeave:a.ee("before-leave",e),routePopState:a.ee("pop-state",e),routeNoDispatch:a.ee("no-dispatch",e)})}(this),function(s,l){"use strict";function e(e){return o(r(e))}var d=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},n=m,t=r,i=o,a=f,h=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e){for(var t=[],i=0,n=0,a="";null!=(c=h.exec(e));){var r,o,s,l,c,d=c[0],u=c[1],p=c.index;a+=e.slice(n,p),n=p+d.length,u?a+=u[1]:(a&&(t.push(a),a=""),r=c[2],o=c[3],s=c[4],l=c[5],p=c[6],d=c[7],u="+"===p||"*"===p,c="?"===p||"*"===p,p=r||"/",d=s||l||(d?".*":"[^"+p+"]+?"),t.push({name:o||i++,prefix:r||"",delimiter:p,optional:c,repeat:u,pattern:d.replace(/([=!:$\/()])/g,"\\$1")}))}return n<e.length&&(a+=e.substr(n)),a&&t.push(a),t}function o(l){for(var c=new Array(l.length),e=0;e<l.length;e++)"object"==typeof l[e]&&(c[e]=new RegExp("^"+l[e].pattern+"$"));return function(e){for(var t="",i=e||{},n=0;n<l.length;n++){var a=l[n];if("string"!=typeof a){var r,o=i[a.name];if(null==o){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(d(o)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+o+'"');if(0===o.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var s=0;s<o.length;s++){if(r=encodeURIComponent(o[s]),!c[n].test(r))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+r+'"');t+=(0===s?a.prefix:a.delimiter)+r}}else{if(r=encodeURIComponent(o),!c[n].test(r))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+r+'"');t+=a.prefix+r}}else t+=a}return t}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function c(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t){for(var i=(t=t||{}).strict,n=!1!==t.end,a="",r=e[e.length-1],r="string"==typeof r&&/\/$/.test(r),o=0;o<e.length;o++){var s,l,c=e[o];"string"==typeof c?a+=u(c):(s=u(c.prefix),l=c.pattern,c.repeat&&(l+="(?:"+s+l+")*"),a+=l=c.optional?s?"(?:"+s+"("+l+"))?":"("+l+")?":s+"("+l+")")}return i||(a=(r?a.slice(0,-2):a)+"(?:\\/(?=$))?"),a+=n?"$":i&&r?"":"(?=\\/|$)",new RegExp("^"+a,p(t))}function m(e,t,i){return d(t=t||[])?i=i||{}:(i=t,t=[]),e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return c(e,t)}(e,t):(d(e)?function(e,t,i){for(var n=[],a=0;a<e.length;a++)n.push(m(e[a],t,i).source);return c(new RegExp("(?:"+n.join("|")+")",p(i)),t)}:function(e,t,i){for(var n=r(e),i=f(n,i),a=0;a<n.length;a++)"string"!=typeof n[a]&&t.push(n[a]);return c(i,t)})(e,t,i)}n.parse=t,n.compile=e,n.tokensToFunction=i,n.tokensToRegExp=a;var g,v="undefined"!=typeof document,y="undefined"!=typeof window,b="undefined"!=typeof history,w="undefined"!=typeof process,k=v&&document.ontouchstart?"touchstart":"click",x=y&&!(!window.history.location&&!window.location);function $(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function C(e,t){if("function"==typeof e)return C.call(this,"*",e);if("function"==typeof t)for(var i=new T(e,null,this),n=1;n<arguments.length;++n)this.callbacks.push(i.middleware(arguments[n]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function S(e,t,i){var n=this.page=i||C,a=n._window,r=n._hashbang,o=n._getBase();"/"===e[0]&&0!==e.indexOf(o)&&(e=o+(r?"#/":"")+e);i=e.indexOf("?");this.canonicalPath=e;o=new RegExp("^"+o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));this.path=e.replace(o,"")||"/",r&&(this.path=this.path.replace("#/","")||"/"),this.title=v&&a.document.title,this.state=t||{},this.state.path=e,this.querystring=~i?n._decodeURLEncodedURIComponent(e.slice(i+1)):"",this.pathname=n._decodeURLEncodedURIComponent(~i?e.slice(0,i):e),this.params={},this.hash="",r||~this.path.indexOf("#")&&(r=this.path.split("#"),this.path=this.pathname=r[0],this.hash=n._decodeURLEncodedURIComponent(r[1])||"",this.querystring=this.querystring.split("#")[0])}function T(e,t,i){i=this.page=i||_,t=t||{};t.strict=t.strict||i._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=n(this.path,this.keys=[],t)}$.prototype={configure:function(e){e=e||{};this._window=e.window||y&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&y,this._click=!1!==e.click&&v,this._hashbang=!!e.hashbang;e=this._window;this._popstate?e.addEventListener("popstate",this._onpopstate,!1):y&&e.removeEventListener("popstate",this._onpopstate,!1),this._click?e.document.addEventListener(k,this.clickHandler,!1):v&&e.document.removeEventListener(k,this.clickHandler,!1),this._hashbang&&y&&!b?e.addEventListener("hashchange",this._onpopstate,!1):y&&e.removeEventListener("hashchange",this._onpopstate,!1)},base:function(e){if(0===arguments.length)return this._base;this._base=e},_getBase:function(){var e=this._base;if(e)return e;var t=y&&this._window&&this._window.location;return y&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},strict:function(e){if(0===arguments.length)return this._strict;this._strict=e},start:function(e){var t,e=e||{};this.configure(e),!1!==e.dispatch&&(this._running=!0,x&&(t=this._window.location,t=this._hashbang&&~t.hash.indexOf("#/")?t.hash.substr(2)+t.search:this._hashbang?t.search+t.hash:t.pathname+t.search+t.hash),t===s.helper.rtrim(this._base,"/")&&(t=this._base),this.replace(t,null,!0,e.dispatch))},stop:function(){var e;this._running&&(this.current="",this.len=0,this._running=!1,e=this._window,this._click&&e.document.removeEventListener(k,this.clickHandler,!1),y&&e.removeEventListener("popstate",this._onpopstate,!1),y&&e.removeEventListener("hashchange",this._onpopstate,!1))},show:function(e,t,i,n){var a=this._toURL(e),e=new S(e=a.pathname+a.search+a.hash,t,this),t=this.prevContext;return this.prevContext=e,this.current=e.path,!1!==i&&this.dispatch(e,t),!1!==e.handled&&!1!==n&&e.pushState(),e},back:function(e,t){var i,n=this;0<this.len?(i=this._window,b&&i.history.back(),this.len--):e?setTimeout(function(){n.show(e,t)}):setTimeout(function(){n.show(n._getBase(),t)})},redirect:function(e,t){var i,n=this;"string"==typeof e&&"string"==typeof t&&(i=n._toURL(e),C.call(this,i.pathname+i.search+i.hash,function(e){setTimeout(function(){n.replace(t)},0)})),"string"==typeof e&&void 0===t&&setTimeout(function(){n.replace(e)},0)},replace:function(e,t,i,n){var a=this._toURL(e),e=new S(e=a.pathname+a.search+a.hash,t,this),t=this.prevContext;return this.prevContext=e,this.current=e.path,e.init=i,e.save(),!1!==n&&this.dispatch(e,t),e},dispatch:function(t,i){var n=0,a=0,r=this;function o(){var e=r.callbacks[n++];if(t.path===r.current)return e?void e(t,o):function(e){if(e.handled)return;var t,i=this._window;t=this._hashbang?x&&this._getBase()+i.location.hash.replace("#/",""):x&&i.location.pathname+i.location.search;if(t===e.canonicalPath)return;this.stop(),e.handled=!1,x&&(i.location.href=e.canonicalPath)}.call(r,t);t.handled=!1}!1!==s.helper.execCallback(null,document,[r,t,i],l(document),s.e.routeBeforeLeave,!0,!1)&&(i?function e(){var t=r.exits[a++];if(!t)return o();t(i,e)}:o)()},exit:function(e,t){if("function"==typeof e)return this.exit("*",e);for(var i=new T(e,null,this),n=1;n<arguments.length;++n)this.exits.push(i.middleware(arguments[n]))},clickHandler:function(e,t){if(1!==this._which(e))return!1;if(e.metaKey||e.ctrlKey||e.shiftKey)return!1;if(e.defaultPrevented)return!1;var i=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var a=0;a<n.length;a++)if(n[a].nodeName&&"A"===n[a].nodeName.toUpperCase()&&n[a].href){i=n[a];break}for(;i&&"A"!==i.nodeName.toUpperCase();)i=i.parentNode;if(!i||"A"!==i.nodeName.toUpperCase())return!1;var r="object"==typeof i.href&&"SVGAnimatedString"===i.href.constructor.name;if(i.hasAttribute("download")||"external"===i.getAttribute("rel"))return!1;var o=i.getAttribute("href");if(!this._hashbang&&this._samePath(i)&&(i.hash||"#"===o))return!1;if(o&&-1<o.indexOf("mailto:"))return!1;if(r?i.target.baseVal:i.target)return!1;if(!r&&!this.sameOrigin(i.href))return!1;var s="/"!==(s=r?i.href.baseVal:i.pathname+i.search+(i.hash||""))[0]?"/"+s:s;w&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));o=s,r=this._getBase();return 0===s.indexOf(r)&&(s=s.substr(r.length)),this._hashbang&&(s=s.replace("#/","")),!(r&&o===s&&(!x||"file:"!==this._window.location.protocol))&&(e.preventDefault(),!1!==t&&this.show(o),o)},_onpopstate:(g=!1,y?(v&&"complete"===document.readyState?g=!0:window.addEventListener("load",function(){setTimeout(function(){g=!0},0)}),function(e){var t,i;!g||!1!==s.helper.execCallback(null,document,[this,e],l(document),s.e.routePopState,!0,!1)&&(e.state?(t=e.state.path,i=e.state.popStateDispatch,this.replace(t,e.state,void 0,i),!1===i&&s.helper.execCallback(null,document,[this,e],l(document),s.e.routeNoDispatch)):x&&(e=this._window.location,this.show(e.pathname+e.search+e.hash,void 0,void 0,!1)))}):function(){}),_which:function(e){return null==(e=e||y&&this._window.event).which?e.button:e.which},_toURL:function(e){var t=this._window;if("function"==typeof URL&&x)return new URL(e,t.location.toString());if(v){t=t.document.createElement("a");return t.href=e,t}},sameOrigin:function(e){if(!e||!x)return!1;var t=this._toURL(e),e=this._window.location;return e.protocol===t.protocol&&e.hostname===t.hostname&&(e.port===t.port||""===e.port&&(80==t.port||443==t.port))},_samePath:function(e){if(!x)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},_decodeURLEncodedURIComponent:function(e){return"string"==typeof e&&this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},reload:function(){var e=this._window.location,e=e.pathname+e.search+e.hash;this.replace(e)},parseRespOperate:function(e,t,i){if("string"==typeof t&&(t=t.trim().toLowerCase()).length)switch(t){case"reload":case"refresh":return void this.reload();case"redirect":case"jump":case"go":return void this.show(e.url||this.base());case"replace":return void this.replace(e.url||this.base());case"back":return void this.back();default:"function"==typeof i&&i.call(this,t)}}},S.prototype={pushState:function(){var e=this.page,t=e._window,i=e._hashbang;e.len++,b&&t.history.pushState(this.state,this.title,i&&"/"!==this.path?"#/"+this.path:this.canonicalPath)},save:function(){var e=this.page;b&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#/"+this.path:this.canonicalPath)}},T.prototype={middleware:function(i){var n=this;return function(e,t){if(n.match(e.path,e.params))return e.routePath=n.path,i(e,t);t()}},match:function(e,t){var i=this.keys,n=e.indexOf("?"),e=~n?e.slice(0,n):e,a=this.regexp.exec(decodeURIComponent(e));if(!a)return!1;delete t[0];for(var r=1,o=a.length;r<o;++r){var s=i[r-1],l=this.page._decodeURLEncodedURIComponent(a[r]);void 0===l&&hasOwnProperty.call(t,s.name)||(t[s.name]=l)}return!0}};var _=function e(){var t=new $;function i(){return C.apply(t,arguments)}return i.callbacks=t.callbacks,i.exits=t.exits,i.base=t.base.bind(t),i.strict=t.strict.bind(t),i.start=t.start.bind(t),i.stop=t.stop.bind(t),i.show=t.show.bind(t),i.back=t.back.bind(t),i.redirect=t.redirect.bind(t),i.replace=t.replace.bind(t),i.dispatch=t.dispatch.bind(t),i.exit=t.exit.bind(t),i.configure=t.configure.bind(t),i.sameOrigin=t.sameOrigin.bind(t),i.clickHandler=t.clickHandler.bind(t),i.reload=t.reload.bind(t),i.parseRespOperate=t.parseRespOperate.bind(t),i.create=e,Object.defineProperty(i,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(i,"current",{get:function(){return t.current},set:function(e){t.current=e}}),i.Context=S,i.Route=T,i}();(a=_).default=_,s.route=a,s.regSugar("route",function(e,t,i,n){s.route.parseRespOperate(i,t)})}(window.busyAdmin||{},jQuery),function($,busyAdmin){"use strict";busyAdmin.helper={parseURL:function(e){var o=document.createElement("a");o.href=e;var t=o.pathname.replace(/^([^\/])/,"/$1"),i=(i=t.substring(0,t.lastIndexOf(".")))||t;return{source:e,protocol:o.protocol.replace(":",""),host:o.hostname,port:o.port,query:o.search,params:function(){for(var e,t,i={},n=o.search.replace(/^\?/,"").split("&"),a=n.length,r=0;r<a;r++)n[r]&&(t=n[r].split("="),e=decodeURIComponent(t[0]),t=decodeURIComponent(t[1]),i.hasOwnProperty(e)?($.isArray(i[e])||(i[e]=[i[e]]),i[e].push(t)):i[e]=t);return i}(),filename:(o.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:o.hash.replace("#",""),path:t,pathNoSuffix:i,relative:(o.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:o.pathname.replace(/^\//,"").split("/")}},checkURL:function(e){return!(0===(e=e||"").indexOf("javascript:")||0===e.indexOf("#"))},getObjectValue:function(e,t,i,n){if(!e.hasOwnProperty(t))return i;t=e[t];return!0!==n||("string"==typeof i&&(t=t.trim()),t)?t:i},onDomChange:function(t){var i=null;window.MutationObserver?new MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&(clearTimeout(i),i=setTimeout(function(){t()},0))}).observe(window.document,{subtree:!0,childList:!0}):window.addEventListener?document.addEventListener("DOMNodeInserted",function(e){clearTimeout(i),i=setTimeout(function(){t()},0)},!1):window.attachEvent&&document.attachEvent("onDOMNodeInserted",function(){clearTimeout(i),i=setTimeout(function(){t()},0)}),$(function(){t()})},onPopState:function(e){window.history&&window.history.pushState&&$(window).on("popstate",e)},parseData:function(i,e,t){e="string"==typeof e?[e]:e,t="string"==typeof t?[t]:t||[];var n,a={};for(n in i)t.map(function(e){0===n.indexOf(e)&&(a[n]=i[n])}),e.map(function(e){var t=e.length;0!==n.indexOf(e)||0!=((t=n.slice(t)).slice(0,1).toLowerCase()+t.slice(1)).length&&(a[t.slice(0,1).toLowerCase()+t.slice(1)]=i[n])});return a},uuid:function(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},htmlEncode:function(e){null!=(t=document.createElement("div")).textContent?t.textContent=e:t.innerText=e;var e=t.innerHTML,t=null;return e},htmlDecode:function(e){(t=document.createElement("div")).innerHTML=e;var e=t.innerText||t.textContent,t=null;return e},execCallback:function(e,t,i,n,a,r,o,s){"string"==typeof e&&0<(e=e.trim()).length&&(e=busyAdmin.helper.scope(e));var l=null;if(n&&n.length&&0<n.length){var c,d=[];if($.isArray(n)&&(c=n.shift(),d=n,n=c),d.map(function(e){e.triggerHandler(a,i)}),l=n.triggerHandler(a,i),r)if(s){if(typeof l===o)return l}else if(o===l)return l}return"function"==typeof e?(i=i||[],t=t||this,e.apply(t,i)):l},base64Encode:function(e){return window.btoa(unescape(encodeURIComponent(e)))},base64Decode:function(e){return decodeURIComponent(escape(window.atob(e)))},int:function(e){return e=parseInt(e),isNaN(e)?0:e},float:function(e){return e=parseFloat(e),isNaN(e)?0:e},getElementBySelector:function(e){e=$(e);return 0<e.length&&"SCRIPT"===e[0].tagName&&(e=$(e.html())),e},camel:function(e){return e.replace(/_(\w)/g,function(e,t){return t.toUpperCase()})},snake:function(e,t){return t=t||"_",(e=e.replace(/\s+/gu,"",e)).replace(/(.)(?=[A-Z])/gu,"$1"+t).toLowerCase()},sprintf:function(){let t=arguments,i=t[0];for(let e=1;e<t.length;e++){var n=arguments[e];i=i.replace("%s",n)}return i},urlPreviewHandler:function(e){switch(e.url.substring(e.url.lastIndexOf(".")+1).trim().toLowerCase()){case"jpeg":case"png":case"gif":case"jpg":"function"==typeof e.image&&e.image();break;case"mp4":case"webm":case"ogv":"function"==typeof e.video&&e.video();break;case"mp3":"function"==typeof e.audio&&e.audio();break;default:"function"==typeof e.file&&e.file()}},arrayRemoveByIndex:function(e,t){return 0===(e=e||[]).length||t<0?e:e.slice(0,n).concat(e.slice(n+1,e.length))},triggerPluginReady:function(e,t,i){$(document).triggerHandler(busyAdmin.e.appPluginReady,[e,t,i])},extends:function(e,t){var i,n={};for(i in t)n[i]=e[i];return $.extend(e,t),n},override:function(e,t,i,n){t=e[t];if("function"==typeof t)return t.apply(i,Array.prototype.slice.call(n));throw t},scope:function(name,defaults){var startDot=name.indexOf(".");if(-1===startDot)return busyAdmin.data[name]||window[name]||defaults;var arr=name.split(".");name=arr.shift();for(var value=busyAdmin.data[name]||window[name]||{},len=arr.length,createCode=function(e,t,i){return"("+e+"."+t+" || "+i+")"},code="",i=0,val,def;i<len;i++){0==i&&(code="value"),code=createCode(code,arr.shift(),i+1==len?"defaults":"{}")}try{return eval(code)}catch(e){return defaults}},getScrollbarWidth:function(){var e=document.createElement("div"),t=document.createElement("div");e.style.overflow="scroll",document.body.appendChild(e),e.appendChild(t);t=e.offsetWidth-t.offsetWidth;return document.body.removeChild(e),t},ltrim:function(e,t){return t=t||"s",e.replace(RegExp("(^"+t+"*)","g"),"")},rtrim:function(e,t){return t=t||"s",e.replace(RegExp("("+t+"*$)","g"),"")},random:function(e,t){e=e||32;for(var i=(t=t||"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678").length,n="",a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*i));return n},listToTree:function(e,t,i,n,a){t=t||"id",i=i||"child",n=n||"parent",a=a||"";for(var r=[],o={},s=0,l=(e=e||[]).length;s<l;s++){var c=e[s],d=c[t];d&&(o[d]?c[i]=o[d]:c[i]=o[d]=[],c[n]&&c[n]!=a?(o[d=c[n]]||(o[d]=[]),o[d].push(c)):r.push(c))}return r}}}(jQuery,busyAdmin),function(){function e(){}window.console||(window.console={log:e,error:e,warn:e,assert:e,clear:e,count:e,group:e,groupCollapsed:e,groupEnd:e,info:e,table:e,time:e,timeEnd:e,trace:e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}),Array.prototype.map||(Array.prototype.map=function(e,t){var i,n,a;if(null==this)throw new TypeError("this is null or not defined");var r,o=new Object(this),s=o>>>0;if("[object Function]"!=Object.prototype.toString.call(e))throw new TypeError(e+"is not a function");for(t&&(i=t),n=new Array(s),a=0;a<s;)a in o&&(r=o[a],r=e.call(i,r,a,o),n[a]=r),a++;return n}),Array.prototype.del||(Array.prototype.del=function(e){return e<0?this:this.slice(0,e).concat(this.slice(e+1,this.length))});var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(e){this.message=e}(l.prototype=new Error).name="InvalidCharacterError",window.btoa||(window.btoa=function(e){for(var t,i,n=String(e),a=0,r=s,o="";n.charAt(0|a)||(r="=",a%1);o+=r.charAt(63&t>>8-a%1*8)){if(255<(i=n.charCodeAt(a+=.75)))throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|i}return o}),window.atob||(window.atob=function(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,n,a=0,r=0,o="";n=t.charAt(r++);~n&&(i=a%4?64*i+n:n,a++%4)&&(o+=String.fromCharCode(255&i>>(-2*a&6))))n=s.indexOf(n);return o})}(),function(o,s){o.fn.busyAdminOnTransEnd=function(e,t){return this[e?"one":"on"]("webkitTransitionEnd msTransitionend oTransitionEnd otransitionend mozTransitionend transitionend",t),this},o.fn.busyAdminOnAnimEnd=function(e,t){return this[e?"one":"on"]("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t),this},o.fn.busyAdminFormVal=function(e,t){var i,n=o(this);for(i in e=t?(e=e||document.URL,s.helper.parseURL(e).params):e||{}){var a=e[i],r=n.find('[name="'+i+'"]');if(0<r.length)switch((r.attr("type")||"").toLowerCase()){case"checkbox":case"radio":r.each(function(){o(this).prop("checked",o(this).val()==a).trigger("change")});break;default:r.val(a).trigger("change")}else n.append('<input type="hidden" name="'+i+'" value="'+a+'"/>')}return this}}(jQuery,busyAdmin),function(u){var i=/\+/g;function p(e){return f.raw?e:encodeURIComponent(e)}function h(e,t){e=f.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(i," ")),f.json?JSON.parse(e):e}catch(e){}}(e);return u.isFunction(t)?t(e):e}var f=u.cookie=function(e,t,i){var n,a;if(void 0!==t&&!u.isFunction(t))return"number"==typeof(i=u.extend({},f.defaults,i)).expires&&(a=i.expires,(n=i.expires=new Date).setTime(+n+864e5*a)),document.cookie=[p(e),"=",(a=t,p(f.json?JSON.stringify(a):String(a))),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("");for(var r=e?void 0:{},o=document.cookie?document.cookie.split("; "):[],s=0,l=o.length;s<l;s++){var c=o[s].split("="),d=(d=c.shift(),f.raw?d:decodeURIComponent(d)),c=c.join("=");if(e&&e===d){r=h(c,t);break}e||void 0===(c=h(c))||(r[d]=c)}return r};f.defaults={},u.removeCookie=function(e,t){return void 0!==u.cookie(e)&&(u.cookie(e,"",u.extend({},t,{expires:-1})),!u.cookie(e))}}(jQuery),function(u,p){var h=function(e,t){this.config={method:h.options.method,cache:h.options.cache,pendingStatus:h.options.pendingStatus,pendingMessage:h.options.pendingMessage,before:h.options.beforeCallback,complete:h.options.completeCallback,success:h.options.successCallback,error:h.options.errorCallback,progress:h.options.progressCallback,parse:h.options.parse,parseExec:"",ajaxOptions:{},url:document.URL,params:[],headers:{}},"object"==typeof e?this.config.ajaxOptions=e||{}:"string"==typeof e&&e.length&&(this.url(e),this.config.ajaxOptions=t||{}),this.paramElements=[],this.ajax=null};h.options={root:"",contentType:"application/x-www-form-urlencoded",method:"get",cache:!1,params:{},headers:{},parse:"",pendingStatus:!0,pendingMessage:"è¯·ç¨å...",ajaxOptions:{},beforeCallback:u.noop,completeCallback:u.noop,successCallback:function(e){p.dialog.toastSuccess(e.message||"success")},errorCallback:function(e){p.dialog.toastError(e.message||"error")},progressCallback:u.noop},h.prototype={pending:function(e,t){return"string"==typeof e&&e.length&&(t=e,e=!0),this.config.pendingStatus=e,t&&(this.config.pendingMessage=t),this},cache:function(e){return this.config.cache=e,this},url:function(e){return this.config.url=e||document.URL,this},post:function(e){return this.method(e?"post":"get")},method:function(e){return this.config.method=e,this},headers:function(e){return this.config.headers=e,this},addHeader:function(e,t){return this.config.headers[e]=t,this},params:function(e){var t=this;if(t.config.params=[],e instanceof jQuery)t.config.params=e.serializeArray();else if(u.isArray(e))t.config.params=e;else if("object"==typeof e)for(var i in e){var n=e[i];u.isArray(n)?n.map(function(e){t.config.params.push({name:-1!==i.indexOf("[")?i:i+"[]",value:e})}):t.config.params.push({name:i,value:n})}else if("string"==typeof e){var a=p.helper.parseURL("?"+e).params||{};for(i in a){n=a[i];u.isArray(n)?n.map(function(e){t.config.params.push({name:-1!==i.indexOf("[")?i:i+"[]",value:e})}):t.config.params.push({name:i,value:n})}}else console.error("åæ°ç±»åéè¯¯ï¼ä»æ¯æ: object, string, array",e);return this},addParam:function(e,t,i){return(t instanceof jQuery?this.paramElements:this.config.params).push({name:e,value:t,filename:i}),this},clear:function(){return this.config.headers={},this.config.params=[],this.paramElements=[],this},parse:function(e,t){return this.config.parse=e,this.config.parseExec=t,this},before:function(e){return this.config.before="function"==typeof e?e:this.config.before,this},complete:function(e){return this.config.complete="function"==typeof e?e:this.config.complete,this},success:function(e){return this.config.success="function"==typeof e?e:this.config.success,this},error:function(e){return this.config.error="function"==typeof e?e:this.config.error,this},progress:function(e){return this.config.progress="function"==typeof e?e:this.config.progress,this},exec:function(){var r=this,i=null,o=u("<form />");this.paramElements.map(function(e){var t=e.value,i=(i=e.name||!1)||t.attr("name");if(0===t.length)return!0;if("INPUT"===t[0].tagName&&"FILE"===t.attr("type").toUpperCase()){var n=t[0].files;if(0<n.length)if(t.attr("multiple"))for(var a=0;a<n.length;a++)r.config.params.push({name:i,value:n[a]});else r.config.params.push({name:i,value:n[0],filename:e.filename})}else t.attr("name",i),o.append(t.clone())}),o.serializeArray().map(function(e){r.config.params.push(e)});var e,t=h.options.params;for(e in t)r.config.params.push({name:e,value:t[e]});var n=!1;r.config.params.map(function(e){e.value instanceof File&&(n=!0)}),r.config.cache||(r.config.headers["Cache-Control"]="no-cache",r.config.headers["If-Modified-Since"]="0");var a,s=u.extend({},u.extend({},{contentType:h.options.contentType,url:h.options.root+r.config.url,headers:u.extend({},r.config.headers,h.options.headers),type:r.config.method,dataType:r.config.parse||"text",jsonpCallback:r.config.parseExec},h.options.ajaxOptions),r.config.ajaxOptions||{});n?(s.cache=!1,s.type="post",s.contentType=!1,s.processData=!1,a=new FormData,r.config.params.map(function(e){e.filename?a.append(e.name,e.value,e.filename):a.append(e.name,e.value)}),s.data=a):s.data=r.config.params;function l(){null!==i&&i.close()}function c(e,t,i){return!1!==r.config.success.call(r,e,t,i)&&h.options.successCallback.call(r,e,t,i)}function d(e,t,i){return!1!==r.config.error.call(r,e,t,i)&&h.options.errorCallback.call(r,e,t,i)}return s.beforeSend=function(e,t){if(!1===r.config.before.call(r,e,t))return!1;r.config.pendingStatus&&(i=p.dialog.pending(r.config.pendingMessage))},s.success=function(e,t,i){var n;l(),r.config.parse?((n=p.response.result).status=!0,n.result=e,!1!==r.config.complete.call(r,n,p.response.type.success,i)&&c(n,p.response.type.success,i)):(this.xhr=i,p.response.parse(e,this,function(e,t){c(e,t,i)},function(e,t){d(e,t,i)},function(e,t){return r.config.complete.call(r,e,t,i)}))},s.error=function(e,t,i){l();var n="parsererror"===t?p.response.type.parse:p.response.type.http,t=p.response.result;t.status=!1,t.message=e.status+" "+i,!1!==r.config.complete.call(r,t,n,e)&&d(t,n,e)},s.xhr=function(){var e=u.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){!1!==r.config.progress.call(r,e)&&h.options.progressCallback.call(r,e)},!1),e},r.ajax=u.ajax(s),r.ajax}},p.request=function(e,t){return new h(e,t)},p.request.setOptions=function(e,t){"string"==typeof e?h.options[e]=t:h.options=u.extend(h.options,e)}}(jQuery,window.busyAdmin||{}),function(u,e){function p(){this.parseCallback=null,this.bindCodeList={}}p.result={status:!1,message:"",url:"",code:0,result:{}},p.type={success:0,http:1,parse:2,logic:3},p.prototype={parse:function(e,t,i,n,a){var r;i="function"==typeof i?i:u.noop,n="function"==typeof n?n:u.noop,a="function"==typeof a?a:u.noop;var o=p.result;if(o.status=!1,"string"!=typeof e&&e)r=e;else if("function"==typeof this.parseCallback)r=this.parseCallback.call(t,e)||{};else{if("{"!==(e=u.trim(e)).charAt(0)||"}"!==e.charAt(e.length-1))return void(!(o.message="è¿åæ°æ®è§£æå¼å¸¸")!==a(o,p.type.parse)&&n(o,p.type.parse));try{r=JSON.parse(e)}catch(e){return o.message="è§£ææ°æ®å¼å¸¸: "+e,void(!1!==a(o,p.type.parse)&&n(o,p.type.parse))}}var s=[];if(["status","code","message","url","result"].map(function(e){r.hasOwnProperty(e)||s.push(e)}),0<s.length)return o.message="è¿åçåæ°ä¸­å¿é¡»åå«é®: "+s.join(","),void(!1!==a(o,p.type.parse)&&n(o,p.type.parse));for(var l=this.bindCodeList[r.code]||[],c=l.length-1;0<=c;c--){var d=l[c].callback||null;if("function"==typeof d&&!1===d(r))return}!1!==a(r,r.status?p.type.success:p.type.logic)&&(r.status?i(r,p.type.success):n(r,p.type.logic))},setParse:function(e){return this.parseCallback=e,this},bindCode:function(e,t){return this.bindCodeList[e]=this.bindCodeList[e]||[],this.bindCodeList[e].push({callback:t}),this}},e.response=new p,e.response.result=p.result,e.response.type=p.type}(jQuery,window.busyAdmin||{}),function(n,a){n(document).on("click.busy-admin-detail",'[data-toggle="busy-admin-detail"],[busy-admin-detail]',function(e){e.preventDefault();var t=n(this),i=t.data(),e=a.getConfig("adminDetail");t.busyAdminModal({url:e.url,params:{id:i.userId||"",title:i.title||""},borderTop:!1,borderBottom:!1,padding:0,ok:!1,cancel:"å³é­"}),t.busyAdminModal("show")})}(jQuery,busyAdmin),function(){var e=busyAdmin;define("./busyAdmin/plugins/audioViewer",[e.sys.core,e.sys.jquery],function(t,o){var s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.init()};function e(i){var n;var a="busy.admin.audio-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return s.prototype={init:function(){var e=this;e.isInit||(e.isInit=!0,e.options.clickHandler&&e.$element.off("click").on("click",function(){e.show()}))},show:function(){var e=layer.open({title:!1,type:1,skin:"busy-audio-viewer-dialog",scrollbar:!1,content:'<div class="busy-audio-viewer-dialog-content"><audio src="'+this.options.src+'"></audio></div>',success:function(e,t){var i=e.find(".busy-audio-viewer-dialog-content");layer.area(t,i.width(),i.height()),this.offset(),e.find("audio").busyAdminAudio()}});o(document).on(t.e.appRenderBefore,function(){layer.close(e)})},destroy:function(){this.isInit&&(this.isInit=!1,this.options.clickHandler&&this.$element.off("click"))}},s.DEFAULTS={src:"",clickHandler:!0},o.fn.busyAdminAudioViewer=e,o.fn.busyAdminAudioViewer.Constructor=s,t.plugins.AudioViewer=s,t.autoInit('[data-toggle="busy-audio-viewer"],[busy-audio-viewer]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/audio",[e.sys.core,e.sys.jquery],function(i,o){var n=false,s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,t||{});i.$wrap=null;i.ready(i.init)};function e(n){var a,r=Array.prototype.slice.call(arguments);return r.shift(),this.each(function(){var e="busy.admin.audio.api",t=o(this),i=t.data(e);i||t.data(e,i=new s(this,"object"==typeof n&&n)),"string"==typeof n&&(a=i[n].apply(i,r))}),"string"!=typeof n?this:a}return s.prototype={ready:function(e){var t=this;n&&audiojs?"function"==typeof e&&e.call(t):require([i.lib.audio],function(){audiojs.events.ready(function(){n=!0,"function"==typeof e&&e.call(t)})})},init:function(){var e=this,t=audiojs.create(e.element,{css:!1});e.$wrap=o(t.wrapper).addClass("busy-admin-audio");t=e.$wrap.find(".play-pause");t.find(".play").addClass("fa fa-play"),t.find(".pause").addClass("fa fa-pause"),t.find(".loading").addClass("fa fa-spinner fa-spin"),t.find(".error").addClass("fa fa-info-circle text-danger"),e.$wrap.find(".error-message").addClass("text-danger"),i.helper.triggerPluginReady(e.$element,"Audio",e)}},s.DEFAULTS={},o.fn.busyAdminAudio=function(n){var a,r=Array.prototype.slice.call(arguments);return r.shift(),this.each(function(){var e="busy.admin.audio.api",t=o(this),i=t.data(e);i||t.data(e,i=new s(this,"object"==typeof n&&n)),"string"==typeof n&&(a=i[n].apply(i,r))}),"string"!=typeof n?this:a},o.fn.busyAdminAudio.Constructor=s,i.plugins.Audio=s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/autocomplete",[e.sys.core,e.sys.jquery],function(o,s){var l=function(e,t){var i=this;i.element=e;i.$element=s(e);i.options=s.extend(true,{},l.DEFAULTS,i.$element.data(),t||{});i.ready(i.init)};function e(i){var n;var a="busy.admin.autocomplete.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return l.prototype={ready:function(e){var t=this;window.autoComplete?"function"==typeof e&&e.call(t):require([o.lib.autocomplete],function(){"function"==typeof e&&e.call(t)})},init:function(){var e=this,r=e.options;e.isInit||(e.isInit=!0,s(document).one(o.e.appRenderBefore,function(){e.destroy()}),e.api=new window.autoComplete({selector:e.element,delay:r.delay,minChars:r.searchMin,menuClass:"busy-admin-autocomplete",source:function(e,a){if(r.url||r.model)o.request("function"==typeof r.url?r.url():r.url).method("POST").addHeader("Busy-Admin-Plugin","Autocomplete").params({model:r.model,extend:r.modelExtend?1:0,text_field:r.textField,order:r.order,limit:r.limit,word:e}).pending(!1).success(function(e,t,i){var n=[];return s.each(e.result.results||[],function(){var e=(this.text||"").trim();e&&n.push(e)}),a(n),!1}).error(function(e,t,i){return!1}).exec();else{var t=r.list||[],n=[];for(i=0;i<t.length;i++)-1!==t[i].toLowerCase().indexOf(e)&&n.push(t[i]);a(n)}}}),o.helper.triggerPluginReady(e.$element,"Autocomplete",e))},destroy:function(){this.api.destroy()}},l.DEFAULTS={list:[],searchMin:1,url:!1,textField:"name",order:"id DESC",limit:20,delay:250,model:"",modelExtend:!1},s.fn.busyAdminAutocomplete=e,s.fn.busyAdminAutocomplete.Constructor=l,o.plugins.Autocomplete=l,s.extend(o.e,{}),o.autoInit('[data-toggle="busy-autocomplete"],[busy-autocomplete]',function(){e.call(this)}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/calendar",[e.sys.core,e.sys.jquery],function(i,o){var n=false,s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.ready(i.init)};function e(i){var n;var a="busy.admin.calendar.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string"){n=t[i].apply(t,r);if(i=="destroy")e.removeData(a)}});if(typeof i==="string")return n;return this}s.prototype={ready:function(e){var t=this;if(n)typeof e==="function"&&e.call(t);else require([i.lib.fullcalendar],function(){n=true;typeof e==="function"&&e.call(t)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;e.$element.addClass("ba-calendar");var t=e.options;t.themeSystem="bootstrap";t.locale="zh-cn";if(typeof t.headerToolbar==="string"||!t.headerToolbar){if(!t.headerToolbar||!s.TOOLBARS.hasOwnProperty(t.headerToolbar))t.headerToolbar="default";t.headerToolbar=s.TOOLBARS[t.headerToolbar]}e.api=new FullCalendar.Calendar(e.element,t);e.api.render();i.helper.triggerPluginReady(e.$element,"Calendar",e)},getApi:function(){return this.api},destroy:function(){let e=this;e.isInit=false;e.$element.removeAttr("data-toggle").removeAttr("busy-calendar");if(!e.api)return;e.api.destroy()}},s.DEFAULTS={headerToolbar:"default",selectable:true,initialView:"dayGridMonth",locale:"zh-cn"},s.TOOLBARS={default:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},mini:{left:"prev,next",center:"title",right:"today"}},o.fn.busyAdminCalendar=e,o.fn.busyAdminCalendar.Constructor=s,i.plugins.Calendar=s;var t="calendar";return o.extend(i.e,{}),i.autoInit('[data-toggle="busy-calendar"],[busy-calendar]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/catalog",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(s,l,e){"use strict";var n=false,o=function(e,t){this.$element=l(e);this.options=l.extend(true,{},o.DEFAULTS,this.$element.data()||{},t||{});this.id=s.helper.uuid();this.scrollSelector=null;this.ready(this.render)};function t(i){var n;var a="busy.admin.catalog.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=l(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return o.prototype={ready:function(t){var i=this;n?"function"==typeof t&&t.call(i):require([s.lib.sticky],function(e){n=!0,"function"==typeof t&&t.call(i)})},render:function(){var n=this,e=n.$element;n.options.container&&(e=l(n.options.container)),e.find(n.getId()).remove(),e.append(n.create()),n.options.scroll&&(n.scrollSelector=n.options.scroll,!0===n.options.scroll&&(n.scrollSelector=document.body),l(n.scrollSelector).scrollspy({target:this.getId(),offset:this.options.top})),n.options.sticky&&l(n.scrollSelector).is("body")&&l(n.getId()).sticky({topSpacing:this.options.top||0,bottomSpacing:this.options.bottom||0}),e.find(".nav a").on("click",function(e){e.preventDefault();var t=l(this).attr("href");if(0!==t.indexOf("#"))return!0;var i=l(t),e=l(n.scrollSelector),t=i.position().top;return e.is("body")&&(e=l("body,html"),t=i.offset().top),n.isScrollPending=!0,e.animate({scrollTop:t-(n.options.top||0)},function(){n.isScrollPending=!1}),!1}),l(document).one(s.e.appRenderBefore,l.proxy(n.destroy,n)),s.helper.triggerPluginReady(n.$element,"Catalog",n)},create:function(){var r=this,e=r.$element.find("h1,h2,h3,h4,h5,h6"),o=[];e.each(function(e){var t=l(this);if(r.options.filterSelector&&0<t.closest(r.options.filterSelector).length)return!0;var i=this.tagName.charAt(1),n=(t.attr("id")||"").trim(),a=t.text().trim();if(!a)return!0;n=(n=s.helper.base64Encode(a+":"+i+"_"+e)).replace(/[=\/+]/g,""),t.attr("id",n),o.push({name:a,id:n,level:i})});var t=this.toTree(o),i=function(e){var t='<ul class="nav">';return l.each(e,function(){t+='<li><a href="#'+this.id+'">'+this.name+"</a>"+(this.children?i(this.children):"")+"</li>"}),t+="</ul>"},e=i(t),t="";return this.options.title&&(t='<div class="panel-heading busy-admin-catalog-title">'+this.options.title+"</div>"),'<div class="panel panel-default busy-admin-catalog" id="'+this.id+'">'+t+e+"</div>"},toTree:function(e){var t=[],a=function(e,t){var i=t.shift();for(e.push(i);0<t.length;){if(!i)return;var n=function(e,t){if(e){for(var i=-e.level,n=[],a=0,r=t.length;a<r;a++){var o=t[a];if(!(-o.level<i))break;n.push(o)}return 0<n.length&&t.splice(0,n.length),n}}(i,t,i.level);0!=n.length?(i.children=[],a(i.children,n)):(i=t.shift())&&e.push(i)}};return a(t,e),t},getId:function(){return"#"+this.id},destroy:function(){this.options.scroll&&l(this.scrollSelector).removeData("bs.scrollspy"),this.options.sticky&&l(this.getId()).unstick()}},o.DEFAULTS={title:"ç®å½",container:null,scroll:null,sticky:!1,top:0,bottom:0,filterSelector:null},l.fn.busyAdminCatalog=t,l.fn.busyAdminCatalog.Constructor=o,s.plugins.Catalog=o,s.autoInit('[data-toggle="busy-catalog"],[busy-catalog]',function(){t.call(this)}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/changeVerify",[e.sys.core,e.sys.jquery],function(e,o){"use strict";var s=function(e,t){this.$element=o(e);this.options=o.extend(true,{},s.DEFAULTS,this.$element.data()||{},t||{});this.source=this.$element.attr("src");this.init()};function t(i){var n;var a="busy.admin.changeVerify.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return s.prototype={init:function(){var t=this,e=t.options;t.isInit||(t.isInit=!0,e.clickHandler&&t.$element.on("click.busyAdmin",function(e){return e.preventDefault(),t.change(),!1}))},change:function(){var e=this.source;-1===this.source.indexOf("?")?e+="?":e+="&",this.$element.attr("src",e+"__rand__t="+Math.random())}},s.DEFAULTS={clickHandler:!0},o.fn.busyAdminChangeVerify=t,o.fn.busyAdminChangeVerify.Constructor=s,e.plugins.ChangeVerify=s,o(document).on("click.busyAdmin",'[data-toggle="busy-change-verify"],[busy-change-verify]',function(e){return e.preventDefault(),t.call(o(this),{clickHandler:!1}),t.call(o(this),"change"),!1}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/checkboxRadio",[e.sys.core,e.sys.jquery],function(r,o){var s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.init()};function e(i){var n="busy.admin.checkbox.api";var e=Array.prototype.slice.call(arguments);e.shift();return this.each(function(){var e=o(this);var t=e.data(n);if(!t)e.data(n,t=new s(this,typeof i==="object"&&i))})}return s.prototype={init:function(){var e,i,t,n,a=this;a.isInit||(a.isInit=!0,"input"===a.element.tagName.toLowerCase()&&(e=(a.$element.attr("type")||"").toLowerCase(),"checkbox"!==(this.elementType=e)&&"radio"!==e||(a.options.title||(a.options.title=a.$element.attr("title")||""),t=a.$element.attr("id")||"__busy_admin_checkbox_radio_"+s.INDEX++,a.$element.attr("id",t),a.$icon=o('<i class="bicon" />'),a.$text=o("<span />"),a.$label=o('<label for="'+t+'" />'),a.$label.append(a.$icon),a.$label.append(a.$text),i=[],n="",o.each((a.$element.attr("class")||"").split(" "),function(e,t){(t=t.trim()).length&&i.push(t)}),-1===i.indexOf("pill")&&-1===i.indexOf("switch")?(i.push("default"),n="default"):-1!==i.indexOf("pill")?n="pill":-1!==i.indexOf("switch")&&(n="switch"),0<(t=a.$element.closest("."+e+"-group")).length&&t.addClass(n),a.$template=o('<div class="busy-admin-'+e+" "+i.join(" ")+'"/>'),a.$template.append(a.$label),a.isSwitch=a.$element.hasClass("switch"),a.switchOn="",a.switchOff="",a.isSwitch?(n=a.options.title||"",o.isArray(n)||-1===n.indexOf(",")||(n=n.split(",")),o.isArray(n)&&(a.switchOn=n[0]||a.options.locale.on,a.switchOff=n[1]||a.options.locale.off),a.$text.html(a.$element.prop("checked")?a.switchOn:a.switchOff)):a.options.title?(a.$text.html(a.options.title),a.$template.removeClass("untitled")):(a.$text.addClass("hide"),a.$template.addClass("untitled")),a.requestOptions={},a.options.url&&(o.extend(!0,a.requestOptions,a.options),a.requestOptions.headers=o.extend({},a.requestOptions.headers||{},{"Busy-Admin-Plugin":"checkbox"===e?"Checkbox":"Radio"}),a.requestOptions.params=a.requestOptions.params||{},a.requestOptions.clickHandler=!1,a.$element.on(r.e.requestError,function(){a.$element.prop("checked",!o(this).prop("checked")).trigger(o.Event("change",{__checkboxRadioNoRequest:!0}))})),a.$element.after(a.$template),a.$template.prepend(a.$element),a.$element.on("change.busyAdmin",function(e){a._decorate();var t=this.hasAttribute("value"),i=o(this);a.options.url&&!e.__checkboxRadioNoRequest&&(a.requestOptions.params.status=a.$element.prop("checked")?1:0,a.requestOptions.params.value=t?i.val():"",a.$element.busyAdminRequest(a.requestOptions))}),a._decorate(),r.helper.triggerPluginReady(a.$element,"CheckboxRadio",a))))},_decorate:function(){var e=this,t=e.$element.prop("checked");e.isSwitch&&e.$text.html(t?e.switchOn:e.switchOff)}},s.INDEX=0,s.DEFAULTS={title:"",url:void 0,locale:o.extend({},{on:"å¼å¯",off:"å³é­"},((r.locale||{}).plugin||{}).checkboxRadio||{})},o.fn.busyAdminCheckboxRadio=e,o.fn.busyAdminCheckboxRadio.Constructor=s,r.plugins.CheckboxRadio=s,r.autoInit('[data-toggle="busy-checkbox"],[data-toggle="busy-radio"],[busy-checkbox],[busy-radio]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/checkedAll",[e.sys.core,e.sys.jquery],function(e,c){"use strict";c(document).on("change",'[data-toggle="busy-checked-all"],[busy-checked-all]',function(e){var t=c(this);var i=t.prop("checked");var n=t.data()||{};if(n.child&&e.__CheckedAllChildNoChange!==true)c(n.child).not(":disabled").prop("checked",i).trigger("change");if(n.parent){var a=true;var r=0;var o=0;var s=c(n.parent);var l=s.data()||{};if(!l.child)return;c(l.child).each(function(){var e=c(this);if(e.prop("disabled"))return true;var t=e.prop("checked");if(!t&&!this.indeterminate)a=false;if(t)r++;if(this.indeterminate)o++});if(r===0&&o===0){s.each(function(){this.indeterminate=false;c(this).removeClass("indeterminate")});s.prop("checked",false)}else if(!a||o!==0){s.each(function(){this.indeterminate=true;c(this).addClass("indeterminate")});s.prop("checked",false)}else{s.each(function(){this.indeterminate=false;c(this).removeClass("indeterminate")});s.prop("checked",true)}s.trigger(c.Event("change",{__CheckedAllChildNoChange:true}))}}),e.autoInit('[data-toggle="busy-checked-all"],[busy-checked-all]',function(){var i="busy.admin.checked.all.api";var n=[];var a=[];c(this).each(function(){var e=c(this);if(e.data(i))return true;e.data(i,true);var t=e.data()||{};if(t.parent&&e.prop("checked")&&-1===n.indexOf(t.parent)){e.trigger(c.Event("change",{__CheckedAllChildNoChange:true}));n.push(t.parent)}if(t.child&&e.prop("checked")&&-1===a.indexOf(t.child)){e.trigger("change");a.push(t.child)}})})})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/colorPicker",[e.sys.core,e.sys.jquery],function(a,o){"use strict";var r="color-picker",i=false,s=function(e,t){var i=this;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.options.hexNumberSignPrefix=i.options.hexPrefix;i.options.colorSelectors=i.options.selectors;i.options.customClass="busy-admin-color-picker"+(i.options.className||"");if(i.options.inline)i.options.container=true;i.options.sliders={saturation:{maxLeft:150,maxTop:150},hue:{maxTop:150},alpha:{maxTop:150}};i.api=null;i.ready(i.init)};function e(i){var n;var a="busy.admin.color-picker";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return s.prototype={ready:function(e){var t=this;i?"function"==typeof e&&e.call(t):require([a.lib.colorPicker],function(){i||Object.keys(o.colorpicker.prototype).map(function(e){-1===["constructor","destroy"].indexOf(e)&&(s.prototype[e]=function(){if(this.api)return this.api[method].apply(this.api,Array.prototype.slice.call(arguments))})}),i=!0,"function"==typeof e&&e.call(t)})},init:function(){var n=this;n.isInit||(n.options.template='<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors clearfix"></div><div class="colorpicker-operate"><button class="btn btn-default btn-xs" type="button">æ¸ç©º</button></div></div>',n.isInit=!0,n.$element.colorpicker(n.options),n.api=n.$element.data("colorpicker"),n.$element.on("create showPicker hidePicker changeColor disable enable destroy",function(e){var t,i=[n];"changeColor"===e.type?(i=[n,n.api.color],n.api.hasInput()&&n.api.input.trigger("input")):"create"===e.type&&(t=n.api.picker.find(".colorpicker-operate"),n.api.hasInput()?(t.removeClass("hide"),t.find("button").on("mousedown",function(e){e.preventDefault()}).on("click",function(e){n.api.input.val("").trigger("input").trigger("change").blur(),n.$element.triggerHandler(a.ee("clear",r)),n.api.hide()})):t.addClass("hide")),n.$element.triggerHandler(a.ee(e.type,r),i)}),o(document).one(a.e.appRenderBefore,function(){n.destroy()}),a.helper.triggerPluginReady(n.$element,"ColorPicker",n))},destroy:function(){this.api&&this.api.destroy()}},s.DEFAULTS={format:"hex",color:!1,component:".add-on, .input-group-addon",input:"input",hexPrefix:!0,inline:!1,container:!1,align:"left",selectors:null,className:""},o.fn.busyAdminColorPicker=e,o.fn.busyAdminColorPicker.Constructor=s,a.plugins.ColorPicker=s,o.extend(a.e,{colorPickerCreate:a.ee("create",r),colorPickerShow:a.ee("show-picker",r),colorPickerHide:a.ee("hide-picker",r),colorPickerChange:a.ee("change-color",r),colorPickerDisable:a.ee("disable",r),colorPickerEnable:a.ee("enable",r),colorPickerDestroy:a.ee("destroy",r),colorPickerClear:a.ee("clear",r)}),a.autoInit('[data-toggle="busy-color-picker"],[busy-color-picker]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/copy",[e.sys.core,e.sys.jquery],function(n,o){var a=null,s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.ready(i.init)};function e(i){var n;var a="busy.admin.copy.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return s.prototype={ready:function(t){var i=this;a?"function"==typeof t&&t.call(i):require([n.lib.clipboard],function(e){a=e,"function"==typeof t&&t.call(i)})},init:function(){var i=this,e={action:function(){return i.options.action||"copy"},text:function(e){var t="",e=o(e);return i.options.content?t=i.options.content:i.options.target&&(t=!0===i.options.target?i.getText(e):i.getText(o(i.options.target))),"html"===i.options.onDecode?t=n.helper.htmlDecode(t):"string"==typeof(e=n.helper.execCallback(i.options.onDecode,i.element,[t],i.$element,n.e.copyDecode,!0,"string",!0))&&(t=e),t}};i.options.target&&!0!==i.options.target&&(e.target=function(e){return o(i.options.target)[0]});e=new a(i.element,e);e.on("success",function(e){e.clearSelection(),"cut"===i.options.action&&i.options.target&&(!0===i.options.target?i.$element:o(i.options.target)).val(""),!1!==n.helper.execCallback(i.options.onSuccess,i.element,[],i.$element,n.e.copySuccess,!0,!1)&&n.dialog.toast("cut"===i.options.action?i.options.locale.cutSuccess:i.options.locale.copySuccess)}),e.on("error",function(){!1!==n.helper.execCallback(i.options.onError,i.element,[],i.$element,n.e.copyError,!0,!1)&&n.dialog.toast("cut"===i.options.action?i.options.locale.cutError:i.options.locale.copyError)}),n.helper.triggerPluginReady(i.$element,"Copy",i)},getText:function(e){e=e.is(":text")?e.val():e.html();return e}},s.DEFAULTS={target:null,onDecode:null,onSuccess:null,onError:null,locale:o.extend({copySuccess:"å¤å¶æå",copyError:"å¤å¶å¤±è´¥",cutSuccess:"åªåæå",cutError:"åªåå¤±è´¥"},((n.locale||{}).plugin||{}).copy||{})},o.fn.busyAdminCopy=e,o.fn.busyAdminCopy.Constructor=s,n.plugins.Copy=s,o.extend(n.e,{copySuccess:n.ee("success","copy"),copyError:n.ee("error","copy"),copyDecode:n.ee("decode","copy")}),n.autoInit('[data-toggle="busy-copy"],[busy-copy]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/datePicker",[e.sys.core,e.sys.jquery],function(S,T){"use strict";var _,n=function(e,t,i){this.parentEl="body";this.element=T(e);this.minDate=false;this.maxDate=false;this.maxSpan=false;this.singleDatePicker=false;this.showDropdowns=true;this.showWeekNumbers=false;this.showISOWeekNumbers=false;this.showCustomRangeLabel=true;this.timePicker=false;this.timePicker24Hour=true;this.timePickerIncrement=1;this.timePickerSeconds=true;this.timePickerMinute=true;this.linkedCalendars=false;this.autoUpdateInput=false;this.alwaysShowCalendars=false;this.pickerType="date";this.ranges={};this.moveTimer=null;this.valueTarget=null;this.hideClearBtn=false;this.force=false;this.sourceContent="";this.startTarget=null;this.endTarget=null;this.callback=typeof i==="function"?i:T.noop;this.isShowing=false;this.leftCalendar={};this.rightCalendar={};this.opens="right";if(this.element.hasClass("pull-right"))this.opens="left";this.drops="down";if(this.element.hasClass("dropup"))this.drops="up";this.buttonClasses="btn btn-sm";this.applyButtonClasses="btn-primary";this.nowButtonClasses="btn-default";this.clearButtonClasses="btn-default";this.options=T.extend(true,{},n.DEFAULTS,this.element.data()||{},t||{});this.locale=this.options.locale;this.ready(this.init)};function e(i){return this.each(function(){var e=T(this);var t=e.data("busy.admin.date.picker");if(!t)t=new n(this,typeof i==="object"&&i);t.ready(t.show)})}return n.prototype={constructor:n,init:function(){var e,t,i,n,a,r,o,s,l,c,d,u,p,h=this.options;if(this.startDate=this.getInitStartDate(),this.endDate=this.getInitEndDate(),this.minYear=_().subtract(100,"year").format("YYYY"),this.maxYear=_().add(100,"year").format("YYYY"),this.locale.firstDay=_.localeData().firstDayOfWeek(),h.format&&(this.locale.format=h.format,e="date",t=-1!==(l=h.format).indexOf("Y"),i=-1!==l.indexOf("M"),n=-1!==l.indexOf("D"),a=-1!==l.indexOf("H"),r=-1!==l.indexOf("m"),o=-1!==l.indexOf("s"),l=s=!0,t&&i&&n?(a||r||o)&&(e="datetime"):t&&i?e="month":t?e="year":(a||r||o)&&(e="time"),r?o||(l=!1):l=s=!1,h.pickerType=e,h.timePickerSeconds=l,h.timePickerMinute=s),h.range){if(!(h.singleDatePicker=!1)!==h.range&&(this.locale.separator=h.range),"string"!=typeof h.ranges&&!1!==h.ranges?"year"===h.pickerType?(g=(v=_().startOf("year")).clone().subtract(1,"year"),h.ranges={},h.ranges[this.locale.thisYear]=[v,v],h.ranges[this.locale.lastYear]=[g,g],h.ranges[S.helper.sprintf(this.locale.lastNYear,"2")]=[g,v],h.ranges[S.helper.sprintf(this.locale.lastNYear,"3")]=[g.clone().subtract(2,"year"),v],h.ranges[S.helper.sprintf(this.locale.lastNYear,"6")]=[g.clone().subtract(5,"year"),v]):"month"===h.pickerType?(y=(b=_().startOf("month")).clone().subtract(1,"month"),h.ranges={},h.ranges[this.locale.thisMonth]=[b,b],h.ranges[this.locale.lastMonth]=[y,y],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"2")]=[y.clone(),b],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"3")]=[y.clone().subtract(2,"month"),b],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"6")]=[y.clone().subtract(5,"month"),b]):"time"===h.pickerType?(h.ranges={},h.ranges[this.locale.todayToNow]=[_().startOf("days"),_()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"1")]=[_().subtract(1,"hours"),_()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"2")]=[_().subtract(2,"hours"),_()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"3")]=[_().subtract(3,"hours"),_()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"6")]=[_().subtract(6,"hours"),_()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"12")]=[_().subtract(12,"hours"),_()],h.ranges[this.locale.forenoon]=[_().startOf("days"),_().startOf("days").add(12,"hours")],h.ranges[this.locale.afternoon]=[_().startOf("days").add(12,"hours"),_().endOf("days")],h.ranges[this.locale.allDay]=[_().startOf("days"),_().endOf("days")]):(h.ranges={},h.ranges[this.locale.today]=[_().startOf("days"),_().endOf("days")],h.ranges[this.locale.yesterday]=[_().startOf("days").subtract(1,"days"),_().endOf("days").subtract(1,"days")],h.ranges[S.helper.sprintf(this.locale.lastNDay,"7")]=[_().startOf("days").subtract(6,"days"),_().endOf("days")],h.ranges[S.helper.sprintf(this.locale.lastNDay,"30")]=[_().startOf("days").subtract(29,"days"),_().endOf("days")],h.ranges[this.locale.thisMonth]=[_().startOf("month"),_().endOf("month")],h.ranges[this.locale.lastMonth]=[_().subtract(1,"month").startOf("month"),_().subtract(1,"month").endOf("month")]):!1!==h.ranges&&(h.ranges=window[h.ranges]||!1),"string"==typeof h.span&&h.span){for(var f=(h.span||"").split(","),m=0;m<f.length;m++)f[m]=f[m].trim();var g=S.helper.int((f[0]||"0").trim()),v=S.helper.int((f[1]||"0").trim()),y=S.helper.int((f[2]||"0").trim()),b=S.helper.int((f[3]||"0").trim()),m=S.helper.int((f[4]||"0").trim()),w=S.helper.int((f[5]||"0").trim());h.span={},0<g&&(h.span.year=g-1),0<v&&(h.span.month=v-1),0<y&&(h.span.days=y-1),0<b&&(h.span.hours=b-1),0<m&&(h.span.minute=m-1),0<w&&(h.span.secoud=w-1)}}else h.singleDatePicker=!0;if("string"==typeof h.template||h.template instanceof T||(h.template='<div class="busy-admin-date-picker">    <div class="ranges"></div>    <div class="drp-calendar left">        <div class="calendar-table"></div>        <div class="calendar-time"></div>    </div>    <div class="drp-calendar right">        <div class="calendar-table"></div>        <div class="calendar-time"></div>    </div>    <div class="drp-buttons">        <span class="drp-selected"></span>        <div class="btn-group">            <button class="clearBtn" type="button"></button>            <button class="nowBtn" type="button"></button>            <button class="applyBtn" disabled="disabled" type="button"></button>        </div>    </div>    <div class="arrow"></div></div>'),h.container?"@modal"===h.container?this.parentEl=this.element.closest(".modal"):this.parentEl=T(h.container):(u=this.element.closest(".modal")).length?this.parentEl=u:this.parentEl=h.parentEl&&T(h.parentEl).length?T(h.parentEl):T(this.parentEl),this.container=T(h.template).appendTo(this.parentEl),this.$arrow=this.container.find(".arrow"),this.container.addClass(this.locale.direction),"string"==typeof h.valueTarget&&(this.valueTarget=h.valueTarget),"string"==typeof h.startDate&&(this.startDate=_(h.startDate,this.locale.format)),"string"==typeof h.endDate&&(this.endDate=_(h.endDate,this.locale.format)),"string"==typeof h.minDate&&(this.minDate=_(h.minDate,this.locale.format)),"string"==typeof h.maxDate&&(this.maxDate=_(h.maxDate,this.locale.format)),"object"==typeof h.startDate&&(this.startDate=_(h.startDate)),"object"==typeof h.endDate&&(this.endDate=_(h.endDate)),"object"==typeof h.minDate&&(this.minDate=_(h.minDate)),"object"==typeof h.maxDate&&(this.maxDate=_(h.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof h.applyButtonClasses&&(this.applyButtonClasses=h.applyButtonClasses),"string"==typeof h.applyClass&&(this.applyButtonClasses=h.applyClass),"string"==typeof h.nowButtonClasses&&(this.nowButtonClasses=h.nowButtonClasses),"string"==typeof h.nowClass&&(this.nowButtonClasses=h.nowClass),"string"==typeof h.clearButtonClasses&&(this.clearButtonClasses=h.clearButtonClasses),"string"==typeof h.clearClass&&(this.nowButtonClasses=h.clearClass),"object"==typeof h.span&&(this.maxSpan=h.span),"string"==typeof h.opens&&(this.opens=h.opens),"string"==typeof h.drops&&(this.drops=h.drops),"boolean"==typeof h.showWeekNumbers&&(this.showWeekNumbers=h.showWeekNumbers),"boolean"==typeof h.showISOWeekNumbers&&(this.showISOWeekNumbers=h.showISOWeekNumbers),"string"==typeof h.buttonClasses&&(this.buttonClasses=h.buttonClasses),"object"==typeof h.buttonClasses&&(this.buttonClasses=h.buttonClasses.join(" ")),"boolean"==typeof h.showDropdowns&&(this.showDropdowns=h.showDropdowns),"number"==typeof h.minYear&&(this.minYear=h.minYear),"number"==typeof h.maxYear&&(this.maxYear=h.maxYear),"boolean"==typeof h.custom&&(this.showCustomRangeLabel=h.custom),"boolean"==typeof h.singleDatePicker&&(this.singleDatePicker=h.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof h.timePicker&&(this.timePicker=h.timePicker),"boolean"==typeof h.timePickerMinute&&(this.timePickerMinute=h.timePickerMinute),"boolean"==typeof h.timePickerSeconds&&(this.timePickerSeconds=h.timePickerSeconds),"number"==typeof h.timePickerIncrement&&(this.timePickerIncrement=h.timePickerIncrement),"boolean"==typeof h.timePicker24Hour&&(this.timePicker24Hour=h.timePicker24Hour),"boolean"==typeof h.input&&(this.autoUpdateInput=h.input),"boolean"==typeof h.link&&(this.linkedCalendars=h.link),"function"==typeof h.isInvalidDate&&(this.isInvalidDate=h.isInvalidDate),"function"==typeof h.isCustomDate&&(this.isCustomDate=h.isCustomDate),"boolean"==typeof h.alwaysShowCalendars&&(this.alwaysShowCalendars=h.alwaysShowCalendars),"boolean"==typeof h.clear&&(this.hideClearBtn=!h.clear),"boolean"==typeof h.force&&(this.force=h.force,this.sourceContent=this.element.html()),0!=this.locale.firstDay)for(var k=this.locale.firstDay;0<k;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),k--;if(void 0===h.startDate&&void 0===h.endDate&&T(this.element).is(":text")&&(p=c=null,2==(u=(w=T(this.element).val()).split(this.locale.separator)).length?(p=_(u[0],this.locale.format),c=_(u[1],this.locale.format)):this.singleDatePicker&&""!==w&&(p=_(w,this.locale.format),c=_(w,this.locale.format)),null!==p&&null!==c&&(this.setStartDate(p),this.setEndDate(c))),"string"==typeof h.startTarget&&(this.startTarget=h.startTarget,h.ranges=!1),"string"==typeof h.endTarget&&(this.endTarget=h.endTarget),"object"==typeof h.ranges){var x="day";for(d in this.timePicker&&this.timePickerMinute&&this.timePickerSeconds?x="second":this.timePicker&&this.timePickerMinute?x="minute":this.timePicker?x="hours":"month"!==this.pickerType&&"year"!==this.pickerType||(x=this.pickerType),h.ranges){p="string"==typeof h.ranges[d][0]?_(h.ranges[d][0],this.locale.format):_(h.ranges[d][0]),c="string"==typeof h.ranges[d][1]?_(h.ranges[d][1],this.locale.format):_(h.ranges[d][1]),this.minDate&&p.isBefore(this.minDate)&&(p=this.minDate.clone());var $=this.maxDate;this.maxSpan&&$?p.clone().add(this.maxSpan).isAfter($)&&($=p.clone().add(this.maxSpan)):this.maxSpan&&($=p.clone().add(this.maxSpan)),$&&c.isAfter($,x)||this.minDate&&c.isBefore(this.minDate,x)||$&&p.isAfter($,x)||(($=document.createElement("textarea")).innerHTML=d,$=$.value,this.ranges[$]=[p,c])}var C="<ul>";for(d in this.ranges)C+='<li data-range-key="'+d+'">'+d+"</li>";this.showCustomRangeLabel&&(C+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),this.hideClearBtn||(C+='<li data-range-key="'+this.locale.clearLabel+'">'+this.locale.clearLabel+"</li>"),C+="</ul>",this.container.find(".ranges").prepend(C)}"string"==typeof h.pickerType&&h.pickerType.length&&(this.pickerType=h.pickerType,"datetime"!==h.pickerType&&"time"!==h.pickerType||(this.timePicker=!0)),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),"object"==typeof h.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide()),(void 0===h.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .nowBtn, .clearBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.nowButtonClasses.length&&this.container.find(".nowBtn").addClass(this.nowButtonClasses),this.clearButtonClasses.length&&this.container.find(".clearBtn").addClass(this.clearButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".nowBtn").html(this.locale.nowLabel),this.container.find(".clearBtn").html(this.locale.clearLabel),(this.autoUpdateInput||this.hideClearBtn)&&this.container.find(".clearBtn").remove(),this.container.find(".drp-calendar").on("click.busy-admin-date-picker",".prev",T.proxy(this.clickPrev,this)).on("click.busy-admin-date-picker",".next",T.proxy(this.clickNext,this)).on("click.busy-admin-date-picker","td.available,span.col-xs-4.available",T.proxy(this.clickDate,this)).on("mouseenter.busy-admin-date-picker","td.available,span.col-xs-4.available",T.proxy(this.hoverDate,this)).on("click.busy-admin-date-picker","span.year-select",T.proxy(this.showYearView,this)).on("click.busy-admin-date-picker","span.month-select",T.proxy(this.showMonthView,this)).on("change.busy-admin-date-picker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",T.proxy(this.timeChanged,this)).on("click.busy-admin-date-picker","span.available.time-picker-item",T.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.busy-admin-date-picker","li",T.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.busy-admin-date-picker","button.applyBtn",T.proxy(this.clickApply,this)).on("click.busy-admin-date-picker","button.clearBtn",T.proxy(this.clickClear,this)).on("click.busy-admin-date-picker","button.nowBtn",T.proxy(this.clickNow,this)),this.element.is(":text")||this.element.is("button")?this.element.on({"click.busy-admin-date-picker":T.proxy(this.show,this),"focus.busy-admin-date-picker":T.proxy(this.show,this),"keyup.busy-admin-date-picker":T.proxy(this.elementChanged,this),"keydown.busy-admin-date-picker":T.proxy(this.keydown,this)}):(this.element.on("click.busy-admin-date-picker",T.proxy(this.toggle,this)),this.element.on("keydown.busy-admin-date-picker",T.proxy(this.toggle,this))),this.element.data("busy.admin.date.picker",this),this.updateElement()},ready:function(t){var i=this;_?"function"==typeof t&&t.call(i):require([S.lib.moment],function(e){_=e,"function"==typeof t&&t.call(i)})},getTopWrap:function(e){return e.parents(".drp-calendar")},isLeft:function(e){return e.hasClass("left")},isYearPicker:function(e){return 0<e.closest(".table-year-view").length},isMonthPicker:function(e){return 0<e.closest(".table-month-view").length},isAvailable:function(e){return e.hasClass("available")},setStartDate:function(e){"string"==typeof e&&(this.startDate=_(e,this.locale.format)),"object"==typeof e&&(this.startDate=_(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=_(e,this.locale.format)),"object"==typeof e&&(this.endDate=_(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},updateMonthsInView:function(){if("year"!==this.pickerType&&"month"!==this.pickerType){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}else{if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.year()==this.leftCalendar.month.year()||this.startDate.year()==this.rightCalendar.month.year())&&(this.endDate.year()==this.leftCalendar.month.year()||this.endDate.year()==this.rightCalendar.month.year()))return;this.leftCalendar.month=this.startDate.clone().startOf("year"),this.linkedCalendars||this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().startOf("year").add(1,"year"):this.rightCalendar.month=this.endDate.clone().startOf("year")}else this.leftCalendar.month.year()!=this.startDate.year()&&this.rightCalendar.month.year()!=this.startDate.year()&&(this.leftCalendar.month=this.startDate.clone().startOf("year"),this.rightCalendar.month=this.startDate.clone().startOf("year").add(1,"year"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.year()>this.maxDate.year()&&(this.rightCalendar.month=this.maxDate.clone().startOf("year"),this.leftCalendar.month=this.maxDate.clone().startOf("year").subtract(1,"year"))}},updateCalendars:function(){var e,t,i,n;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),i=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(n=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),i=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(n=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(i).second(e),this.rightCalendar.month.hour(t).minute(i).second(e)),this.renderCalendar("left"),this.renderCalendar("right"),"year"===this.pickerType?(this.renderYearOrMonth(!0,!0),this.renderYearOrMonth(!1,!0)):"month"===this.pickerType&&(this.renderYearOrMonth(!0,!1),this.renderYearOrMonth(!1,!1)),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,i=t.month.month(),n=t.month.year(),a=t.month.hour(),r=t.month.minute(),o=t.month.second(),s=_([n,i]).daysInMonth(),l=_([n,i,1]),c=_([n,i,s]),t=_(l).subtract(1,"month").month(),n=_(l).subtract(1,"month").year(),i=_([n,t]).daysInMonth(),s=l.day(),d=[];d.firstDay=l,d.lastDay=c;for(var u=0;u<6;u++)d[u]=[];c=i-s+this.locale.firstDay+1;i<c&&(c-=7),s==this.locale.firstDay&&(c=i-6);for(var p=_([n,t,c,12,r,o]),u=0,h=0,f=0;u<42;u++,h++,p=_(p).add(24,"hour"))0<u&&h%7==0&&(h=0,f++),d[f][h]=p.clone().hour(a).minute(r).second(o),p.hour(12),this.minDate&&d[f][h].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[f][h].isBefore(this.minDate)&&"left"==e&&(d[f][h]=this.minDate.clone()),this.maxDate&&d[f][h].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[f][h].isAfter(this.maxDate)&&"right"==e&&(d[f][h]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var c="left"==e?this.minDate:this.startDate,m=this.maxDate,g='<table class="table-condensed">';g+="<thead>",g+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+="<th></th>"),c&&!c.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=e?g+="<th></th>":g+='<th class="prev available"><span></span></th>';c=d[1][1].format("YYYY"+this.locale.yearName)+" "+this.locale.monthNames[d[1][1].month()];this.showDropdowns&&(c='<span class="year-select">'+d[1][1].format("YYYY"+this.locale.yearName)+'</span><span class="month-select">'+this.locale.monthNames[d[1][1].month()]+"</span>"),g+='<th colspan="5" class="month">'+c+"</th>",m&&!m.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?g+="<th></th>":g+='<th class="next available"><span></span></th>',g+="</tr>",g+='<tr class="week-bar">',(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+='<th class="week">'+this.locale.weekLabel+"</th>"),T.each(this.locale.daysOfWeek,function(e,t){g+="<th>"+t+"</th>"}),g+="</tr>",g+="</thead>",g+="<tbody>",null==this.endDate&&this.maxSpan&&(c=this.startDate.clone().add(this.maxSpan).endOf("day"),m&&!c.isBefore(m)||(m=c));for(f=0;f<6;f++){g+="<tr>",this.showWeekNumbers?g+='<td class="week">'+d[f][0].week()+"</td>":this.showISOWeekNumbers&&(g+='<td class="week">'+d[f][0].isoWeek()+"</td>");for(h=0;h<7;h++){var v=[];d[f][h].isSame(new Date,"day")&&v.push("today"),5<d[f][h].isoWeekday()&&v.push("weekend"),d[f][h].month()!=d[1][1].month()&&v.push("off","ends"),this.minDate&&d[f][h].isBefore(this.minDate,"day")&&v.push("off","disabled"),m&&d[f][h].isAfter(m,"day")&&v.push("off","disabled"),this.isInvalidDate(d[f][h])&&v.push("off","disabled"),d[f][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&v.push("active","start-date"),null!=this.endDate&&d[f][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&v.push("active","end-date"),null!=this.endDate&&d[f][h]>this.startDate&&d[f][h]<this.endDate&&v.push("in-range");var y=this.isCustomDate(d[f][h]);!1!==y&&("string"==typeof y?v.push(y):Array.prototype.push.apply(v,y));for(var b="",w=!1,u=0;u<v.length;u++)b+=v[u]+" ","disabled"==v[u]&&(w=!0);w||(b+="available"),g+='<td class="'+b.replace(/^\s+|\s+$/g,"")+'" data-date="'+d[f][h].date()+'" data-title="r'+f+"c"+h+'">'+d[f][h].date()+"</td>"}g+="</tr>"}g+="</tbody>",g+="</table>",this.container.find(".drp-calendar."+e+" .calendar-table").html(g)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,i,n=this.maxDate;!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(n=this.startDate.clone().add(this.maxSpan)),"left"==e?(t=this.startDate.clone(),i=this.minDate):"right"==e&&(t=this.endDate.clone(),i=this.startDate,""!=(f=this.container.find(".drp-calendar.right .calendar-time")).html()&&(t.hour(isNaN(t.hour())?f.find(".hourselect option:selected").val():t.hour()),t.minute(isNaN(t.minute())?f.find(".minuteselect option:selected").val():t.minute()),t.second(isNaN(t.second())?f.find(".secondselect option:selected").val():t.second()),this.timePicker24Hour||("PM"===(m=f.find(".ampmselect option:selected").val())&&t.hour()<12&&t.hour(t.hour()+12),"AM"===m&&12===t.hour()&&t.hour(0))),t.isBefore(this.startDate)&&(t=this.startDate.clone()),n&&t.isAfter(n)&&(t=n.clone()));for(var a=["show-hour"],r='<div class="time-picker time-picker-hour"><div class="time-picker-title">'+this.locale.hourName+'</div><div class="time-picker-list">',o='<select class="hourselect">',s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var d=c;this.timePicker24Hour||(d=12<=t.hour()?12==c?12:c+12:12==c?0:c);var u=t.clone().hour(d),p=!1;i&&u.minute(59).isBefore(i)&&(p=!0),n&&u.minute(0).isAfter(n)&&(p=!0);var h=c<10?"0"+c:c;d!=t.hour()||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+h+"</option>",r+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+h+"</span>"):(o+='<option value="'+c+'">'+h+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available">'+h+"</span>"):(o+='<option value="'+c+'" selected="selected">'+h+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available active">'+h+"</span>")}o+="</select> ",r+="</div></div>",o+=': <select class="minuteselect" '+(this.timePickerMinute?"":" disabled")+">";for(var f,m,g='<div class="time-picker time-picker-minute"><div class="time-picker-title">'+this.locale.minuteName+'</div><div class="time-picker-list">',c=0;c<60;c+=this.timePickerIncrement){var v=c<10?"0"+c:c,u=t.clone().minute(c),p=!1;i&&u.second(59).isBefore(i)&&(p=!0),n&&u.second(0).isAfter(n)&&(p=!0),t.minute()!=c||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+v+"</option>",g+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+v+"</span>"):(o+='<option value="'+c+'">'+v+"</option>",g+='<span data-value="'+c+'" class="time-picker-item available">'+v+"</span>"):(o+='<option value="'+c+'" selected="selected">'+v+"</option>",g+='<span data-value="'+c+'" class="time-picker-item available active">'+v+"</span>")}if(o+="</select> ",g+="</div></div>",r+=this.timePickerMinute?g:"",this.timePickerMinute&&a.push("show-minute"),this.timePickerSeconds){a.push("show-second"),o+=': <select class="secondselect">',r+='<div class="time-picker time-picker-second"><div class="time-picker-title">'+this.locale.secondName+'</div><div class="time-picker-list">';for(c=0;c<60;c++){v=c<10?"0"+c:c,u=t.clone().second(c),p=!1;i&&u.isBefore(i)&&(p=!0),n&&u.isAfter(n)&&(p=!0),t.second()!=c||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+v+"</option>",r+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+v+"</span>"):(o+='<option value="'+c+'">'+v+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available">'+v+"</span>"):(o+='<option value="'+c+'" selected="selected">'+v+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available active">'+v+"</span>")}o+="</select> ",r+="</div></div>"}this.timePicker24Hour||(a.push("show-amp"),r+='<div class="time-picker time-picker-amp"><div class="time-picker-title">A/PM</div><div class="time-picker-list">',o+='<select class="ampmselect">',y=f="",s=m=" available",i&&t.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"',m=" disabled"),n&&t.clone().hour(0).minute(0).second(0).isAfter(n)&&(y=' disabled="disabled" class="disabled"',s=" disabled"),12<=t.hour()?(r+='<span data-value="AM" class="time-picker-item'+m+'"'+m+">"+this.locale.am+"</span>",r+='<span data-value="PM" class="time-picker-item active'+s+'"'+s+">"+this.locale.pm+"</span>",o+='<option value="AM"'+f+">"+this.locale.am+'</option><option value="PM" selected="selected"'+y+">"+this.locale.pm+"</option>"):(r+='<span data-value="AM" class="time-picker-item active'+m+'"'+m+">"+this.locale.am+"</span>",r+='<span data-value="PM" class="time-picker-item'+s+'"'+s+">"+this.locale.pm+"</span>",o+='<option value="AM" selected="selected"'+f+">"+this.locale.am+'</option><option value="PM"'+y+">"+this.locale.pm+"</option>"),o+="</select>",r+="</div></div>");var y=this.container.find(".drp-calendar."+e+" .calendar-time");y.html(o),"time"===this.pickerType&&(y.hide(),y=this.singleDatePicker?this.locale.timeChoose:"left"==e?this.locale.timeStartChoose:this.locale.timeEndChoose,(e=this.container.find(".drp-calendar."+e+" .calendar-table")).find(".select-box").remove(),e.append('<div class="select-box"><table class="table-time-view '+a.join(" ")+'"><thead><tr><th>'+y+"</th></tr></thead><tbody><tr><td>"+r+"</td></tr></tbody></table></div>"),this.container.find(".time-picker-item.active").each(function(){var e=T(this),t=e.closest(".time-picker-list"),i=e.offset().top-t.offset().top+t.scrollTop(),e=(t.height()-e.height())/2;e<i&&t.animate({scrollTop:i-e},0)}))}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var e,t,i={top:0,left:0},n=this.drops,a=T(window).width();switch(this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),t=this.container.outerHeight(),n){case"auto":(e=this.element.offset().top+this.element.outerHeight()-i.top)+t>=this.parentEl[0].scrollHeight&&this.element.offset().top>t&&(e=this.element.offset().top-t-i.top,n="up");break;case"up":e=this.element.offset().top-t-i.top;break;default:e=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});var r,o=this.container.outerWidth();this.container.toggleClass("drop-up","up"==n),"left"==this.opens?(o+(a=a-this.element.offset().left-this.element.outerWidth())>T(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:a,left:"auto"}),this.$arrow.css({marginLeft:this.element.offset().left})):"center"==this.opens?(r=this.element.offset().left-i.left+this.element.outerWidth()/2-o/2)<0?this.container.css({top:e,right:"auto",left:9}):r+o>T(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:r,right:"auto"}):((r=this.element.offset().left-i.left)+o>T(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:r,right:"auto"}),this.$arrow.css({left:this.element.offset().left-this.container.offset().left}));var s=this;clearTimeout(s.moveTimer),s.moveTimer=setTimeout(function(){t!=s.container.outerHeight()&&s.move()})},show:function(e){this.isShowing||(this._outsideClickProxy=T.proxy(function(e){this.outsideClick(e)},this),T(document).on("mousedown.busy-admin-date-picker",this._outsideClickProxy).on("touchend.busy-admin-date-picker",this._outsideClickProxy).on("click.busy-admin-date-picker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.busy-admin-date-picker",this._outsideClickProxy),T(window).on("resize.busy-admin-date-picker",T.proxy(function(e){this.move(e)},this)),T(document).one(S.e.appRenderBefore,T.proxy(this.remove,this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.elementChanged(),this.container.show(),this.move(),"time"===this.pickerType&&this.container.find(".drp-calendar.left .hourselect").trigger("change"),S.helper.execCallback(this.options.onShow,this.element[0],[this],this.element,S.e.datePickerShow),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),T(document).off(".busy-admin-date-picker"),T(window).off(".busy-admin-date-picker"),this.container.hide(),S.helper.execCallback(this.options.onHide,this.element[0],[this],this.element,S.e.datePickerHide),this.isShowing=!1,this.leftCalendar.viewYear=!1,this.rightCalendar.viewYear=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=T(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||(S.helper.execCallback(this.options.onOutsideClick,this.element[0],[this],this.element,S.e.datePickerOutsideClick),this.hide())},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),S.helper.execCallback(this.options.onShowCalendar,this.element[0],[this],this.element,S.e.datePickerShowCalendar)},hideCalendars:function(){this.container.removeClass("show-calendar"),S.helper.execCallback(this.options.onHideCalendar,this.element[0],[this],this.element,S.e.datePickerHideCalendar)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");(this.chosenLabel=t)==this.locale.customRangeLabel?this.showCalendars():t==this.locale.clearLabel?this.clickClear(e):(t=this.ranges[t],this.startDate=t[0],this.endDate=t[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(e){var t=T(e.target),i=this.getTopWrap(t),n=this.isLeft(i),e="year"===this.pickerType,i="month"===this.pickerType;if(this.isYearPicker(t)){if(n?this.leftCalendar.viewYear.subtract(15,"year"):(this.rightCalendar.viewYear.subtract(15,"year"),this.linkedCalendars&&e&&this.leftCalendar.viewYear.subtract(15,"year")),!e)return void this.renderYearOrMonth(n,!0)}else if(this.isMonthPicker(t)){if(n?this.leftCalendar.viewYear.subtract(1,"year"):(this.rightCalendar.viewYear.subtract(1,"year"),this.linkedCalendars&&i&&this.leftCalendar.viewYear.subtract(1,"year")),!i)return void this.renderYearOrMonth(n,!1)}else n?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(e){var t=T(e.target),i=this.getTopWrap(t),n=this.isLeft(i),e="year"===this.pickerType,i="month"===this.pickerType;if(this.isYearPicker(t)){if(n?this.leftCalendar.viewYear.add(15,"year"):(this.rightCalendar.viewYear.add(15,"year"),this.linkedCalendars&&e&&this.leftCalendar.viewYear.add(15,"year")),!e)return void this.renderYearOrMonth(n,!0)}else if(this.isMonthPicker(t)){if(n?this.leftCalendar.viewYear.add(1,"year"):(this.rightCalendar.viewYear.add(1,"year"),this.linkedCalendars&&i&&this.leftCalendar.viewYear.add(1,"year")),!i)return void this.renderYearOrMonth(n,!1)}else n?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(e){var n,a,r,t,o,s,l,c,i=T(e.target),d=this;d.isAvailable(i)&&(t=d.getTopWrap(i),e=d.isLeft(t),d.isYearPicker(i)||d.isMonthPicker(i)?"year"===d.pickerType?(n=d.startDate.year(),a=i.data("year"),d.endDate||d.container.find(".table-year-view .col-xs-4").each(function(e,t){var i=T(t),t=i.data("year");n<=t&&t<=a?i.addClass("in-range"):i.removeClass("in-range")})):"month"===d.pickerType&&(r=_([i.data("year"),i.data("month")]),d.endDate||d.container.find(".table-month-view .col-xs-4").each(function(e,t){var i=T(t),t=_([i.data("year"),i.data("month")]);t.isSameOrAfter(d.startDate,"month")&&t.isSameOrBefore(r)?i.addClass("in-range"):i.removeClass("in-range")})):(i=(t=i.attr("data-title")).substr(1,1),t=t.substr(3,1),o=(e?d.leftCalendar:d.rightCalendar).calendar[i][t],s=d.leftCalendar,l=d.rightCalendar,c=d.startDate,d.endDate||d.container.find(".drp-calendar tbody td").each(function(e,t){var i,n,a=T(t);a.hasClass("week")||(i=(n=a.attr("data-title")).substr(1,1),t=n.substr(3,1),n=d.getTopWrap(a),(t=(d.isLeft(n)?s:l).calendar[i][t]).isAfter(c)&&t.isBefore(o)||t.isSame(o,"day")?a.addClass("in-range"):a.removeClass("in-range"))})))},clickDate:function(e){var t,i,n,a=T(e.target);this.isAvailable(a)&&(this.isYearPicker(a)||this.isMonthPicker(a)?"year"===this.pickerType||"month"===this.pickerType?this.setSelectedDate(_([a.data("year"),a.data("month")])):this.monthOrYearChanged(e):(t=this.getTopWrap(a),i=(n=a.attr("data-title")).substr(1,1),n=n.substr(3,1),a.hasClass("active")&&this.singleDatePicker?this.clickApply():this.setSelectedDate((this.isLeft(t)?this.leftCalendar:this.rightCalendar).calendar[i][n])),e.stopPropagation())},setSelectedDate:function(e){var t,i,n,a;this.endDate||e.isBefore(this.startDate,"day")?(this.timePicker&&(t=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)),n=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(n)&&(n=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,e=e.clone().hour(t).minute(n).second(a)),this.endDate=null,this.setStartDate(e.clone())):!this.endDate&&e.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(t=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)),n=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(n)&&(n=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,e=e.clone().hour(t).minute(n).second(a)),this.setEndDate(e.clone()),this.timePicker||(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()},calculateChosenLabel:function(){var e,t=!0,i=0;for(e in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(n)==this.ranges[e][0].format(n)&&this.endDate.format(n)==this.ranges[e][1].format(n)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").attr("data-range-key");break}i++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find('.ranges li[data-range-key="'+this.locale.customRangeLabel+'"]').addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){var t;this.updateElement(!0),S.helper.execCallback(this.options.onApply,this.element[0],[this],this.element,S.e.datePickerApply),this.hide(),this.endTarget&&((t=T(this.endTarget)).is(":text")?t.val("").trigger("focus.busy-admin-date-picker"):t.html("").trigger("click.busy-admin-date-picker"))},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,S.helper.execCallback(this.options.onCancel,this.element[0],[this],this.element,S.e.datePickerCancel),this.hide()},clickNow:function(e){this.startDate=this.getInitStartDate(),this.endDate=this.getInitEndDate(),this.clickApply()},clickClear:function(e){this.triggerElementChange(this.force?this.sourceContent:""),S.helper.execCallback(this.options.onClear,this.element[0],[this],this.element,S.e.datePickerClear),this.hide()},monthOrYearChanged:function(e){var t=T(e.target),i=this.isLeft(this.getTopWrap(t)),e=parseInt(t.data("month"),10),t=parseInt(t.data("year"));i||(t<this.startDate.year()||t==this.startDate.year()&&e<this.startDate.month())&&(e=this.startDate.month(),t=this.startDate.year()),this.minDate&&(t<this.minDate.year()||t==this.minDate.year()&&e<this.minDate.month())&&(e=this.minDate.month(),t=this.minDate.year()),this.maxDate&&(t>this.maxDate.year()||t==this.maxDate.year()&&e>this.maxDate.month())&&(e=this.maxDate.month(),t=this.maxDate.year()),i?(this.leftCalendar.month.month(e).year(t),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(e).year(t),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},updateRightViewYear:function(e){this.rightCalendar.viewYear=this.leftCalendar.viewYear.clone().add(e,"year")},showYearView:function(e){this.renderYearOrMonth(this.isLeft(this.getTopWrap(T(e.target))),!0)},renderYearOrMonth:function(e,t){var i=this.container.find((e?".left ":".right ")+".calendar-table"),n=e?this.leftCalendar:this.rightCalendar,a="year"===this.pickerType||"month"===this.pickerType,r=a||e?this.minDate:this.startDate,o=this.maxDate;a&&null==this.endDate&&this.maxSpan&&(f=this.startDate.clone().add(this.maxSpan).endOf(this.pickerType),o&&!f.isBefore(o)||(o=f));var s=o&&o.year()||this.maxYear,l=r&&r.year()||this.minYear,c=n.month.year(),d=n.month.month(),u=c==l,p=c==s,h='<div class="select-box">    <table class="table-condensed table-'+(t?"year":"month")+'-view">        <thead>            <tr>                '+(!e&&this.linkedCalendars&&a&&!this.singleDatePicker?"<th></th>":'<th class="prev"><span></span></th>')+'                <th class="month">_name_</th>                '+(e&&this.linkedCalendars&&a&&!this.singleDatePicker?"<th></th>":'<th class="next"><span></span></th>')+'            </tr>         </thead>        <tbody><tr><td colspan="3">_list_</td></tr></tbody>    </table></div>',f=null;n.viewYear&&(f=n.viewYear.clone());var m=(f=f||n.month.clone()).year(),g="",a="";if(t){for(var t=m-7,v=m+7,y=t;y<=v;y++){var b=[];l<=y&&y<=s?b.push("available"):b.push("disabled"),"year"===this.pickerType?(y==this.startDate.year()&&b.push("start-date","active"),null!=this.endDate&&y==this.endDate.year()&&b.push("end-date","active"),null!=this.endDate&&y>=this.startDate.year()&&y<=this.endDate.year()&&b.push("in-range")):y==c&&b.push("active"),g+='<span data-year="'+y+'" data-month="'+d+'" class="col-xs-4 '+b.join(" ")+'">'+y+this.locale.yearName+"</span>"}a=t+this.locale.yearName+" - "+v+this.locale.yearName}else{for(var w=f.clone().startOf("year"),k=0;k<12;k++){b=[];(!u||r&&w.isSameOrAfter(r,"month"))&&(!p||o&&w.isSameOrBefore(o,"month"))?b.push("available"):b.push("disabled"),"month"===this.pickerType?(w.isSame(this.startDate,"month")&&b.push("start-date","active"),null!=this.endDate&&w.isSame(this.endDate,"month")&&b.push("end-date","active"),null!=this.endDate&&w.isSameOrAfter(this.startDate,"month")&&w.isSameOrBefore(this.endDate,"month")&&b.push("in-range")):w.isSame(n.month,"month")&&b.push("active"),g+='<span data-year="'+m+'" data-month="'+k+'" class="col-xs-4 '+b.join(" ")+'">'+this.locale.monthNames[k]+"</span>",w.add(1,"month")}a=m+this.locale.yearName}h=(h=h.replace("_list_",g)).replace("_name_",a),i.find(".select-box").remove(),i.append(h),e?this.leftCalendar.viewYear=f:this.rightCalendar.viewYear=f},showMonthView:function(e){this.renderYearOrMonth(T(e.target).closest(".drp-calendar").hasClass("left"),!1)},timeChanged:function(e){var t,i=T(e.target),n=this.getTopWrap(i),a=this.isLeft(n),r=n.find(".hourselect"),o=n.find(".minuteselect"),e=n.find(".secondselect"),n=n.find(".ampmselect");0<i.parents(".time-picker-hour").length?r.val(i.data("value")).trigger("change"):0<i.parents(".time-picker-minute").length?o.val(i.data("value")).trigger("change"):0<i.parents(".time-picker-second").length?e.val(i.data("value")).trigger("change"):0<i.parents(".time-picker-amp").length?n.val(i.data("value")).trigger("change"):(i=parseInt(r.val(),10),r=parseInt(o.val(),10),isNaN(r)&&(r=parseInt(o.find("option:last").val(),10)),e=this.timePickerSeconds?parseInt(e.val(),10):0,this.timePicker24Hour||("PM"===(n=n.val())&&i<12&&(i+=12),"AM"===n&&12===i&&(i=0)),a?((t=this.startDate.clone()).hour(i),t.minute(r),t.second(e),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&((t=this.endDate.clone()).hour(i),t.minute(r),t.second(e),this.setEndDate(t)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right"))},parseValue:function(e){if(e.length<=0)return!1;var t=e.split(this.locale.separator),i=null,n=null;return 2===t.length&&(i=_(t[0],this.locale.format),n=_(t[1],this.locale.format)),!this.singleDatePicker&&null!==i&&null!==n||(n=i=_(e,this.locale.format)),!(!i.isValid()||!n.isValid())&&[i,n]},elementChanged:function(){var e;this.startTarget&&(e=((t=T(this.startTarget)).is(":text")?t.val():t.html()).trim(),t=t.data("busy.admin.date.picker"),!1!==(e=this.parseValue(e))&&(this.singleDatePicker?this.minDate=e[0]:this.minDate=e[1]),t&&(this.maxDate=t.maxDate));var t=this.parseValue(this.getValue());if(!1!==t)return this.setStartDate(t[0]),this.setEndDate(t[1]),void this.updateView();this.setStartDate(this.getInitStartDate()),this.setEndDate(this.getInitEndDate()),this.updateView()},getInitStartDate:function(){return _()},getInitEndDate:function(){return _().endOf("days")},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(e){!this.autoUpdateInput&&!0!==e||(e=this.startDate.format(this.locale.format),this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.getValue()&&this.triggerElementChange(e))},getValue:function(){return(this.element.is(":text")?this.element.val():this.force?this.element.html():this.element.data("value")||"").trim()},triggerElementChange:function(t){var i=this;t=void 0!==t&&t,i.element.is(":text")?(!1!==t&&i.element.val(t),i.element.trigger("change")):(!1!==t&&(this.force?i.element.html(t):i.element.data("value",t)),S.helper.execCallback(this.options.onChange,this.element[0],[this],this.element,S.e.datePickerChange)),this.valueTarget&&T(this.valueTarget).each(function(){var e=T(this);e.is(":text")?(!1!==t&&e.val(t),e.trigger("change")):(!1!==t&&e.html(t),S.helper.execCallback(i.options.onChange,this,[i],e,S.e.datePickerChange))})},remove:function(){this.container.remove(),this.element.off(".busy-admin-date-picker")}},n.DEFAULTS={format:"",range:null,startDate:void 0,endDate:void 0,minDate:!1,maxDate:!1,force:null,valueTarget:null,clear:!0,applyClass:null,nowClass:null,clearClass:null,span:null,drops:"auto",opens:"right",input:!1,link:!1,custom:null,ranges:void 0,endTarget:null,startTarget:null,locale:T.extend({direction:"ltr",format:"YYYY-MM-DD",separator:" - ",applyLabel:"ç¡®å®",nowLabel:"ç°å¨",clearLabel:"æ¸ç©º",weekLabel:"W",customRangeLabel:"èªå®ä¹",daysOfWeek:["æ¥","ä¸","äº","ä¸","å","äº","å­"],monthNames:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],yearName:"å¹´",yearChoose:"è¯·éæ©å¹´ä»½",monthChoose:"è¯·éæ©æä»½",timeChoose:"è¯·éæ©æ¶é´",timeStartChoose:"éæ©å¼å§æ¶é´",timeEndChoose:"éæ©ç»ææ¶é´",secondName:"ç§",hourName:"æ¶",minuteName:"å",am:"ä¸å",pm:"ä¸å",thisYear:"ä»å¹´",lastYear:"å»å¹´",lastNYear:"æè¿%så¹´",thisMonth:"æ¬æ",lastMonth:"ä¸ä¸ªæ",lastNMonth:"æè¿%sä¸ªæ",todayToNow:"ä»å¤©å°ç°å¨",lastNHours:"æè¿%så°æ¶",forenoon:"ä¸å",afternoon:"ä¸å",allDay:"æ´å¤©",lastNDay:"æè¿%så¤©",today:"ä»å¤©",yesterday:"æ¨å¤©"},((S.locale||{}).plugin||{}).datePicker||{})},T.fn.busyAdminDatePicker=e,T.fn.busyAdminDatePicker.Constructor=n,S.plugins.DatePicker=n,T.extend(S.e,{datePickerShow:S.ee("show","date-picker"),datePickerHide:S.ee("hide","date-picker"),datePickerOutsideClick:S.ee("outside-click","date-picker"),datePickerShowCalendar:S.ee("show-calendar","date-picker"),datePickerHideCalendar:S.ee("hide-calendar","date-picker"),datePickerApply:S.ee("apply","date-picker"),datePickerCancel:S.ee("cancel","date-picker"),datePickerClear:S.ee("clear","date-picker"),datePickerChange:S.ee("change","date-picker")}),T(document).on("focus.busy-date-picker",'[data-toggle="busy-date-picker"],[busy-date-picker]',function(){(T(this).is(":text")||T(this).is("button"))&&e.call(T(this))}),T(document).on("click.busy-date-picker",'[data-toggle="busy-date-picker"],[busy-date-picker]',function(){T(this).is(":text")||T(this).is("button")||e.call(T(this))}),n})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/dialog",[e.sys.core,e.sys.jquery,e.lib.layer],function(h,f){var a,m=h.helper.extends(layer.Constructor.pt,{vessel:function(e,o){var t=this;var i=t.config;var n=i.success;var a=i.yes;var r=i.cancel;var s=i.end;var l=i.min;var c=i.full;var d=i.restore;var u=i.moveEnd;i.success=function(){typeof n==="function"&&n.apply(t,arguments)};i.yes=function(){typeof a==="function"&&a.apply(t,arguments)};i.cancel=function(){typeof r==="function"&&r.apply(t,arguments)};i.end=function(){typeof s==="function"&&s.apply(t,arguments)};i.min=function(){typeof l==="function"&&l.apply(t,arguments)};i.full=function(){typeof c==="function"&&c.apply(t,arguments)};i.restore=function(){typeof d==="function"&&d.apply(t,arguments)};i.moveEnd=function(){typeof u==="function"&&u.apply(t,arguments)};var p=function(e,t,i){var n=f(e[1]);var a=n.find(".layui-layer-btn");var r=a.find("a[class*=layui-layer-btn]");r.each(function(){var e=f(this);if(e.hasClass("layui-layer-btn0"))e.addClass("btn btn-primary");else e.addClass("btn btn-default")});e[1]=n[0].outerHTML;o(e,t,i)};h.helper.override(m,"vessel",t,[e,p]);return t}});layer.ready=function(e){e()},layer.config({anim:0,isOutAnim:false,zIndex:h.defaultZIndex+1e5}),layer.area=function(e,t,i){layer.style(e,{width:t,height:i})},layer.width=function(e,t){layer.style(e,{width:t})},layer.height=function(e,t){layer.style(e,{height:t})};var t=function(e){e=(e||"").trim();var i=this;this.message=e;this.messageElement=null;this.layer=null;this.index=layer.open({type:1,resize:false,title:false,closeBtn:false,btn:false,area:"auto",skin:"busy-admin-pending"+(this.message.length?"":" busy-admin-pending-empty"),content:'<div class="busy-admin-pending-icon"></div><div class="busy-admin-pending-message">'+this.message+"</div>",success:function(e,t){i.messageElement=e.find(".busy-admin-pending-message");i.layer=this}})};t.prototype={update:function(e){e=(e||"").trim();if(this.layer===null)return this;if(e.length>0){this.layer.layero.removeClass("busy-admin-pending-empty");this.messageElement.html(e)}else this.layer.layero.addClass("busy-admin-pending-empty");if(this.message!==e){this.message=e;this.layer.offset()}return this},close:function(){if(this.index!==null){layer.close(this.index);this.index=null}}};var n=function(e,t,i){var a={};if(typeof t==="function")i=t;else if(f.isArray(t)){var n=t[0]||500;var r=t[1]||500;n=typeof n==="number"?n+"px":n;r=typeof r==="number"?r+"px":r;a.area=[n,r]}else a=t||{};if(f.isArray(e)){a.title=e[0];a.content=e[1]}else a.content=e;this.data=null;this.layerApi=null;var o=this;var s=a.success||null;a.success=function(e,t){var i=e.find("iframe");var n=i[0].contentWindow;o.layerApi=this;n.layer=window.layer;n.busyAdmin.dialog=window.busyAdmin.dialog;a.title=a.title||"";if(a.title.length===0){layer.title(i[0].contentWindow.document.title,t);this.offset()}if(typeof n.busyAdmin.dialogIframeReady==="function"){n.busyAdmin.dialogIframeReady.call(o,t);o.update()}typeof s==="function"&&s.call(o,e,t,i)};a.end=function(){typeof i==="function"&&i(o.data)};a.type=2;a.skin="busy-admin-dialog";this.index=layer.open(a)};n.prototype={setData:function(e){this.data=e;return this},setTitle:function(e){layer.title(e,this.index);return this},setSize:function(e,t){layer.style(this.index,{width:e,height:t});return this},setWidth:function(e){layer.style(this.index,{width:e});return this},setHeight:function(e){layer.style(this.index,{height:e});return this},update:function(){if(this.layerApi!==null)this.layerApi.offset();return this},getLayerApi:function(){return this.layerApi},close:function(){layer.close(this.index)}};var r=function(e,t,i,n){var a={title:false,scrollbar:false,skin:typeof t==="string"?t:"",closeBtn:0,move:false,anim:-1,shadeClose:true,isOutAnim:true};if(typeof t==="object")a=f.extend({},a,t);a.success=function(e,t){typeof i==="function"&&i.call(this,t,this,e)};a.end=function(){typeof n==="function"&&n.call(this)};a.type=1;a.content=e;this.index=layer.open(a)};r.prototype={close:function(){layer.close(this.index)}};var o=function(e){var t=this;t.options=f.extend({},{closeButton:true,timeOut:2500},e||{});t.options.toastClass="toast busy-admin-notify";t.ready()};o.prototype={ready:function(t){var i=this;if(a)typeof t==="function"&&t.call(i);else require([h.lib.toastr],function(e){a=e;typeof t==="function"&&t.call(i)});return this}};var i=function(){};return i.prototype={alert:function(e,t,i){var n={},a=this;return"function"==typeof t?(i=t,n.icon=0):"object"!=typeof t?n.icon=this.parseIcon(t,0):(n=t).icon=this.parseIcon(n.hasOwnProperty("icon")?n.icon:"w",0),n.closeBtn=!1,n.resize=!1,n.skin="busy-admin-dialog",layer.alert(e,f.extend({},{btn:["ç¡®å®"]},n),function(e,t){"function"==typeof i&&!1===i.call(a,e,this,t)||layer.close(e)})},alertSuccess:function(e,t){return this.alert(e,"success",t)},alertError:function(e,t){return this.alert(e,"error",t)},confirm:function(e,t,i,n){var a={},r=this;return"function"==typeof t?(n=i,i=t,a.icon=this.parseIcon(3)):"object"!=typeof t?a.icon=this.parseIcon(t,3):(a=t).icon=this.parseIcon(a.hasOwnProperty("icon")?a.icon:3,3),a.closeBtn=!1,a.resize=!1,a.skin="busy-admin-dialog",layer.confirm(e,f.extend({},{btn:["ç¡®è®¤","åæ¶"],title:"ç¡®è®¤æç¤º"},a),function(e,t){"function"==typeof i&&!1===i.call(r,e,this,t)||layer.close(e)},function(e,t){return("function"!=typeof n||!1!==n.call(r,e,this,t))&&void layer.close(e)})},prompt:function(e,t,i,a,n){var r={},o=this;"function"==typeof i?(n=a,a=i,r.formType=0):"object"!=typeof i?r.formType=i:r=i,r.placeholder=r.placeholder||e,r.value=t;var s,l=r.success||null;r.success=function(e,t){(s=e.find(".form-control")).val(r.value||"").focus(),"function"==typeof l&&l.call(this,e,t)},r.cancel=function(e,t){if("function"==typeof n&&!1===n.call(o,e,this,t))return!1;layer.close(e)},r.btn2="select"===r.formType&&0<r.rows?function(){return s.find(":selected").prop("selected",!1),o.toast("å·²æ¸ç©º"),!1}:r.cancel,r.yes=function(e,t){var i=s.val();if("number"==r.formType){var n=h.helper.float(i);if(0<r.maxlength&&n>r.maxlength)return o.toast("æå¤§ä¸è½è¶è¿"+r.maxlength),s.focus(),!1;if(0<r.minlength&&n<r.minlength)return o.toast("ä¸è½å°äº"+r.minlength),s.focus(),!1}else if("select"==r.formType){if(r.rows){if(i=f.isArray(i)?i:[],0<r.maxlength&&i.length>r.maxlength)return o.toast("æå¤åè®¸éæ©"+r.maxlength+"é¡¹"),s.focus(),!1;if(0<r.minlength&&i.length<r.minlength)return o.toast("è³å°éè¦éæ©"+r.minlength+"é¡¹"),s.focus(),!1}else if(0<r.minlength&&!h.helper.float(i))return o.toast("è¯·éæ©"),s.focus(),!1}else{if(i=i.trim(),0<r.maxlength&&i.length>r.maxlength)return o.toast("æå¤åè®¸è¾å¥"+r.maxlength+"ä¸ªå­ç¬¦"),s.focus(),!1;if(0<r.minlength&&i.length<r.minlength)return o.toast("è³å°éè¦è¾å¥"+r.minlength+"ä¸ªå­ç¬¦"),s.focus(),!1}if("function"==typeof a&&!1===a.call(o,s.val(),e,this,s,t))return!1;layer.close(e)};var c="";r.area&&(c='style="width: '+(t=r.area)[0]+"; height: "+t[1]+';"',delete r.area);var d="";switch(r.formType){case"textarea":d='<textarea class="form-control"'+c+' placeholder="'+(r.placeholder||e)+'" rows="'+(r.rows||2)+'"></textarea>';break;case"select":var u=r.selectOptions;f.isArray(r.selectOptions)&&(u="",r.selectOptions.map(function(e){u+="object"!=typeof e?'<option value="'+e+'">'+e+"</option>":'<option value="'+e.value+'">'+e.name+"</option>"})),d='<select class="form-control" '+(r.rows?'multiple size="'+r.rows:"")+'">'+u+"</select>",r.rows&&(d+='<div class="space-10"></div><div class="text-gray text-center size-12">è¯·æ<code>CTRL+é¼ æ å·¦é®</code> æ <code>ææ½é¼ æ </code>å¤é</div>');break;default:d='<input type="'+(r.formType||"text")+'" placeholder="'+(r.placeholder||e)+'" '+(r.numberStep?' step="'+r.numberStep+'"':"")+' class="form-control">'}return layer.open(f.extend({type:1,title:e,skin:"layui-layer-prompt busy-admin-dialog",btn:["ç¡®è®¤",0<r.rows?"æ¸ç©º":"åæ¶"],content:d,maxWidth:f(window).width(),resize:!1},r))},toast:function(e,t,i){var n={};return"function"==typeof t?i=t:"object"!=typeof t?n.time=t?2500:1500:n=t,-1!==n.icon&&n.icon?n.skin="layui-layer-msg busy-admin-dialog":n.skin="layui-layer-hui layui-layer-msg busy-admin-dialog",layer.msg(e,f.extend({},{time:1500},n),i)},toastSuccess:function(e,t){return this.toast(e,{shade:.1,shadeClose:!0,icon:1},t)},toastError:function(e,t){return this.toast(e,{shade:.1,shadeClose:!0,icon:2},t)},pending:function(e){return new t(e)},iframe:function(e,t,i){return new n(e,t,i)},fullRight:function(e,t,i,n){return new r(e,{skin:"busy-admin-layer-full-right busy-admin-anim busy-admin-anim-rl"+(t=" "+t),offset:"r"},i,n)},parseIcon:function(e,t){if("string"!=typeof e)return null===e?-1:e||t;switch(e.trim().toLowerCase()){case"success":case"s":case"y":case"yes":return 1;case"e":case"error":case"n":case"no":return 2;case"a":case"ask":case"q":case"question":return 3;case"l":case"lock":return 4;case"f":case"frown":return 5;case"sm":case"smile":return 6;case"w":case"warn":case"warning":default:return 0}}},f.map(["Success","Warning","Info","Error"],function(e){var n=e.toLowerCase();o.prototype[n]=function(e,t){return a.options=this.options,a[n](e,t),this},i.prototype["notify"+e]=function(e,t,i){return i=i||{},"object"==typeof t?(i=t,t=e,e=void 0):"function"==typeof t?(i.onHidden=t,t=void 0):"function"==typeof i&&(i={onHidden:i}),new o(i||{}).ready(function(){this[n](t,e)})}}),h.dialog=new i,h.dialogIframeReady=null,i})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/editor",[e.sys.core,e.sys.jquery],function(u,p){var h,r,i={ck5:"ck5"},f=function(e,t){this.loader=e;this.options=t};f.prototype={upload:function(){var t=this;return t.loader.file.then(function(e){return new Promise(function(n,a){t.request=u.request(r.url).params({class_type:t.options.classImage,class_value:t.options.classValue}).addParam("upload",e).pending(false).progress(function(e){if(e.lengthComputable){t.loader.uploadTotal=e.total;t.loader.uploaded=e.loaded}}).success(function(e,t,i){n({default:e.result.file_url});return false}).error(function(e,t,i){a(e.message)}).exec()})})},abort:function(){if(this.request)this.request.abort()}};var m="busy.admin.editor.ck5",e=function(e,t){var a=g();(a=g())[i]=n,localStorage.setItem(m,JSON.stringify(a))},g=function(e){var t=JSON.parse(localStorage.getItem(m)||"{}");if(!e)return t;return t[e]},v=function(e,t){var i=this;i.element=e;i.$element=p(e);var n=i.options=p.extend(true,{},v.DEFAULTS,i.$element.data(),t||{});if(i.$element.is(":input")){var a=i.$element.attr("placeholder");if(a)n.placeholder=a;var r=i.$element.attr("name");if(r)n.name=r}if(n.toolbar&&typeof n.toolbar==="string")n.toolbar=p.map(n.toolbar.split(","),function(e){e=e.trim();if(e)return e;return null});i.ready(i.init)};function t(i){var n;var a="busy.admin.editor.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=p(this);var t=e.data(a);if(!t)e.data(a,t=new v(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return v.prototype={ready:function(n){var a=this,e=window.UEDITOR_CONFIG&&a.options.type!=i.ck5,t=h&&a.options.type==i.ck5;e||t?"function"==typeof n&&n.call(a):a.options.type===i.ck5?(t=(t=u.requirePaths[u.lib.ckEditor5Classic].split("/"))[0]+"/"+t[1]+"/translations/"+a.options.locale,require([u.lib.ckEditor5Classic,t,u.lib.uploadConfig],function(e,t,i){h=e,window.CKClassicEditor=e,r=i,"function"==typeof n&&n.call(a)})):require([u.lib.ueditor,u.lib.zeroClipboard],function(e,t){window.ZeroClipboard=t,window.UEDITOR_CONFIG.UEDITOR_HOME_URL=u.moduleRoot()+"ueditor/",UE.Editor.prototype.placeholder=function(e){p(this.document.body).attr("data-placeholder",e)},"function"==typeof n&&n.call(a)})},init:function(){var e=this,t=e.options;e.isInit||(e.isInit=!0,p(document).one(u.e.appRenderBefore,function(){e.destroy()}),t.type===i.ck5?e._initCkEditor():e._initUEditor())},_initCkEditor:function(){var i=this,n=i.options,e=p.extend(!0,{},v.CKEDITOR_TYPES[n.mode||"small"]||{});!1===n.mode&&(e={}),n.toolbar&&(e.toolbar=n.toolbar),e.toolbar&&p.isArray(e.toolbar)&&(e.toolbar={items:e.toolbar,shouldNotGroupWhenFull:!0});for(var t=[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"}],a=1;a<7;a++)t.push({model:"heading"+a,view:"h"+a,title:"Heading "+a,class:"ck-heading_heading"+a});function o(){return i.$ckEl||(i.$ckEl=p(i.ckEditor.ui.view.element)),i.$ckEl}var s,l,c,r={language:n.locale,removePlugins:["Title","Markdown"],heading:{options:t},image:{toolbar:["imageTextAlternative","toggleImageCaption","|","imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","imageStyle:side","|","resizeImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableProperties","tableCellProperties","toggleTableCaption"]}},d=!0;n.autoSave&&(c="string"==typeof n.autoSave?n.autoSave:null,l=s=null,c=c||(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_"),c+="_drafts",r.autosave={save:function(r){return s||(s=p('<div class="alert alert-info alert-sm ck-alert-auto-save-tip">æ¬å°ä¿å­æå</div>').hide(),o().find(".ck-editor__main").append(s)),new Promise(function(e,t){if(!d)return d=!0,void e();var i,n,a;i=c,n=r.getData(),(a=g())[i]=n,localStorage.setItem(m,JSON.stringify(a)),s.fadeIn(),clearTimeout(l),l=setTimeout(function(){s.fadeOut()},1500),e()})}}),u.formSubmitIgnore.push(function(e){return p(this).hasClass("ck")}),u.linkClickIgnore.push(function(e){return p(this).hasClass("ck-link_selected")}),i.$element.on(u.e.verifyErrorPlacement,function(e,t){return o().after(t),!1}),h.create(i.element,p.extend({},p.extend({},r,n.options||{}),e)).then(function(e){var t;(i.ckEditor=e).model.document.on("change:data",function(){i.$element.val(i.ckEditor.getData()).trigger("change").trigger("input")}),e.plugins.get("FileRepository").createUploadAdapter=function(e){return new f(e,n)},u.app.isInContent(i.$element)&&(t=u.app.getContentFrame(),e.ui.viewportOffset={top:t.top,right:0,bottom:0,left:0}),e.isReadOnly=i.$element.prop("disabled"),n.autoSave&&c&&(d=!1,e.setData(g(c)||"")),u.helper.triggerPluginReady(i.$element,"Editor",i)}).catch(function(e){console.error(e)})},_initUEditor:function(){var i=this;i.elementId=i.$element.attr("id")||"",i.editorId=i.elementId+"__busyAdminEditor_"+v.INDEX++,i.$element.removeAttr("class",""),i.$element.attr("id",i.editorId);var e=i.options,t=p.extend(!0,{},v.UEDITOR_TYPES[e.mode||"small"]||{});!1===e.mode&&(t={}),e.toolbar&&(t.toolbars=[e.toolbar]);var n={};p.extend(!0,n,{charset:"utf-8",wordCount:e.showCount,enableAutoSave:e.autoSave,autoSaveKey:e.autoSave&&"string"==typeof e.autoSave?e.autoSave:null,zIndex:p.isNumeric(e.zindex)?e.zindex:u.zIndex(),catchRemoteImageEnable:e.catchRemoteImage,autoHeightEnabled:e.autoHeight,elementPathEnabled:e.elementPath,whitList:e.whitList,lang:e.locale,xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,insertorderedlist:{decimal:"","decimal-leading-zero":"01,02,03...","lower-alpha":"","upper-alpha":"","lower-roman":"","upper-roman":"","cjk-ideographic":"ä¸,äº,ä¸..."},insertunorderedlist:{circle:"",disc:"",square:""},showImageOnlineManager:e.imageManager,showAttachmentOnlineManage:e.fileManager,showVideoOnlineManage:e.videoManager,allowVideoUpload:e.videoUpload,autoFloatEnabled:e.stickyToolbar,topOffset:"auto"===e.stickyTopOffset?0:e.stickyTopOffset,toolbarTopOffset:"auto"===e.stickyTopOffset?0:e.stickyTopOffset,textarea:e.name,initialFrameHeight:100},e.options||{},t),"auto"===e.stickyTopOffset&&u.app.isInContent(i.$element)&&(a=u.app.getContentFrame(),n.topOffset=a.top,n.toolbarTopOffset=a.top);var a,t=window.UEDITOR_CONFIG.busyFileConfig[e.classImage]||null;t&&(n.iimageMaxSize=t.size,n.imageAllowFiles=p.map(t.suffix,function(e){return"."+e})),0<i.$element.closest(".modal").length&&(-1!=(t=(a=n.toolbars[0]||[]).indexOf("fullscreen"))&&(a=a.del(t)),n.toolbars=[a]),i.$element.css("width","100%"),i.$element.on(u.e.verifyErrorPlacement,function(e,t){return p("#"+i.ueditor.key).after(t),!1});function r(){p(i.ueditor.document.body).toggleClass("no-has-contents",!i.ueditor.hasContents())}i.ueditor=UE.getEditor(i.editorId,n),i.ueditor.on("beforefullscreenchange",function(e,t){this.options.topOffset=t?0:n.topOffset}),i.ueditor.on("fullscreenchanged",function(e,t){p(this.container).toggleClass("edui-fullscreen",t)}),i.ueditor.addListener("contentchange",function(){i.$element.val(this.getContent("html")),i.$element.trigger("change"),i.$element.trigger("input"),r()}),i.ueditor.addListener("blur",function(){i.$element.trigger("blur")}),i.ueditor.addListener("focus",function(){i.$element.trigger("focus")}),i.ueditor.ready(function(){i.$element.attr("id",i.elementId),i.ueditor.execCommand("serverparam",{class_file_type:e.classFile||"file",class_image_type:e.classImage||"image",class_video_type:e.classVideo||"video",class_audio_type:e.classAudio||"audio",class_value:e.classValue}),i.ueditor.getOpt("enableAutoSave")&&(i.ueditor.getContent()||i.ueditor.execCommand("drafts")),i.$element.prop("disabled")&&i.ueditor.setDisabled(),p(i.ueditor.document.head).append("<style>body.no-has-contents::before { content: attr(data-placeholder); position: absolute; pointer-events: none; cursor: text; color: #707070; } </style>"),i.ueditor.placeholder(i.options.placeholder),r(),u.helper.triggerPluginReady(i.$element,"Editor",i)})},_api:function(e,t){return this.options.type!==i.ck5?this.ueditor?"function"==typeof e&&e.call(this):null:this.ckEditor?"function"==typeof t&&t.call(this):null},getApi:function(){return this.options.type!==i.ck5?this.ueditor:this.ckEditor},getContent:function(e){return this._api(function(){switch(e){case"html":return this.ueditor.getContent();case"text":return this.ueditor.getContentTxt();default:return this.ueditor.getPlainTxt()}},function(){return this.ckEditor.getData()})},setContent:function(e){this._api(function(){this.ueditor.setContent(e+"")},function(){this.ckEditor.setData(e+"")})},append:function(e){this._api(function(){this.ueditor.setContent(e+"",!0)},function(){this.ckEditor.setData(this.ckEditor.getData()+e+"")})},hasContent:function(){return this._api(function(){return this.ueditor.hasContents()},function(){return 0<this.ckEditor.getData().length})},setFocus:function(e){this._api(function(){e?this.ueditor.focus():this.ueditor.blur()},function(){e&&this.ckEditor.focus()})},setDisabled:function(e){this._api(function(){e?this.ueditor.setDisabled():this.ueditor.setEnabled()},function(){this.ckEditor.isReadOnly=e})},setPlaceholder:function(e){this.options.placeholder=e,this._api(function(){this.ueditor.placeholder(e)},function(){this.ckEditor.config.set("placeholder",e),this.ckEditor.ui._initPlaceholder()})},exec:function(e){var t=Array.prototype.slice.call(arguments);return this._api(function(){return this.ueditor.execCommand.apply(this.ueditor,t)},function(){return this.ckEditor.execute.apply(this.ckEditor,t)})},destroy:function(){this._api(function(){UE.delEditor(this.editorId),p("#edui_fixedlayer").remove()},function(){this.ckEditor.destroy().catch()})}},v.DEFAULTS={type:"ue",name:"content",placeholder:"",classImage:"image",classVideo:"video",classAudio:"audio",classFile:"file",classValue:"",imageManager:!1,videoManager:!1,fileManager:!1,showCount:!1,autoSave:!1,zindex:null,catchRemoteImage:!0,videoUpload:!1,autoHeight:!1,elementPath:!1,stickyToolbar:!1,stickyTopOffset:"auto",toolbar:null,mode:"",whitList:{a:["target","href","title","class","style"],abbr:["title","class","style"],address:["class","style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src","class","style"],b:["class","style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","class","style"],br:[],caption:["class","style"],center:[],cite:[],code:["class","style"],col:["align","valign","span","width","class","style"],colgroup:["align","valign","span","width","class","style"],dd:["class","style"],del:["datetime"],details:["open"],div:["class","style"],dl:["class","style"],dt:["class","style"],em:["class","style"],font:["color","size","face"],footer:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],header:[],hr:[],i:["class","style"],img:["src","alt","title","width","height","id","_src","loadingclass","class","data-latex"],ins:["datetime"],li:["class","style"],mark:[],nav:[],ol:["class","style"],p:["class","style"],pre:["class","style"],s:[],section:[],small:[],span:["class","style"],sub:["class","style"],sup:["class","style"],strong:["class","style"],table:["width","border","align","valign","class","style"],tbody:["align","valign","class","style"],td:["width","rowspan","colspan","align","valign","class","style"],tfoot:["align","valign","class","style"],th:["width","rowspan","colspan","align","valign","class","style"],thead:["align","valign","class","style"],tr:["rowspan","align","valign","class","style"],tt:[],u:[],ul:["class","style"],video:["autoplay","controls","loop","preload","src","height","width","class","style"]},locale:"zh-cn"},v.INDEX=0,v.UEDITOR_TYPES={default:{toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","attachment","insertvideo","scrawl","|","wordimage","insertcode","pagebreak","map","horizontal","date","time","spechars","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","|","print","preview","searchreplace"]]},small:{toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","|","paragraph","fontsize","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","link","unlink","anchor","|","simpleupload","insertimage","scrawl","|","horizontal","spechars","|","inserttable","deletetable","|","print","preview","searchreplace"]]},text:{toolbars:[["source","undo","redo","|","bold","italic","underline","removeformat","formatmatch","autotypeset","forecolor","link","unlink"]],enableContextMenu:!1,pasteplain:!0,filterTxtRules:function(){function e(e){e.tagName="p",e.setAttr("style",""),e.setAttr("class","")}return{"-":"script style object iframe embed input select textarea",p:{$:{}},a:{$:{href:"",target:"",title:""}},br:{$:{}},div:{$:{}},li:{$:{}},caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){e.innerText()&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}}()}},v.CKEDITOR_TYPES={default:{toolbar:["sourceEditing","|","undo","redo","|","heading","|","bold","italic","underline","strikethrough","link","superscript","subscript","removeFormat","|","fontColor","fontBackgroundColor","highlight","numberedList","bulletedList","todoList","|","fontFamily","fontSize","|","outdent","indent","|","alignment","|","blockQuote","uploadImage","insertTable","|","pageBreak","horizontalLine","codeBlock","specialCharacters","selectAll","findAndReplace"]},small:{toolbar:["sourceEditing","|","undo","redo","|","heading","|","bold","italic","underline","strikethrough","link","|","fontColor","fontBackgroundColor","bulletedList","numberedList","alignment","outdent","indent","|","blockQuote","uploadImage","insertTable","|","horizontalLine","specialCharacters","findAndReplace"]},text:{toolbar:["undo","redo","|","bold","italic","underline","strikethrough","link"]}},p.fn.busyAdminEditor=t,p.fn.busyAdminEditor.Constructor=v,u.plugins.Editor=v,p.extend(u.e,{}),u.autoInit('[data-toggle="busy-editor"],[busy-editor]',function(){t.call(this)}),v})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/filePicker",[e.sys.core,e.sys.jquery],function(o,s){var e=false,n=null,l=function(e,t){var i=this;i.element=e;i.$element=s(e);i.options=s.extend(true,{},l.DEFAULTS,i.$element.data()||{},t||{});i.modal=null;i.$deleteBtn=null;i.deleteIds=[];i.selectData=[];i.ready(i.init)};function t(i){var n;var a="busy.admin.filePicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r);else t.ready(t.show)});if(typeof i==="string")return n;return this}return l.prototype={ready:function(t){var i=this;n?"function"==typeof t&&t.call(i):require([o.lib.uploadConfig],function(e){n=e,"function"==typeof t&&t.call(i)})},init:function(){var r=this,i=r.options;r.isInit||(r.isInit=!0,r.$element.busyAdminModal({keyboard:!1,title:i.title,zindex:i.zindex,type:"page",padding:0,size:"lg",className:"busy-admin-file-picker",url:n.picker.replace("_type_",encodeURIComponent(i.classType)).replace("_value_",encodeURIComponent(i.classValue)).replace("_extensions_",encodeURIComponent(i.extensions)),onReady:function(t){t.$fileBody=t.$dialogBody.find(".file-list"),t.$imageBody=t.$dialogBody.find(".image-list"),t.$fileTable=t.$fileBody.find("table"),t.$fieldType=t.$dialogBody.find(".field-type"),t.$searchBar=t.$dialogBody.find(".search-bar"),t.$selectRange=t.$dialogBody.find('[name="range"]'),t.$searchForm=t.$searchBar.find("form"),t.$searchReset=t.$searchBar.find(".btn-default"),r.setConfirmBtn(0),t.$selectRange.on("change",function(){"0"===s(this).val()?(t.$fieldType.hide(),t.$searchBar.removeClass("has-type")):(t.$fieldType.show(),t.$searchBar.addClass("has-type"))}).trigger("change"),t.$searchForm.on("submit",function(){var e=s(this).attr("action"),t=s(this).serialize();return r.reload(e+"?"+t),!1}),t.$searchReset.on("click",function(e){return e.preventDefault(),r.reload(s(this).attr("href")),!1}),r.$deleteBtn||(r.$deleteBtn=s('<button class="btn btn-danger pull-left"><i class="fa fa-trash"></i> '+i.locale.delete+"</button>"),t.$dialogFooter.append(r.$deleteBtn)),r.$deleteBtn.off("click").on("click",function(){0!==r.deleteIds.length?o.dialog.confirm(o.helper.sprintf(i.locale.confirmDeleteSelectFile,"<code>"+r.deleteIds.length+"</code>"),function(){o.request(o.root()+"system_file/delete.html").method("post").params({id:r.deleteIds.join(",")}).success(function(e){return o.dialog.toastSuccess(e.message),0<t.$fileTable.length&&(t.$fileTable.busyAdminTable("remove",{field:"id",values:s.map(r.deleteIds,function(e){return e+""})}),r.getSelectData(),t.$fileTable.busyAdminTable("getData").length<=0&&r.reload()),0<t.$imageBody.length&&(s.map(r.deleteIds,function(e){t.$imageBody.find(".item-"+e).remove()}),r.resetImageView(),r.getSelectData(),t.$imageBody.find(".item").length<=0&&r.reload()),!1}).exec()}):o.dialog.toast(i.locale.pleaseSelectDeleteFile)}),r.$deleteBtn.hide(),t.$dialogBody.find(".busy-admin-pagination").find("ul").addClass("pagination-sm").on("click","a",function(e){return e.preventDefault(),-1===s(this).attr("href").indexOf("javascript:")&&r.reload(s(this).attr("href")),!1}),0<t.$fileTable.length&&(t.$fileTable.on(o.e.tableDataInit,function(e,a){a.columns[4].events={"click .btn-default":function(e,t,i){var n=i._data.item;o.helper.urlPreviewHandler({url:n.url,image:function(){s(e.currentTarget).busyAdminImageViewer({src:n.url,alt:n.name,clickHandler:!1}).busyAdminImageViewer("show")},video:function(){s(e.currentTarget).busyAdminVideoViewer({src:n.url,clickHandler:!1}).busyAdminVideoViewer("show")},audio:function(){s(e.currentTarget).busyAdminAudioViewer({src:n.url,clickHandler:!1}).busyAdminAudioViewer("show")},file:function(){window.open(n.url)}})},"click .btn-danger":function(e,t,i,n){s(e.currentTarget).busyAdminRequest({clickHandler:!1,onSuccess:function(){return a.remove({field:"$index",values:[n]}),r.getSelectData(),!0}})}}}).on(o.e.tableCheck+" "+o.e.tableUncheck+" "+o.e.tableCheckAll+" "+o.e.tableUncheckAll,function(){r.getSelectData()}),t.$fileTable.busyAdminTable({search:!1,clickToSelect:!0,height:t.$fileBody,pagination:!1,noDataText:i.locale.noFile})),0<t.$imageBody.length&&(t.$imageBody.on("click","input",function(e){e.stopPropagation();e=s(this);e.prop("checked")?e.closest(".item").addClass("active"):e.closest(".item").removeClass("active"),r.getSelectData()}),t.$imageBody.on("click",".tool-box",function(){s(this).find("input").trigger("click")}),t.$imageBody.on("click","a.preview",function(e){return s(this).closest(".thumb").find("img").trigger("click"),!1}),t.$imageBody.on("click","a.delete",function(e){var t=s(this).closest(".item");return s(this).busyAdminRequest({clickHandler:!1,onSuccess:function(){return t.remove(),r.resetImageView(),r.getSelectData(),!0}}),!1}),r.resetImageView()),r.getSelectData()},onShown:function(e){0<e.$fileTable.length&&e.$fileTable.busyAdminTable("ready",function(){this.resetView()})},onHide:function(){r.$deleteBtn&&(r.$deleteBtn.remove(),r.$deleteBtn=null),r.deleteIds=[],r.selectData=[]},onOk:function(e){if(r.selectData.length<=0)return o.dialog.toast(i.locale.pleaseSelectFile),!1;var t=i.multiple?i.count:1;return r.selectData.length>t&&0<t?(o.dialog.toast(o.helper.sprintf(i.locale.maxSelectAllowed,t)),!1):(o.helper.execCallback(i.success,r.element,[r.selectData],r.$element,o.e.filePickerSuccess),!0)}}),r.$element.busyAdminModal(),r.modal=r.$element.data("busy.admin.modal.api"))},getSelectData:function(){var t=this;t.selectData=[],t.deleteIds=[];function e(){t.$deleteBtn&&(0<t.selectData.length?t.$deleteBtn.show():t.$deleteBtn.hide()),t.setConfirmBtn()}0<t.modal.$fileTable.length?t.modal.$fileTable.busyAdminTable("ready",function(){s.map(this.api.getSelections(),function(e){t.deleteIds.push(e._data.item.id),t.selectData.push(e._data.item)}),e()}):0<t.modal.$imageBody.length&&(t.modal.$imageBody.find(":checked").each(function(){var e=s(this).closest(".item").data("item");t.deleteIds.push(e.id),t.selectData.push(e)}),e())},setConfirmBtn:function(){var e=this.selectData.length,t=this.options,i=e,n=t.count;t.multiple?0<n?i+="/"+t.count:(i+="",n=0):(i+="/1",n=1),this.modal.$okBtn.html('<span class="badge">'+i+"</span> "+t.locale.confirm),n<e&&0<n||e<=0?this.modal.$okBtn.removeClass("btn-primary").addClass("btn-secondary"):this.modal.$okBtn.removeClass("btn-secondary").addClass("btn-primary")},resetImageView:function(){this.modal.$imageBody.find(".image-list-body .item").length<=0&&this.modal.$imageBody.html('<div class="empty-info">'+this.options.locale.noPicture+"</div>")},show:function(){this.modal&&this.modal.show()},reload:function(e){this.modal&&this.modal.reload(e)}},l.DEFAULTS={title:"",classType:"file",classValue:"",multiple:!1,extensions:"",count:9,success:s.noop,zindex:"auto",locale:s.extend({noPicture:"ææ å¾ç",noFile:"ææ æä»¶",delete:"å é¤",pleaseSelectDeleteFile:"è¯·éæ©è¦å é¤çæä»¶",confirmDeleteSelectFile:"ç¡®è®¤è¦å é¤éä¸­ç%sä¸ªæä»¶åï¼",confirm:"ç¡®å®",pleaseSelectFile:"è¯·éæ©æä»¶",maxSelectAllowed:"æå¤åè®¸éæ©%sä¸ªæä»¶"},((o.locale||{}).plugin||{}).filePicker||{})},s.fn.busyAdminFilePicker=t,s.fn.busyAdminFilePicker.Constructor=l,o.plugins.FilePicker=l,s.extend(o.e,{filePickerSuccess:o.ee("success","file-picker")}),s(document).on("click.busyAdmin",'[data-toggle="busy-file-picker"],[busy-file-picker]',function(){t.call(s(this))}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/verify",[e.sys.core,e.sys.jquery],function(c,d){"use strict";var o=false,s=function(e,t,i,n){var a=d(t);var r=a.closest(".form-group");if(r.length>0)r.toggleClass("has-error",!e)},a=function(e,t){var i=[];e.split(t).map(function(e){e=e.trim();if(e.length)i.push(e)});return i},l=function(t,i){var n;try{n=JSON.parse(t)}catch(e){n=a(t,i)}return d.isArray(n)?n:[]},u=function(e,t){var i=this;i.element=e;i.$element=d(e);i.options=d.extend(true,{},u.DEFAULTS,i.$element.data()||{},t||{});i.ready(i.init)};function e(i){var n;var a="busy.admin.verify.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=d(this);var t=e.data(a);if(!t)e.data(a,t=new u(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}u.prototype={ready:function(a){var r=this;if(o)typeof a==="function"&&a.call(r);else require([c.lib.validate],function(){if(!o){var e=r.options.locale;d.validator.messages=e;d.validator.addMethod("phone",function(e,t){return this.optional(t)||/^(\+?86-?)?(18|15|13|14|17|16|19)[0-9]{9}$/.test(e)},e.phone);d.validator.addMethod("tel",function(e,t){return this.optional(t)||/^(010|02\d{1}|0[3-9]\d{2})-\d{7,9}(-\d+)?$/.test(e)},e.tel);d.validator.addMethod("decimal",function(e,t){return this.optional(t)||/^\d+(\.\d+)?$/.test(e)},e.decimal);d.validator.addMethod("zip",function(e,t){return this.optional(t)||/^\d{6}$/.test(e)},e.zip);d.validator.addMethod("en",function(e,t){return this.optional(t)||/^[A-Za-z]+$/.test(e)},e.en);d.validator.addMethod("enNumLine",function(e,t){return this.optional(t)||/^[A-Za-z0-9_]+$/.test(e)},e.enNumLine);d.validator.addMethod("minArray",function(e,t,i){if(i<=0)return this.optional(t);var n=d(t).data()||{};var a=n.optArraySpace||",";return this.optional(t)||l(e,a).length>=i},e.minArray);d.validator.addMethod("maxArray",function(e,t,i){if(i<=0)return this.optional(t);var n=d(t).data()||{};var a=n.optArraySpace||",";return this.optional(t)||l(e,a).length<=i},e.maxArray);var t=c.helper.extends(d.validator.prototype,{init:function(){c.helper.override(t,"init",this,arguments);var r=this.currentForm;d(this.currentForm).on("change.validate","input,select,textarea",function(e){var t=typeof d(this).attr("contenteditable")!=="undefined"&&d(this).attr("contenteditable")!=="false";if(!this.form&&t){this.form=d(this).closest("form")[0];this.name=d(this).attr("name")}if(r!==this.form)return;var i=d.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),a=i.settings;if(a[n]&&!d(this).is(a.ignore))a[n].call(i,this,e)})},idOrName:function(e){var t=d(e);var i="busy-verify-id";var n=t.data(i);if(!n){n="__busy_verify_element_"+u.INDEX++;t.data(i,n)}return n}});var n=c.helper.extends(d.validator.defaults,{highlight:function(e,t,i){if(false===s(false,e,t,i))return;c.helper.override(n,"highlight",this,arguments)},unhighlight:function(e,t,i){if(false===s(true,e,t,i))return;c.helper.override(n,"unhighlight",this,arguments)}});var i=c.helper.extends(d.validator.methods,{remote:function(e,a,t,n){if(this.optional(a))return"dependency-mismatch";n=typeof n==="string"&&n||"remote";var r=this.previousValue(a,n);if(!this.settings.messages[a.name])this.settings.messages[a.name]={};r.originalMessage=r.originalMessage||this.settings.messages[a.name][n];this.settings.messages[a.name][n]=r.message;t=typeof t==="string"&&{url:t}||t;var i=d.param(d.extend({data:e},t.data));if(r.old===i)return r.valid;r.old=i;this.startRequest(a);var o=d(a).data();var s=this.defaultMessage(a,{method:n,parameters:e});var l=this;if(l._ajaxPending){if(l._ajaxTask){l._ajaxTask.abort();l._ajaxTask=null}l._ajaxPending=false}l._ajaxPending=true;l._ajaxTask=c.request(t.url).addHeader("Busy-Admin-Plugin","FormVerifyRemote").params({field:a.name,value:e,model:o.optRemoteModel||"",exclude_field:o.optRemoteExcludeField||"id",exclude_value:o.optRemoteExcludeValue||"",error_message:s}).pending(false).before(function(e,t){t.context=l.currentForm}).complete(function(e,t,i){l._ajaxTask=null;l._ajaxPending=false;l.settings.messages[a.name][n]=r.originalMessage}).success(function(e,t,i){var n=l.formSubmitted;l.resetInternals();l.toHide=l.errorsFor(a);l.formSubmitted=n;l.successList.push(a);l.invalid[a.name]=false;l.showErrors();r.valid=true;l.stopRequest(a,true);return false}).error(function(e,t,i){if(t===1)return false;var n={};n[a.name]=r.message=e.message||s;l.invalid[a.name]=true;l.showErrors(n);r.valid=false;l.stopRequest(a,false);return false}).exec();return"pending"}})}o=true;typeof a==="function"&&a.call(r)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;d(document).one(c.e.appRenderBefore,function(){e.destroy()});var a={};e.$element.find(":input").each(function(){var e=d(this);var t=e.data();var i=e.attr("placeholder");var n=e.attr("name");if(!i||!n||t.msg)return true;a[n]={required:i}});e.$element.validate({messages:a,errorClass:"busy-form-verify-error text-danger",ignoreTitle:true,ignore:"",errorElement:"span",onkeyup:false,onchange:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e)))this.element(e)},errorPlacement:function(e,t){e.addClass("help-block");if(false===c.helper.execCallback(null,t[0],[e],t,c.e.verifyErrorPlacement,true,false))return;var i=t.data();var n=i.verifyMsgTarget;if(n){if(typeof n==="function")n(e);else d(n).append(e);return}if(t.is(":checkbox")||t.is(":radio")){var a=t.closest(".checkbox-inline,.checkbox,.radio-inline,.radio");if(a.length)a.parent().append(e)}else{var r=t.closest(".input-group");if(r.length)e.insertAfter(r);else e.insertAfter(t)}}})},valid:function(){if(!o)return false;return this.$element.valid()},rules:function(e,t){if(!o)return undefined;return this.$element.rules(e,t)},destroy:function(){}},u.INDEX=0,u.DEFAULTS={locale:d.extend({required:"å¿éé¡¹",remote:"è¯·æ£æµè¯¥é¡¹",email:"è¯·è¾å¥ææé®ä»¶",url:"è¯·è¾å¥ææçç½å",date:"è¯·è¾å¥ææçæ¥æ",dateISO:"è¯·è¾å¥ææçæ¥æ(ISO)",number:"è¯·è¾å¥æ°å­",digits:"è¯·è¾å¥æ´æ°",equalTo:"è¯·åæ¬¡è¾å¥ç¸åçå¼",maxlength:"æå¤åè®¸è¾å¥{0}ä¸ªå­ç¬¦",minlength:"è³å°éè¦è¾å¥{0}ä¸ªå­ç¬¦",rangelength:"è¾å¥çå­ç¬¦é¿åº¦å¿é¡»å¨{0}~{1}ä¸ªå­ç¬¦å",range:"è¾å¥çæ°å­å¿é¡»å¨{0}~{1}ä¹é´",max:"ä¸è½è¶è¿{0}",min:"ä¸è½å°äº{0}",step:"è¾å¥çæ°å¼å¿é¡»æ¯{0}çåæ°",phone:"è¯·è¾å¥ææçææºå·",decimal:"è¯·è¾å¥ææçæ°å¼(å¯åæ¶µå°æ°)",zip:"è¯·è¾å¥ææçé®ç¼",en:"åªè½åæ¶µè±æå­æ¯",enNumLine:"åªè½åæ¶µè±æãæ°å­ãä¸åçº¿",tel:"è¯·è¾å¥ææççµè¯å·ç ",minArray:"è³å°éè¦{0}é¡¹",maxArray:"æå¤åè®¸{0}é¡¹"},((c.locale||{}).plugin||{}).formVerify||{})};var t="form-verify";return d.fn.busyAdminVerify=e,d.fn.busyAdminVerify.Constructor=u,c.plugins.Verify=u,d.extend(c.e,{verifyErrorPlacement:c.ee("verify-error-placement","form-verify")}),c.autoInit('[data-toggle="busy-verify"],[busy-verify]',function(){e.call(this)}),u})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/form",[e.sys.core,e.sys.jquery],function(r,o){"use strict";var s=function(e){return Array.prototype.slice.call(e)},l="busy.admin.form.api",c=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},c.DEFAULTS,i.$element.data()||{},t||{});var n=i.$element.attr("action");var a=i.$element.attr("method");if(!i.options.action&&n)i.options.action=n;if(!i.options.method&&a)i.options.method=a;if(!i.options.action)i.options.action=document.URL;if(!i.options.method)i.options.method=c.DEFAULTS.method;i.init()};function e(i){var n;var a=s(arguments);a.shift();this.each(function(){var e=o(this);var t=e.data(l);if(!t)e.data(l,t=new c(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,a)});if(typeof i==="string")return n;return this}c.prototype={init:function(){var e=this;var t=e.options;if(e.isInit)return;e.isInit=true;if(t.submitHandler)e.$element.on("submit.busyAdmin",function(){e.submit();return false});if(t.verify)e.$element.busyAdminVerify(r.helper.parseData(e.options,"verify"))},submit:function(){var e=this;if(e.options.verify&&!e.$element.busyAdminVerify("valid"))return;if(false===r.helper.execCallback(e.options.onCheck,e.element,[],e.$element,r.e.formCheck,true,false))return;var t=e.options.confirm;if(t)r.dialog.confirm(t,function(){e.request()});else e.request()},request:function(){var n=this;var a=n.options;return r.request(a.action).pending(a.pending,a.pendingMessage).method(a.method).params(n.$element).before(function(e,t){return false!==r.helper.execCallback(a.onBefore,n.element,s(arguments),n.$element,r.e.formBefore,true,false)}).complete(function(e,t,i){return false!==r.helper.execCallback(a.onComplete,n.element,s(arguments),n.$element,r.e.formComplete,true,false)}).success(function(e,t,i){if(false===r.helper.execCallback(a.onSuccess,n.element,s(arguments),n.$element,r.e.formSuccess,true,false))return false;if(a.onSuccess===false)return false;r.dialog.toastSuccess(e.message);r.dispatchSugar(n.element,a.onSuccess,e,[]);return false}).error(function(e,t,i){if(false===r.helper.execCallback(a.onError,n.element,s(arguments),n.$element,r.e.formError,true,false))return false;if(a.onError===false)return false;r.dialog.toastError(e.message);r.dispatchSugar(n.element,a.onError,e,[]);return false}).exec()},reset:function(){this.element.reset();this.$element.trigger("reset")},destroy:function(){this.$element.off("submit.busyAdmin");if(this.options.verify)this.$element.busyAdminVerify("destroy")}},c.DEFAULTS={confirm:"",pending:true,pendingMessage:"",method:"post",action:"",verify:true,submitHandler:true,onCheck:o.noop,onBefore:o.noop,onSuccess:o.noop,onError:o.noop,onComplete:o.noop},o.fn.busyAdminForm=e,o.fn.busyAdminForm.Constructor=c,r.plugins.Form=c,r.regSugar("form",function(e,t,i,n){var a=o(e).data(l);if(a instanceof c){a[t].apply(a,n);return}a=o(e).data(r.plugins.Modal.KEY);if(a instanceof r.plugins.Modal){a=a.$form.data(l);if(a instanceof c)a[t].apply(a,n)}});var t="form";return o.extend(r.e,{formCheck:r.ee("check",t),formBefore:r.ee("before",t),formComplete:r.ee("complete",t),formSuccess:r.ee("success",t),formError:r.ee("error",t)}),r.autoInit('[data-toggle="busy-form"],[busy-form]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/high",[e.sys.core,e.sys.jquery],function(s,r){"use strict";var l=null,c=function(e,t){this.$element=r(e);this.$wrap=null;this.options=r.extend(true,{},c.DEFAULTS,this.$element.data()||{},t||{});this.ready(this.init)};function e(i){var n="busy.admin.highlight.api";var a=Array.prototype.slice.call(arguments);a.shift();return this.each(function(){var e=r(this);var t=e.data(n);if(!t)e.data(n,t=new c(this,typeof i==="object"&&i));if(typeof i==="string")if(i==="ready")t.ready.apply(t,a);else t.ready(function(){this[i].apply(this,a)})})}return c.prototype={ready:function(t){var i=this;l?"function"==typeof t&&t.call(i):require([s.lib.highlight],function(e){l=e,"function"==typeof t&&t.call(i)})},init:function(){this.$wrap=r(c.parse(this.$element.html(),this.options.type,"",this.options.locale.copy)),this.$element.hide().after(this.$wrap),s.helper.triggerPluginReady(this.$element,"High",this)},reload:function(){this.$wrap&&this.$wrap.remove(),this.init()}},c.DEFAULTS={type:"auto",locale:r.extend({copy:"å¤å¶"},((s.locale||{}).plugin||{}).highCode||{})},c.highlight=null,c.parse=function(e,t,i,n){var a;null===l&&(l=c.highlight);var r="",o=s.helper.uuid();return e=(e||"").trim(),"string"==typeof t&&t&&"auto"!==t?(a=l.highlight(t,e).value,r=t):(t="code",a=l.highlightAuto(e).value),'<div class="busy-admin-high-code '+(i||"")+'"><div class="busy-admin-high-code-title"><a href="javascript:void(0)" class="pull-right" data-toggle="busy-copy" data-target="#'+o+'" data-on-decode="html">'+(n||"å¤å¶")+"</a>"+t+'</div><pre><code class="hljs '+r+'">'+(a="<ol><li>"+a.replace(/\n/g,"</li><li>")+"</li></ol>")+'</code></pre><script type="text/plain" id="'+o+'">'+s.helper.htmlEncode(e)+"<\/script></div>"},r.fn.busyAdminHighCode=e,r.fn.busyAdminHighCode.Constructor=c,s.plugins.High=c,s.autoInit('[data-toggle="busy-high-code"],[busy-high-code]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/iconPicker",[e.sys.core,e.sys.jquery],function(c,d){"use strict";var u,o=function(e,t){var i=this;i.element=e;i.$element=d(e);i.options=d.extend(true,{},o.DEFAULTS,i.$element.data()||{},t||{});i.ready(i.init)};function t(i){var n;var a="busy.admin.iconPicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=d(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}o.prototype={ready:function(t){var i=this;if(u)typeof t==="function"&&t.call(i);else require(["bicon/busy-icon-data"],function(e){u=e;typeof t==="function"&&t.call(i)})},init:function(){var a=this;var r=a.options;if(a.isInit)return;a.isInit=true;if(r.clickHandler)a.$element.on("click.busyAdmin",function(e){e.preventDefault();a.show();return false});var e="";var i="";var t=0;for(var n in u){var o=u[n];var s=t===0?" active":"";var l="__busy_admin_icon_tab"+t;e+='<li class="'+s+'"><a href="#'+l+'" data-toggle="tab">'+o.name+' <span class="badge badge-primary">'+o.list.length+"</span></a></li>";i+='<div class="tab-pane'+s+'" id="'+l+'"><ul>';o.list.map(function(e){var t=n+" "+n+"-"+e;i+='<li><span class="keyword hide">'+e+'</span><a href="javascript:void(0);" icon="'+t+'"><i class="'+t+'"></i><span>'+e+"</span></a></li>"});i+="</ul></div>";t++}a.$content=d('<div><ul class="nav nav-lines nav-justified">'+e+'</ul><div class="form-horizontal"><input type="text" class="form-control" placeholder="'+r.locale.search+'"/></div><div class="tab-content">'+i+"</div></div>");a.$element.busyAdminModal({type:"page",content:a.$content,title:r.locale.title,className:"busy-admin-icon-picker",cancel:r.locale.clear,onCancel:function(){a._setValue("");a.$element.busyAdminModal("hide");c.helper.execCallback(a.options.onClear,a.element,[],a.$element,c.e.iconPickerClear)},padding:0,onShown:function(){a.$content.on("click","[icon]",function(){var e=d(this).attr("icon");a._setValue(e);a.$element.busyAdminModal("hide")});a.$content.on("input",".form-control",function(){var e=d(this);var t=e.val().trim();if(!t){a.$content.find(".keyword").parent().show();return}a.$content.find(".keyword:contains("+t+")").parent().show();a.$content.find(".keyword:not(:contains("+t+"))").parent().hide()});var t;if(a.$element.is(":input"))t=a.$element.val().trim();if(!t&&r.target)d(r.target).each(function(){var e=d(this);if(e.is(":input"))t=e.val().trim();else t=e.attr("class");if(t)return false});a.$content.find(".active[icon]").removeClass("active");var e=a.$content.find('[icon="'+t+'"]').addClass("active");var i=e.closest(".tab-pane").attr("id");if(i){var n=e.closest(".tab-content");a.$content.find('[href="#'+i+'"]').trigger("click");n.scrollTop(e.offset().top-n.offset().top+n.scrollTop())}}})},_setValue:function(t){var e=this;if(e.$element.is(":input"))e.$element.val(t).trigger("change");if(e.options.target)d(e.options.target).each(function(){var e=d(this);if(e.is(":input"))e.val(t).trigger("change");else e.removeAttr("class").addClass(t||"icon-placeholder")});c.helper.execCallback(e.options.onSelect,e.element,[t],e.$element,c.e.iconPickerSelect)},show:function(){var e=this;e.ready(function(){e.$element.busyAdminModal("show")})}},o.DEFAULTS={clickHandler:true,target:null,locale:d.extend({},{title:"å¾æ éæ©å¨",clear:"æ¸ç©º",search:"æç´¢å¾æ "},((c.locale||{}).plugin||{}).iconPicker||{})},d.fn.busyAdminIconPicker=t,d.fn.busyAdminIconPicker.Constructor=o,c.plugins.IconPicker=o;var e="icon-picker";return d.extend(c.e,{iconPickerSelect:c.ee("select",e),iconPickerClear:c.ee("clear",e)}),d(document).on("focus.busyAdmin",':input[data-toggle="busy-icon-picker"],:input[busy-icon-picker]',function(){var e=d(this);t.call(e,{clickHandler:!1}),t.call(e,"show")}),d(document).on("click.busyAdmin",'[data-toggle="busy-icon-picker"]:not(:input),[busy-icon-picker]:not(:input)',function(){var e=d(this);t.call(e,{clickHandler:!1}),t.call(e,"show")}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/imageViewer",[e.sys.core,e.sys.jquery],function(i,o){var s=function(e,t){var i=this;i.element=e;i.isSingle=false;i.$element=o(e);i.$img=null;i.options=o.extend(true,{},s.DEFAULTS,i.$element.data()||{},t||{});i.api=null;i.$body=o("body");i.ready(i.init)};function e(i){var n;var a="busy.admin.image-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return s.prototype={ready:function(e){var t=this;o.fn.viewer?e.call(t):require([i.lib.imageViewer],function(){e.call(t)})},init:function(){var e=this;e.isInit||(e.isInit=!0,o(document).on(i.e.appRenderBefore,function(){e.destroy()}),e.options.button=e.options.showClose,e.options.navbar=e.options.thumbs,e.options.url="data-src",e.options.zIndex=19900521,e.options.src?(e.$img=o('<img data-src="'+e.options.src+'" style="display: none;" alt="'+e.options.alt+'"/>'),e.$element.append(e.$img),e.isSingle=!0):e.isSingle="img"===e.element.tagName.toLowerCase(),e.isSingle?(e.options.navbar=!1,"boolean"==typeof e.options.control?e.options.toolbar=e.options.control:e.options.toolbar=!1):"boolean"==typeof e.options.control?e.options.toolbar=e.options.control:e.options.toolbar=!0,e.$element.viewer(e.options),e.api=e.$element.data("viewer"),e.options.src&&e.options.clickHandler&&e.$element.off("click").on("click",function(){e.show()}),i.helper.triggerPluginReady(e.$element,"ImageViewer",e))},show:function(e){this.api.view(e||0)},hide:function(){this.api.hide()},update:function(e){this.options=o.extend({},this.options,e||{}),this.options.src&&this.$img.attr("src",this.options.src).attr("alt",this.options.alt),this.api.update()},destroy:function(){this.isInit&&(this.isInit=!1,this.$img&&this.$img.remove(),this.api&&this.$element.viewer("destroy"),this.options.src&&this.options.clickHandler&&this.$element.off("click"))}},s.DEFAULTS={backdrop:!0,showClose:!1,fullscreen:!0,keyboard:!0,loading:!0,loop:!0,movable:!0,rotatable:!0,scalable:!0,title:!0,alt:"",control:void 0,transition:!0,zoomable:!0,thumbs:!0,src:"",clickHandler:!0},o.fn.busyAdminImageViewer=e,o.fn.busyAdminImageViewer.Constructor=s,i.plugins.ImageViewer=s,i.autoInit('[data-toggle="busy-image-viewer"],[busy-image-viewer]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/linkagePicker",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(o,u){var p=function(e){return"busy-linkage-picker"+e},a=function(e){return"busy-linkage-input"+e},s=function(e,t){var i=this;i.showing=false;i.uuid=i.getUID("linkage_picker");i.wrapId="__busy_"+i.uuid;i.selectData=[];i.selectIndex=[];i.pickerData=[];i.$value=u(e).hide().removeClass("form-control").wrap('<div class="'+a("")+'" id="'+i.wrapId+'"/>');i.placeholder=i.$value.attr("placeholder")||"è¯·éæ©";i.$wrap=u("#"+i.wrapId);i.$caret=u('<i class="fa fa-angle-down" />');i.$clear=u('<i class="bicon bicon-close-o" />');i.$loading=u('<i class="fa fa-spinner fa-spin" />');i.$input=u('<input type="text" readonly class="form-control"/>').attr("placeholder",i.placeholder);i.$wrap.append(i.$input);i.$wrap.append(i.$caret);i.$wrap.append(i.$clear);i.$wrap.append(i.$loading);i.init("linkagePicker",i.$wrap[0],t);i.values=[];i.$value.val().trim().split(i.options.idSpace).map(function(e){var t=e.trim();if(t!=="")i.values.push(t)});i.$content=i.tip().find(".popover-content");i.childField=i.options.childField||"child";i.idField=i.options.idField||"id";i.nameField=i.options.nameField||"name";i.parentField=i.options.parentField||"parent";i.parentRoot=i.options.parentRoot||"";i.initEvent();i.setList(i.options.list);if(i.values.length>0&&(i.options.model||i.options.url)){i.$wrap.addClass(a("-load"));i.$input.attr("placeholder",i.options.locale.loading);i.request(function(e){if(!e){i.$input.attr("placeholder",i.placeholder);i.$wrap.removeClass(a("-load"))}else i.initDefault()})}else i.initDefault();i.setDisabled(i.$value.prop("disabled"));o.helper.triggerPluginReady(i.$value,"LinkagePicker",i)};function e(i){var n;var a="busy.admin.linkagePicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=u(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}s.prototype=u.extend({},u.fn.popover.Constructor.prototype,{initEvent:function(){var r=this;if(!r.options.strict&&!r.options.multiple)r.$content.on("click","label",function(e){r.handleClick(u(this).closest("li"));r.selectComplete()});r.$content.on("click","li",function(e){if(e.target.tagName==="LABEL")return;if(r.handleClick(u(this)))r.selectComplete()});var e=o.app.$doc;var t=o.app.$win;e.on("click.busy-admin-linkage-picker",function(e){var t=u(e.target);if(t.closest(r.tip()).length||t.closest(r.$element).length||t.closest(r.$wrap).length)return;if(r.showing)r.hide()}).one(o.e.appRenderBefore,function(){e.off("click.busy-admin-linkage-picker");t.off("resize.busy-admin-linkage-picker");r.destroy()});t.on("resize.busy-admin-linkage-picker",function(){if(r.showing)r.autoPosition()});if(r.options.clear){r.$wrap.addClass(a("-has-clear"));r.$clear.on("click",function(e){e.preventDefault();r.selectData=[];r.selectIndex=[];r.setValue();r.$wrap.removeClass(a("-has-value"));if(r.showing)r.hide();o.helper.execCallback(r.options.onClear,r.$value[0],[r],r.$value,o.e.linkagePickerClear)})}r.$wrap.on("click",function(e){var t=u(this);if(u(e.target).closest(r.$clear).length||t.hasClass(a("-load"))||t.hasClass("disabled")||r.showing)return;if(t.hasClass("focus")){r.hide();return}r.show()}).on("shown.bs.linkagePicker",function(){r.selectIndex.map(function(e,t){var i=r.$content.find("."+p("-wrap-"+t));var n=i.find("li.active");if(n.length>0){var a=(i.outerHeight(true)-n.outerHeight(true))/2;i.scrollTop(n.offset().top-(i.offset().top+a)+i.scrollTop())}});o.helper.execCallback(r.options.onShown,r.$value[0],[r],r.$value,o.e.linkagePickerShown)}).on("show.bs.linkagePicker",function(){r.showing=true;r.$wrap.addClass("focus");o.helper.execCallback(r.options.onShow,r.$value[0],[r],r.$value,o.e.linkagePickerShow)}).on("hide.bs.linkagePicker",function(){r.$wrap.removeClass("focus");r.showing=false;o.helper.execCallback(r.options.onHide,r.$value[0],[r],r.$value,o.e.linkagePickerHide)}).on("hidden.bs.linkagePicker",function(){o.helper.execCallback(r.options.onHided,r.$value[0],[r],r.$value,o.e.linkagePickerHided)});r.$value.on(o.e.verifyErrorPlacement,function(e,t){r.$wrap.after(t);return false})},getDefaults:function(){return u.extend({},s.DEFAULTS,{trigger:"manual",template:'<div class="popover '+p("")+'" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',placement:"autobottom",viewport:"body"})},getOptions:function(e){var t=this;e=u.extend({},t.getDefaults(),t.$value.data(),e);if(!e.container){var i=t.$value.closest(".modal");if(i.length)e.container=i;else e.container="body"}if(e.delay&&typeof e.delay=="number")e.delay={show:e.delay,hide:e.delay};return e},getCalculatedOffset:function(e,t,i,n){if(e=="bottom")return{top:t.top+t.height,left:t.left};else return{top:t.top-n,left:t.left}},autoPosition:function(){var e=this;var t=e.tip();var i="bottom";var n=e.getPosition();var a=t[0].offsetWidth;var r=t[0].offsetHeight;var o=e.getPosition(e.$viewport);if(n.bottom+r>o.bottom)i="top";t.removeClass("top bottom").addClass(i);e.applyPlacement(e.getCalculatedOffset(i,n,a,r),i)},replaceArrow:function(e,t,i){this.arrow().css("left",this.$wrap.offset().left-this.tip().offset().left+45+"px")},hasContent:function(){return true},setContent:function(){var a=this;var e=a.options;var t=function(){var n=a.selectIndex.length;if(n>0){a.$content.html("");a.selectIndex.map(function(e,t){var i=a.createPicker(a.pickerData[t],t,e);a.$content.append(i);if(!a.options.strict&&!a.options.multiple&&t===n-1)i.find("li.active").find("input").prop("checked",true)})}else if(a.pickerData.length)a.$content.html(a.createPicker(a.pickerData[0],0,-1));else a.$content.html('<div style="width: '+(a.$wrap.width()-2)+'px" class="'+p("-empty")+'">'+e.emptyText+"</div>")};if((e.model||e.url)&&!e.list.length){var i=u('<div style="width: '+(a.$wrap.width()-2)+'px" class="'+p("-load")+'"><i class="fa fa-spinner fa-spin"></i> <span>'+e.locale.loading+"</span></div>");a.$content.html(i);a.request(function(e){if(!e)i.remove();else{a.initDefault();t()}});return}t()},request:function(n){var a=this;var e=a.options;o.request(typeof e.url==="function"?e.url():e.url).method(e.method).addHeader("Busy-Admin-Plugin","LinkagePicker").pending(false).params({model:e.model,extend:e.modelExtend?1:0}).complete(function(e,t,i){n(false)}).error(function(e,t,i){return false}).success(function(e,t,i){a.setList(e.result.data);n(true);return false}).exec()},setList:function(e){e=e||[];if(!e.length)return;var t=this;if(e.length>0&&(e[0]||{}).hasOwnProperty(t.childField))t.options.list=e;else t.options.list=o.helper.listToTree(e,t.idField,t.childField,t.parentField,t.parentRoot)},createPicker:function(e,r,o){var s=this;var l="";var c=s.options.strict;var d=s.options.multiple;e.map(function(e,t){var i=e[s.childField]||[];var n="";var a=s.uuid+"_"+r+"_"+t;if(!c||d)if(d)n='<div class="'+p("-checkbox")+'"><input type="checkbox" id="__checkbox_'+a+'"/><label class="bicon" for="__checkbox_'+a+'"></label></div>';else n='<div class="'+p("-radio")+'"><input type="radio" id="__radio_'+a+'" name="__radio_'+s.uuid+'"/><label class="bicon" for="__radio_'+a+'"></label></div>';else n='<div class="'+p("-check")+'"><i class="bicon bicon-check"></i></div>';l+='<li class="'+(o===t?"active":"")+'" data-index="'+t+'" data-picker-index="'+r+'">                    '+n+"                    <span>"+e[s.nameField]+'</span>                    <i class="angle-right fa fa-angle-right '+(i.length>0?"":"hide")+'"></i>                </li>'});return u('<div class="'+p("-wrap")+" "+p("-wrap-"+r)+'"><ul>'+l+"</ul></div>")},handleClick:function(e){var t=this;var i=e.data();var n=i.index;var a=i.pickerIndex;var r=(t.pickerData[a]||[])[n]||null;var o=r[t.childField]||[];var s=t.pickerData.length;for(var l=s;l>a;l--){t.$content.find(".busy-linkage-picker-wrap-"+l).remove();t.pickerData=t.pickerData.del(l);t.selectData=t.selectData.del(l-1);t.selectIndex=t.selectIndex.del(l-1)}e.siblings().removeClass("active");e.addClass("active");t.selectData.push(r);t.selectIndex.push(n);if(o.length>0){t.pickerData.push(o);t.$content.append(t.createPicker(o,a+1,-1));t.autoPosition();return false}else return true},selectComplete:function(){var e=this;e.hide();e.setValue();o.helper.execCallback(e.options.onChanged,e.$value[0],[e,e.selectData,e.selectIndex],e.$value,o.e.linkagePickerChanged)},setValue:function(){var t=this;var i=[];var n=[];t.selectData.map(function(e){i.push(e[t.nameField]);n.push(e[t.idField])});if(t.options.nameAllPath)t.$input.val(i.join(t.options.nameSpace));else t.$input.val(i[i.length-1]);t.$value.val(n.join(t.options.idSpace));t.$value.trigger("change");t.$value.trigger("input");if(n.length>0)t.$wrap.addClass(a("-has-value"))},initDefault:function(){var i=this;var e=0;var t=i.options.list||[];do{var n=i.values[e]||null;if(n===null)break;var a=null;var r=-1;u.each(t,function(e,t){if(t[i.idField]==n){a=t;r=e;return false}});if(!a||r==-1)break;i.selectData.push(a);i.pickerData.push(t);i.selectIndex.push(r);t=a[i.childField]||[];e++}while(true);t=i.options.list||[];if(!i.pickerData.length&&t.length>0)i.pickerData=[t];i.setValue()},setDisabled:function(e){this.$wrap.toggleClass("disabled",e)}}),s.DEFAULTS={list:[],idField:"id",nameField:"name",childField:"child",parentField:"parent",parentRoot:"",strict:true,multiple:false,clear:false,url:"",model:"",method:"get",idSpace:",",nameSpace:"/",nameAllPath:true,container:"",onChanged:u.noop,onClear:u.noop,onShow:u.noop,onShown:u.noop,onHide:u.noop,onHidden:u.noop,emptyText:"æ éé¡¹",locale:u.extend({},{loading:"è¯·ç¨å..."},((o.locale||{}).plugin||{}).linkagePicker||{})};var t="linkage-picker";return u.fn.busyAdminLinkagePicker=e,u.fn.busyAdminLinkagePicker.Constructor=s,o.plugins.LinkagePicker=s,u.extend(o.e,{linkagePickerShow:o.ee("show",t),linkagePickerShown:o.ee("shown",t),linkagePickerHide:o.ee("hide",t),linkagePickerHided:o.ee("hidden",t),linkagePickerChanged:o.ee("changed",t),linkagePickerClear:o.ee("clear",t)}),o.autoInit('[data-toggle="busy-linkage-picker"],[busy-linkage-picker]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/markdown",[e.sys.core,e.sys.jquery],function(r,o){"use strict";var s=null,l=null,c=function(e,t){this.$element=o(e);this.$wrap=null;this.options=o.extend(true,{},c.DEFAULTS,this.$element.data()||{},t||{});this.ready(this.init)};function e(i){var n;var a="busy.admin.markdown.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new c(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return c.prototype={ready:function(i){var a=this;s&&o.fn.busyAdminHighCode.Constructor.highlight?"function"==typeof i&&i.call(a):require([r.lib.marked,r.lib.highlight],function(e,t){(s=new(l=e).Renderer).paragraph=function(e){return'<p class="markdown-paragraph">'+e+"</p>"},s.blockquote=function(e){return'<blockquote class="markdown-blockquote">'+e+"</blockquote>"},s.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+' class="markdown-'+n+'" '+(t&&i?'start="'+i+'"':"")+">"+e+"</"+n+">"},s.table=function(e,t){t=o('<div class="table-responsive markdown-table-responsive"><table class="table table-hover table-striped table-bordered markdown-table"><thead> '+e+" </thead> <tbody> "+t+" </tbody></table></div>");return t.find("thead th").each(function(){var e=o(this).addClass("text-center"),t=e.text().trim();t.indexOf(":")&&(t=t.split(":"),e.attr("width",(t[1]||"").trim()),e.html((t[0]||"").trim()))}),t.find("tbody td").each(function(){var t,e=o(this).addClass("text-vtop"),i=e.html().trim();!i.indexOf(":")||"title"===((t=i.split(":"))[1]||"").trim()&&(i=e.closest("tr").addClass("info text-bold").find("td"),e.attr("colspan",i.length),i.each(function(e){0<e?o(this).remove():o(this).html((t[0]||"").trim())}))}),t[0].outerHTML},s.code=function(e,t){if(0!==t.indexOf("demo"))return'<div class="markdown-code">'+o.fn.busyAdminHighCode.Constructor.parse(e,t,"",a.options.locale.copy)+"</div>";var i=t.split(":")[1]||"å®ä¾",t=e.split("\n"),n={};t.map(function(e){-1!==(e=e.trim()).indexOf(":")&&(e=e.split(":"),n[e[0].trim()]=(e[1]||"").trim())});t=o(e.trim()),e=t.html().trim();return t.is("textarea")&&(e=r.helper.htmlDecode(e)),'<div class="busy-demo panel panel-default"><div class="busy-demo-title panel-heading"><h3 class="panel-title">'+i+'</h3></div><div class="panel-body busy-demo-content">'+e+'</div><div class="busy-demo-code">'+o.fn.busyAdminHighCode.Constructor.parse(e,"html","",a.options.locale.copy)+'</div><div class="panel-footer busy-demo-control"><a href="javascript:void(0)"><i class="fa fa-caret-down"></i> '+a.options.locale.showCode+"</a></div></div>"},s.heading=function(e,t){return"<h"+t+' class="markdown-heading" id="'+r.helper.base64Encode(e+":"+t).replace(/([=\/+])/g,"")+'">'+e+"</h"+t+">"},s.link=function(e,t,i){return'<a class="markdown-link" href="'+e+'" target="_blank" title="'+(t||i)+'">'+i+"</a>"},o.fn.busyAdminHighCode.Constructor.highlight=t,"function"==typeof i&&i.call(a)})},init:function(){var i=this,e=l(i.$element.html(),{renderer:s}),t=o('<div class="row" />'),n=o('<div class="col-sm-12 busy-admin-markdown-content" />'),a=o('<div class="col-sm-3 col-sm-push-9 busy-admin-markdown-catalog" />');i.options.catalog&&(n=o('<div class="col-sm-9 col-sm-pull-3 busy-admin-markdown-content"/>'),t.append(a)),t.append(n),n.html(e),i.$wrap=o('<div class="busy-admin-markdown" />').append(t),i.$element.hide().after(i.$wrap),n.find(".busy-demo-control a").on("click",function(){var e=o(this),t=e.parent(".busy-demo-control").prev();t.data("opened")?t.slideUp(function(){t.data("opened",!1),e.html('<i class="fa fa-caret-down"></i> '+i.options.locale.showCode+"</a>")}):t.slideDown(function(){t.data("opened",!0),e.html('<i class="fa fa-caret-up"></i> '+i.options.locale.hideCode+"</a>")})}),i.options.catalog&&i.catalog(n,a),r.helper.triggerPluginReady(i.$element,"Markdown",i)},catalog:function(e,t){var i=o(document.body).offset().top+o(document.body).outerHeight(!0),e=e.offset().top+e.outerHeight(!0);this.$wrap.busyAdminCatalog({container:t,filterSelector:".busy-demo",scroll:this.options.catalogScroll,sticky:!r.app.isMobileSize()&&this.options.catalogSticky,top:r.app.getContentFrame().top+this.options.catalogTop,bottom:i-e+this.options.catalogBottom})},reload:function(){null!==this.$wrap&&this.$wrap.remove(),this.init()}},c.DEFAULTS={catalog:!0,catalogScroll:!0,catalogSticky:!0,catalogTop:15,catalogBottom:15,locale:o.extend({showCode:"æ¾ç¤ºä»£ç ",hideCode:"éèä»£ç ",copy:"å¤å¶"},((r.locale||{}).plugin||{}).markdown||{})},o.fn.busyAdminMarkdown=e,o.fn.busyAdminMarkdown.Constructor=c,r.plugins.Markdown=c,r.autoInit('[data-toggle="busy-markdown"],script[type="text/x-markdown"],[busy-markdown]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/modal",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(o,s){"use strict";var l=o.helper.extends(s.fn.modal.Constructor.prototype,{adjustDialog:function(){o.helper.override(l,"adjustDialog",this,arguments);if(!this.$element.hasClass("busy-admin-modal"))return;if(!this.$win)this.$win=s(window);if(!this.$content)this.$content=this.$dialog.find(".modal-content");var e=this.$content.height();var t=this.$win.height();var i=this.$win.width();var n=i<=767;var a=n?10:30;if(e+a*2>=t)if(n)this.$dialog.css("margin",a+"px");else this.$dialog.css("margin",a+"px auto");else{var r=(t-e)/2-1;if(n)this.$dialog.css("margin",r+"px "+a+"px");else this.$dialog.css("margin",r+"px auto")}},show:function(){this.noFix=this.$body.hasClass("modal-open");o.helper.override(l,"show",this,arguments);var e=this.options.zindex==="auto"?o.zIndex():this.options.zindex;this.$element.css("z-index",e);this.$backdrop&&this.$backdrop.addClass("busy-admin-modal-backdrop").css("z-index",e-1)},hideModal:function(){var e=this;if(!e.$element.hasClass("busy-admin-modal")){o.helper.override(l,"hideModal",e,arguments);return}e.$element.hide();e.backdrop(function(){if(!e.noFix){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar()}e.$element.trigger("hidden.bs.modal")})}}),c=function(e){if(!e)return"";if(-1===e.indexOf(" "))e="fa "+e;return'<i class="'+e+'"></i> '},d=function(e){return typeof e==="boolean"?e:true},r=function(e,t){var i=this;i.element=e;i.$element=s(e);var n=i.$element.data()||{};i.options=s.extend(true,{},r.DEFAULTS,n,t||{});i.sourceOptions=s.extend(true,{},r.DEFAULTS,n,t||{});i.$documentBody=s(document.body);i.api=null;if(!i.options.url&&!i.options.content&&!i.options.text)i.setOption("url",i.$element.attr("href"));i.ajax=!!i.options.url;i.leftButtons=[];i.rightButtons=[];i.init()};function t(i){var n;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=s(this);var t=e.data(r.KEY);if(!t)e.data(r.KEY,t=new r(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,a)});if(typeof i==="string")return n;return this}r.prototype={init:function(){var e=this;if(e.isInit)return;e.isInit=true;s(document).one(o.e.appRenderBefore,function(){e.destroy()});e._listenResize()},_listenResize:function(){var e=this;s(window).one("resize",function(){e.resetView();e._listenResize()})},_create:function(){var e=this;var t=e.options;e.$container=s(r.TEMPLATE).addClass(t.className);e.$dialog=e.$container.find(".modal-dialog");e.$dialogContent=e.$container.find(".modal-content");e.$dialogHeader=e.$container.find(".modal-header");e.$dialogTitle=e.$container.find(".modal-title");e.$dialogBody=e.$container.find(".modal-body");e.$dialogFooter=e.$container.find(".modal-footer-sys");e.$dialogFooterUse=e.$container.find(".modal-footer-use").hide();e.$dialogClose=e.$dialogHeader.find(".close");e.$okBtn=s('<button type="button" class="btn" />');e.$cancelBtn=s('<button type="button" class="btn" />');e.setClose(t.close);e.setSize(t.size,false);e.setPadding(t.padding,false);e.setBorderTop(t.borderTop,false);e.setBorderBottom(t.borderBottom,false);e.setHeight(t.height,false);e.setTitle(t.title,false);e.setFooter(t.footer,false);e.setFooterAlign(t.footerAlign);e.$dialogFooter.append(e.$cancelBtn);e.setCancel(t.cancel!==false?t.cancel||t.locale.cancel:false,t.cancelIcon,t.cancelSkin,false);e.$dialogFooter.append(e.$okBtn);e.setOk(t.ok!==false?t.ok||t.locale.confirm:false,t.okIcon,t.okSkin,false);e.setButtons(typeof t.buttons==="string"?o.helper.scope(t.buttons,[]):t.buttons,false);return e.$container},setClose:function(e){var t=this;if(!t.$dialogClose)return;t.setOption("close",e);if(e)t.$dialogClose.show();else t.$dialogClose.hide()},setButtons:function(e,t){var i=this;if(!i.$dialogFooter)return;if(i.leftButtons)i.leftButtons.map(function(e){e.remove()});if(i.rightButtons)i.rightButtons.map(function(e){e.remove()});i.leftButtons=[];i.rightButtons=[];i.setOption("buttons",e);s.map(e||[],function(e){e=e||{};if(e.align==="left")i.leftButtons.push(i._createBtn(e));else i.rightButtons.push(i._createBtn(e))});s.map(i.leftButtons,function(e){i.$dialogFooter.prepend(e)});s.map(i.rightButtons,function(e){i.$dialogFooter.append(e)});if(d(t))this.resetView()},setOk:function(e,t,i,n){let a=this;if(!a.$okBtn)return;a.setOption("ok",e);if(e===false){a.$okBtn.hide();return}var r=a.options.okSkin;a.setOption("okIcon",t);if(i)a.setOption("okSkin",i);else i=a.options.okSkin;a.$okBtn.html(c(t)+e).removeClass(r).addClass(i).show();if(d(n))a.resetView()},setCancel:function(e,t,i,n){let a=this;if(!a.$cancelBtn)return;a.setOption("cancel",e);if(e===false){a.$cancelBtn.hide();return}var r=a.options.cancelSkin;a.setOption("cancelIcon",t);if(i)a.setOption("cancelSkin",i);else i=a.options.cancelSkin;a.$cancelBtn.html(c(t)+e).removeClass(r).addClass(i).show();if(d(n))a.resetView()},setFooterAlign:function(e){let t=this;if(!t.$dialogFooter)return;t.setOption("footerAlign",e);t.$dialogFooter.removeClass("text-center text-left text-right");if(e)t.$dialogFooter.addClass("text-"+e)},setFooter:function(e,t){let i=this;if(!i.$dialogFooter)return;i.setOption("footer",e);if(typeof e==="boolean"){if(e)i.$dialogFooter.show();else i.$dialogFooter.hide();i.$dialogFooterUse.hide()}else if(e){i.$dialogFooter.hide();i.$dialogFooterUse.empty().append(e).show()}if(d(t))i.resetView()},setSize:function(e,t){var i=this;if(!i.$dialog)return;i.setOption("size",e);i.$dialog.removeClass("modal-sm modal-lg");if(e)i.$dialog.addClass("modal-"+e);if(d(t))i.resetView()},setPadding:function(e,t){var i=this;if(!i.$dialogBody)return;i.setOption("padding",e);if(s.isNumeric(e))e=e+"px";i.$dialogBody.css({padding:e||""});if(d(t))i.resetView()},setBorderTop:function(e,t){var i=this;if(!i.$dialogHeader)return;i.setOption("borderTop",e);i.$dialogHeader.css("border-bottom-width",!e?0:"");if(d(t))i.resetView()},setBorderBottom:function(e,t){var i=this;if(!i.$dialogFooter)return;i.setOption("borderBottom",e);i.$dialogFooter.css("border-top-width",!e?0:"");i.$dialogFooterUse.css("border-top-width",!e?0:"");if(d(t))i.resetView()},setHeight:function(e,t){var i=this;if(!i.$dialog)return;i.setOption("height",e);if(s.isNumeric(e)&&e>0)e=e+"px";if(e){i.$dialogBody.css("height",e);i.$dialog.addClass("modal-fixed-height")}else{i.$dialogBody.css("height","");i.$dialog.removeClass("modal-fixed-height")}if(d(t))i.resetView()},setContent:function(e){var t=this;t.ajax=false;t.setOption("content",e);t.render()},setTitle:function(e,t){var i=this;if(!i.$dialogHeader)return;i.setOption("title",e);if(e===false)i.$dialogHeader.hide();else{i.$dialogHeader.show();i.$dialogTitle.empty().append(e||i.options.locale.title)}if(d(t))i.resetView()},_renderContent:function(e,t){this.$content=s("<div />").append(s(e));if(t)this.setTitle(t);this.$dialogBody.empty().append(this.$content)},render:function(){var t=this;var i=t.options;if((i.content||i.text)&&!t.ajax){var e;if(i.text)e="<div>"+i.content+"</div>";else if(typeof i.content==="function")e=s(i.content());else{e=s(i.content);if(e.length)if(e[0].tagName.toLowerCase()==="script"||e[0].tagName.toLowerCase()==="template")e="<div>"+s(i.content).html()+"</div>"}t._renderContent(s(e))}var n=false;switch(t.options.type){case"page":n=true;break;default:if(!t.$content||t.$content.length===0)n=true;else t.renderForm()}if(n){t.$okBtn.off("click").on("click",function(e){if(false===o.helper.execCallback(i.onOk,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalOk,{relatedTarget:this}),true,false))return;t.hide()});t.$cancelBtn.off("click").on("click",function(){if(false===o.helper.execCallback(i.onCancel,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalCancel,{relatedTarget:this}),true,false))return;t.hide()})}o.helper.execCallback(i.onReady,t.element,[t],[t.$element,o.app.$doc],o.e.modalReady);if(t.api.isShown){t.resetView();return}t.api.show()},submit:function(){var e=this;if(!e.$form||e.$form.length===0)return false;e.$form.submit();return true},reset:function(){var e=this;if(!e.$form||e.$form.length===0)return false;e.$form[0].reset();return true},renderForm:function(){var t=this;var i=t.options;var e=t.$content.find("form");if(e.length===0){t.$content.wrap("<form />");t.$content=t.$content.parent("form");e=t.$content}else{i.formAction=e.attr("action")||i.url;i.formMethod=e.attr("method")||i.formMethod}t.$form=e;if(e.find(":submit").length===0)e.append('<button type="submit" style="position: absolute; left: -9999px;">submit</button>');var n=o.helper.parseData(i,"form","verify");n.action=n.action||i.url;n.method=n.method||"post";var a=n.onSuccess;if(a&&typeof a==="string"&&0===a.indexOf("@"))n.onSuccess=function(e){o.dispatchSugar(t.element,a,e,[])};e.busyAdminForm(n);t.$okBtn.off("click").on("click",function(e){if(false===o.helper.execCallback(i.onOk,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalOk,{relatedTarget:this}),true,false))return;t.submit()});t.$cancelBtn.off("click").on("click",function(){if(false===o.helper.execCallback(i.onCancel,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalCancel,{relatedTarget:this}),true,false))return;t.hide()})},show:function(){var t=this;var i=t.options;t.result=null;t.$documentBody.append(t._create());t.$container.modal({show:false,backdrop:i.backdrop,keyboard:i.keyboard,zindex:i.zindex});t.$container.on("show.bs.modal shown.bs.modal hide.bs.modal hidden.bs.modal",function(e){if(e.namespace!=="bs.modal")return;o.helper.execCallback(i[o.helper.camel("on_"+e.type)],t.element,[t],[t.$element,o.app.$doc],o.ee(e.type,"modal"));if(e.type==="hidden")t.$container.remove();if(e.type==="hide"){if(t.$form)t.$form.busyAdminForm("destroy");t.options=s.extend(true,{},t.options,t.sourceOptions)}});t.api=t.$container.data("bs.modal");if(false===o.helper.execCallback(i.onRenderBefore,t.element,[t],t.$element,o.e.modalRenderBefore,true,false))return;if(t.ajax)t.load();else t.render()},hide:function(){if(!this.api)return;this.api.hide()},load:function(i){var n=this;o.request(n.options.url).method(n.options.method||"get").params(n.options.params||{}).addHeader("Busy-Admin-Plugin","Modal").parse("html").success(function(e){o.app.responseToHtml(e,function(e){var t=o.app.extractContainer(e);n._renderContent(t.content,t.appTitle);n.render();if(i){o.helper.execCallback(n.options.show,n.element,[n],[n.$element,o.app.$doc],o.e.modalShow);o.helper.execCallback(n.options.shown,n.element,[n],[n.$element,o.app.$doc],o.e.modalShown)}});return false}).exec()},reload:function(e){var t=this;if(e)t.options.url=e;t.ajax=true;t.load(true)},resetView:function(){if(!this.api)return;this.api.adjustDialog()},setOption:function(e,t){this.options[e]=t;this.sourceOptions[e]=t},_createBtn:function(e){var t=this;if(e.element)e.$element=s(e.element);else e.$element=s('<button type="button" class="btn"/>').addClass(e.classes||"btn-default").html(e.text);if(typeof e.events==="function")e.$element.off("click.busy.modal").on("click.busy.modal",function(){e.events.call(this,t)});else{e.events=e.events||{};for(var i in e.events){var n=e.events[i];e.$element.off(i).on(i,function(){n.call(this,t)})}}return e.$element},destroy:function(){s("body").removeClass("modal-open");if(this.api){this.api.removeBackdrop();this.api.resetAdjustments();this.api.resetScrollbar()}if(this.$container)this.$container.remove()}},r.TEMPLATE='<div class="modal fade busy-admin-modal">        <div class="modal-dialog">            <div class="modal-content">                <div class="modal-header">                    <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>                    <h4 class="modal-title"></h4>                </div>                <div class="modal-body"></div>                <div class="modal-footer modal-footer-sys clearfix"></div>                <div class="modal-footer modal-footer-use clearfix"></div>            </div>        </div>    </div>',r.DEFAULTS={type:"",backdrop:true,keyboard:true,size:"",title:"",footer:true,footerAlign:null,content:"",text:false,url:"",method:"get",params:{},className:"",padding:undefined,borderTop:true,borderBottom:true,height:null,buttons:[],zindex:"auto",close:true,ok:"",okSkin:"btn-primary",okIcon:"",cancel:"",cancelSkin:"btn-default",cancelIcon:"",onOk:s.noop,onCancel:s.noop,onReady:s.noop,onShow:s.noop,onShown:s.noop,onHide:s.noop,onHidden:s.noop,onRenderBefore:s.noop,formMethod:"post",formAction:"",formOnSuccess:"@modal.close",locale:s.extend({},{confirm:"ç¡®å®",cancel:"åæ¶",title:"æä½",reset:"éç½®"},((o.locale||{}).plugin||{}).dialog||{})},r.KEY="busy.admin.modal.api";var e="modal";return s.fn.busyAdminModal=t,s.fn.busyAdminModal.Constructor=r,o.plugins.Modal=r,o.regSugar("modal",function(e,t,i,n){e=s(e).data(r.KEY);e instanceof r&&("close"===t&&(t="hide"),e[t].apply(e,n))}),s.extend(o.e,{modalRenderBefore:o.ee("render-before",e),modalReady:o.ee("ready",e),modalShow:o.ee("show",e),modalShown:o.ee("shown",e),modalHide:o.ee("hide",e),modalHided:o.ee("hidden",e),modalOk:o.ee("ok",e),modalCancel:o.ee("cancel",e)}),s(document).on("click",'[data-toggle="busy-modal"],[busy-modal]',function(e){return e.preventDefault(),t.call(s(this),"show"),!1}),r})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/random",[e.sys.core,e.sys.jquery],function(i,r){"use strict";var o=function(e,t){var i=this;i.element=e;i.$element=r(e);i.options=r.extend(true,{},o.DEFAULTS,i.$element.data()||{},t||{});i.init()};function t(i){var n;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=r(this);var t=e.data(o.KEY);if(!t)e.data(o.KEY,t=new o(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,a)});if(typeof i==="string")return n;return this}return o.prototype={init:function(){var e=this;e.isInit||(e.isInit=!0,e.options.clickHandler&&e.$element.on("click",function(){e.value()}))},value:function(){var e,t=this.options;t.target&&((e=r(t.target)).is(":input")?(e.val(i.helper.random(t.length,t.char)),e.trigger("input")):e.text(i.helper.random(t.length,t.char)),e.trigger("change"))}},o.DEFAULTS={target:null,length:32,char:null,clickHandler:!0},o.KEY="busy.admin.random.api",r.fn.busyAdminRandom=t,r.fn.busyAdminRandom.Constructor=o,i.plugins.Random=o,r(document).on("click",'[data-toggle="busy-random"],[busy-random]',function(e){return e.preventDefault(),t.call(r(this),{clickHandler:!1}),t.call(r(this),"value"),!1}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/rangeSlider",[e.sys.core,e.sys.jquery],function(s,o){var n=null,l=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=this._parseOptions(o.extend(true,{},l.DEFAULTS,i.$element.data()||{},t||{}));var n=i.options.values;if(n){i.$element.removeData("values").removeAttr("data-values");if(typeof n==="string")n=n.split(",");if(!Array.isArray(n))n=[];i.options.values=n}i._parseValue(i.$element.val().trim());i.ready(i.init)};function e(i){var n;var a="busy.admin.rangeSlider.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string"){n=t[i].apply(t,r);if(i=="destroy")e.removeData(a)}});if(typeof i==="string")return n;return this}l.prototype={ready:function(t){var i=this;if(n)typeof t==="function"&&t.call(i);else require([s.lib.ionRangeSlider],function(e){n=e;typeof t==="function"&&t.call(i)})},init:function(){var e=this;var t=e.options.onStart;var i=e.options.onChange;var n=e.options.onFinish;var a=e.options.onUpdate;var r=e.$element;var o=e.element;e.options.onStart=function(e){s.helper.execCallback(t,o,[e],r,s.e.rangeSliderStart)};e.options.onChange=function(e){s.helper.execCallback(i,o,[e],r,s.e.rangeSliderChange)};e.options.onFinish=function(e){s.helper.execCallback(n,o,[e],r,s.e.rangeSliderFinish)};e.options.onUpdate=function(e){s.helper.execCallback(a,o,[e],r,s.e.rangeSliderUpdate)};e.options.skin="round";e.options.extra_classes="ba-range-slider";e.api=r.ionRangeSlider(e.options).data("ionRangeSlider");s.helper.triggerPluginReady(r,"RangeSlider",e)},_parseOptions:function(e){for(var t in e){if(t.substring(0,2)==="on")continue;if(t==="readonly"){e.block=e[t];delete e[t]}if(t==="disabled"){e.disable=e[t];delete e[t]}if(-1===t.indexOf("_")){var i=s.helper.snake(t,"_");if(i!=t){e[i]=e[t];delete e[t]}}}return e},_parseValue:function(e,t){e=e===null||e===undefined?"":e+"";var i=this;var n=i.options.values;if(n.length>0){if(i.options.type!="single"){var a=e.split(i.options.input_values_separator);if(!o.isNumeric(i.options.from)||t)i.options.from=n.indexOf(a[0]);if(a.length>1){if(!o.isNumeric(i.options.to)||t){i.options.to=n.indexOf(a[1]);i.options.to=i.options.to==-1?null:i.options.to}}else if(t)i.options.to=null}else if(!o.isNumeric(i.options.from)||t)i.options.from=n.indexOf(e)}else if(t)if(i.options.type!="single"){var a=e.split(i.options.input_values_separator);i.options.from=a[0];if(a.length>1)i.options.to=a[1];else i.options.to=null}else i.options.from=e},setOption:function(e,t){this.options[e]=t;this.setOptions()},setOptions:function(e){this.options=this._parseOptions(o.extend(true,{},this.options,e||{}));if(!this.api)return;this.api.update(this.options)},setValue:function(e){if(!this.api)return;this.$element.val(e).trigger("input").trigger("change");this._parseValue(e,true);this.api.update(this.options)},getApi:function(){return this.api},destroy:function(){let e=this;e.$element.removeAttr("data-toggle").removeAttr("busy-range-slider");if(!e.api)return;e.api.destroy()}},l.DEFAULTS={type:"single",min:0,max:100,from:null,to:null,step:1,minInterval:0,maxInterval:0,dragInterval:false,values:[],fromFixed:false,fromMin:null,fromMax:null,fromShadow:false,toFixed:false,toMin:null,toMax:null,toShadow:false,prettifyEnabled:true,prettifySeparator:" ",prettify:null,forceEdges:false,keyboard:true,grid:false,gridMargin:true,gridNum:4,gridSnap:false,hideMinMax:false,hideFromTo:false,prefix:"",postfix:"",maxPostfix:"",decorateBoth:true,valuesSeparator:" â ",inputValuesSeparator:",",disabled:false,readonly:false,scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},o.fn.busyAdminRangeSlider=e,o.fn.busyAdminRangeSlider.Constructor=l,s.plugins.RangeSlider=l;var t="range-slider";return o.extend(s.e,{rangeSliderStart:s.ee("start",t),rangeSliderChange:s.ee("change",t),rangeSliderUpdate:s.ee("update",t),rangeSliderFinish:s.ee("finish",t)}),s.autoInit('[data-toggle="busy-range-slider"],[busy-range-slider]',function(){e.call(this)}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/rate",[e.sys.core,e.sys.jquery],function(s,o){var i=null,l=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},l.DEFAULTS,i.$element.data()||{},t||{});i.ready(i.init)};function e(i){var n;var a="busy.admin.rate.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string"){n=t[i].apply(t,r);if(i=="destroy")e.removeData(a)}});if(typeof i==="string")return n;return this}l.prototype={ready:function(e){var t=this;if(i)typeof e==="function"&&e.call(t);else require([s.lib.bootstrapStarRating],function(){i=true;typeof e==="function"&&e.call(t)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;var i=e.options;i.containerClass="ba-rate";i.clearCaption=i.clearCaption||i.locale.clearCaption;i.clearButtonTitle=i.clearButtonTitle||i.locale.clearButtonTitle;i.defaultCaption=i.defaultCaption||i.locale.caption;this._initDefaultCaption(i);if(!i.starTitles){var t={};for(var n=1;n<=i.max;n++)t[n]=i.defaultCaption.replace(/\{rating}/g,n);i.starTitles=t}if(!i.starCaptions)i=this._initTexts(i);var a=function(e){return"rating:"+e};var r=e.$element;var o=e.element;r.on(a("clear")+" "+a("reset")+" "+a("refresh"),function(e){var t=e.type.substring(7);t=t.slice(0,1).toUpperCase()+t.slice(1);s.helper.execCallback(i["on"+t],o,[],r,s.e["rate"+t])}).on("change",function(){r.trigger("input");s.helper.execCallback(i.onChange,o,[],r,s.e.rateChange)});e.api=r.addClass("input-hidden").rating(i).data("rating");s.helper.triggerPluginReady(r,"Rate",e)},getApi:function(){return this.api},setValue:function(e){if(!this.api)return;this.api.update(e)},clear:function(){if(!this.api)return;this.api.clear()},reset:function(){if(!this.api)return;this.api.reset()},setOption:function(e,t){this.options[e]=t;this.setOptions(this.options)},setOptions:function(e){if(!this.api)return;this.options=o.extend(true,{},this.options,e||{});this.options=this._initDefaultCaption(this.options);this.options=this._initTexts(this.options);this.api.refresh(this.options)},_initTexts:function(e){var t=e.texts;if(t.length>0){var i={};var n=[];for(var a=e.step;a<=e.max;a+=e.step){i[a]=t.splice(0,1);n.push(i[a])}e.texts=n;e.starCaptions=i}return e},_initDefaultCaption:function(e){var t=e.defaultCaption;if(-1===t.indexOf("{rating}"))t="{rating}"+e.defaultCaption;e.defaultCaption=t;return e},destroy:function(){let e=this;e.isInit=false;e.$element.removeAttr("data-toggle").removeAttr("busy-rate");if(!e.api)return;e.api.destroy()}},l.DEFAULTS={min:0,max:5,stars:5,size:"",step:1,showClear:false,showCaption:false,defaultCaption:"",captionElement:null,clearElement:null,texts:["æå·®","å¤±æ","ä¸è¬","æ»¡æ","æå"],animate:false,onReset:null,onClear:null,onRefresh:null,onChange:null,locale:o.extend({},{caption:"{rating}å",clearButtonTitle:"æ¸ç",clearCaption:"æªè¯å"},((s.locale||{}).plugin||{}).rate||{})},o.fn.busyAdminRate=e,o.fn.busyAdminRate.Constructor=l,s.plugins.Rate=l;var t="rate";return o.extend(s.e,{rateChange:s.ee("change",t),rateClear:s.ee("clear",t),rateReset:s.ee("reset",t),rateRefresh:s.ee("refresh",t)}),s.autoInit('[data-toggle="busy-rate"],[busy-rate]',function(){e.call(this)}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/request",[e.sys.core,e.sys.jquery],function(r,o){"use strict";function s(e){return Array.prototype.slice.call(e)}var l=function(e,t){var i=this;i.element=e;i.$element=o(e);i._parseOptions(t)};function t(i){var n;var a="busy.admin.request.api";var r=s(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r);else t.init(typeof i==="object"&&i)});if(typeof i==="string")return n;return this}l.prototype={init:function(e){var t=this;t._parseOptions(e);var i=function(){var e=t.options.confirm;if(e){if(typeof e==="function")e=e.call(t);r.dialog.confirm(e,{btn:[t.options.confirmOk||t.options.locale.confirm,t.options.confirmCancel||t.options.locale.cancel]},function(){t._exec()})}else t._exec()};if(t.options.clickHandler){if(t.isInit)return;t.isInit=true;t.$element.off("click.busyAdmin").on("click.busyAdmin",function(e){i.call(t);return false})}else i.call(t)},_parseOptions:function(e){var t=this;t.options=o.extend(true,{},l.DEFAULTS,t.options||{},t.$element.data()||{},e||{});if(!t.options.url||t.options.url===true){var i=t.$element.attr("href");if(i)t.options.url=i}if(t.options.url===true)t.options.url=document.URL;if(!t.options.method)t.options.method=l.DEFAULTS.method},_exec:function(){var n=this;var a=n.options;if(!r.helper.checkURL(n.options.url)){console.error("è¯·æ£æ¥è¯·æ±URLæ¯å¦åè§");return}if(typeof a.params==="function")a.params=a.params.call(n);r.request(a.url).headers(a.headers||{}).pending(a.pending,a.pendingMessage).params(a.params||{}).method(a.method).before(function(e,t){return false!==r.helper.execCallback(a.onBefore,n.element,s(arguments),n.$element,r.e.requestBefore,true,false)}).complete(function(e,t,i){return false!==r.helper.execCallback(a.onComplete,n.element,s(arguments),n.$element,r.e.requestComplete,true,false)}).success(function(e,t,i){if(false===r.helper.execCallback(a.onSuccess,n.element,s(arguments),n.$element,r.e.requestSuccess,true,false))return false;if(a.onSuccess===false)return false;r.dialog.toastSuccess(e.message);r.dispatchSugar(n.element,a.onSuccess,e,[]);return false}).error(function(e,t,i){if(false===r.helper.execCallback(a.onError,n.element,s(arguments),n.$element,r.e.requestError,true,false))return false;if(a.onError===false)return false;r.dialog.toastError(e.message);r.dispatchSugar(n.element,a.onError,e,[]);return false}).exec()}},l.DEFAULTS={clickHandler:false,url:undefined,params:{},headers:{},confirm:undefined,confirmOk:null,confirmCancel:null,method:"get",pending:true,pendingMessage:undefined,onSuccess:o.noop,onError:o.noop,onComplete:o.noop,onBefore:o.noop,locale:o.extend({},{confirm:"ç¡®å®",cancel:"åæ¶"},((r.locale||{}).plugin||{}).request||{})},o.fn.busyAdminRequest=t,o.fn.busyAdminRequest.Constructor=l,r.plugins.Request=l;var e="request";return o.extend(r.e,{requestBefore:r.ee("before",e),requestComplete:r.ee("complete",e),requestSuccess:r.ee("success",e),requestError:r.ee("error",e)}),o(document).on("click.busyAdmin",'[data-toggle="busy-request"],[busy-request]',function(e){return e.preventDefault(),t.call(o(this)),!1}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/searchBar",[e.sys.core,e.sys.jquery],function(o,s){"use strict";function l(e,t){return e.find('[data-search-id="'+t+'"]')}var c=function(e,t){var i=this;i.$element=s(e);i.options=s.extend(true,{},c.DEFAULTS,i.$element.data()||{},t||{});if(i.options.fields&&typeof i.options.fields==="string"){var n=i.options.fields.split(",");var a=[];n.map(function(e){var t=e.split(":");var i=(t[0]||"").trim();var n=(t[1]||"").trim();a.push({name:n,value:i})});i.options.fields=a}if(!i.options.contentLeft)i.contentLeftHtml=l(i.$element,"left").html();else i.contentLeftHtml=s(i.options.contentLeft).html();if(!i.options.contentRight)i.contentRightHtml=l(i.$element,"right").html();else i.contentRightHtml=s(i.options.contentRight).html();if(!i.options.toolbar)i.toolbarHtml=l(i.$element,"toolbar").html();else i.toolbarHtml=s(i.options.toolbar).html();i.options.url=i.options.url||document.URL;i.init()};function e(i){var n;var a="busy.admin.searchBar.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new c(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return c.prototype={init:function(){var e,i,n,t,a,r=this;r.isInit||(r.isInit=!0,e=r.options,t=(t=(t=(t=c.TEMPLATE.replace("_toolbar_",r.toolbarHtml||"")).replace("_content_left_",r.contentLeftHtml||"")).replace("_content_right_",r.contentRightHtml||"")).replace("_title_","<span>"+(r.options.title||r.options.locale.title)+"</span>"),r.$template=s(t),r.$form=l(r.$template,"form").attr("action",e.url),r.$fieldSelect=l(r.$template,"field"),r.$accurateInput=l(r.$template,"accurate").prop("checked",e.accurate).attr("title",e.locale.accurate).attr("name",e.accurateName).addClass(e.accurateClass),r.$wordInput=l(r.$template,"word").attr("name",r.options.wordName).attr("placeholder",r.options.placeholder||e.locale.placeholder),r.$keywords=l(r.$template,"keywords"),r.$btnShowAll=l(r.$template,"all").html(e.locale.showAll).addClass(e.showAllBtnClass).attr("href",e.url),r.$btnSubmit=l(r.$template,"submit").addClass(e.searchBtnClass),r.$btnSubmit.find("span").html(e.locale.search),r.$accurateWrap=r.$accurateInput.closest(".checkbox"),i=[r.options.accurateName,r.options.fieldName,r.options.wordName],r.$template.find("[name]").each(function(){var e=s(this),t=e.attr("name");return!t||(-1!==i.indexOf(t)||-1!==t.indexOf("static[")||void e.attr("name","static["+t+"]"))}),n="",(e.fields||[]).map(function(e){var t=e.name||"",e=e.value||"";n+='<option value="'+e+'">'+t+"</option>"}),n?(r.$keywords.addClass("has-field"),a="",e.fieldUnlimited&&(a+='<option value="_unlimited_">'+(!0===e.fieldUnlimited?e.locale.unlimited:e.fieldUnlimited)+"</option>"),a+=n,r.$fieldSelect.html(a)):(r.$fieldSelect.remove(),r.$keywords.addClass("no-field")),e.accurateShow||r.$accurateWrap.remove(),t=o.helper.parseURL(document.URL).params||{},r.$form.busyAdminFormVal(s.extend({},o.helper.parseURL(e.url).params||{},t)),(a=t.hasOwnProperty(e.searchMark))||r.$form.append('<input type="hidden" name="'+e.searchMark+'" value="1"/>'),a&&!t.hasOwnProperty(e.locale.accurateName)&&!0===e.accurate&&r.$accurateInput.prop("checked",!1),r.$element.html(r.$template),o.app.triggerResize(),o.helper.triggerPluginReady(r.$element,"SearchBar",r))}},c.TEMPLATE='<div class="busy-admin-search clearfix">        <div class="busy-admin-search-left fa fa-search">_title_</div>        <div class="busy-admin-search-right clearfix">_toolbar_</div>\t\t<div class="busy-admin-search-form">\t\t    <form data-search-id="form" method="get" class="form-inline">\t\t        _content_left_\t\t        <div class="form-group" data-search-id="keywords">\t\t            <div class="input-group">\t\t                <div class="input-group-btn"><select data-search-id="field" class="form-control" name="field"></select></div>\t\t                <input data-search-id="word" class="form-control" name="word" />\t\t            </div>\t\t        </div>\t\t        <div class="checkbox"><input class="pill" data-search-id="accurate" type="checkbox" data-toggle="busy-checkbox" value="1" /></div>\t\t        _content_right_\t\t        <div class="form-group">\t\t            <button data-search-id="submit" class="btn" type="submit"><i class="fa fa-search"></i> <span></span></button>\t\t            <a type="reset" data-search-id="all" class="btn"></a>\t\t        </div>\t\t    </form>\t\t</div>    </div>',c.DEFAULTS={url:"",fields:[],fieldUnlimited:!1,fieldName:"field",wordName:"word",placeholder:"",title:"",accurate:!1,accurateShow:!1,accurateClass:"",accurateName:"accurate",toolbar:"",contentLeft:"",contentRight:"",searchMark:"_search",searchBtnClass:"btn-info",showAllBtnClass:"btn-default",locale:s.extend({search:"æç´¢",showAll:"æ¾ç¤ºå¨é¨",placeholder:"è¯·è¾å¥å³é®å­",accurate:"ç²¾ç¡®æç´¢",unlimited:"ä¸é",title:"ææ¡ä»¶æç´¢"},((o.locale||{}).plugin||{}).searchBar||{})},s.fn.busyAdminSearchBar=e,s.fn.busyAdminSearchBar.Constructor=c,o.plugins.SearchBar=c,o.autoInit('[data-toggle="busy-search-bar"],[busy-search-bar]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/selectPicker",[e.sys.core,e.sys.jquery],function(o,s){var r=false,l=null,c=function(e,t){var i=this;i.element=e;i.$element=s(e);i.options=s.extend(true,{},c.DEFAULTS,i.$element.data(),t||{});if(i.$element.attr("multiple"))i.options.multiple=true;i.ready(i.init)};function e(i){var n;var a="busy.admin.select.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new c(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return c.prototype={ready:function(n){var a=this;a.options.type,r&&l?"function"==typeof n&&n.call(a):require([o.lib.select2,o.lib.artTemplate],function(e,t){var i;r||(r=!0,i=o.helper.extends(e.prototype,{render:function(){var e=o.helper.override(i,"render",this,arguments);return e.addClass("busy-admin-select2"),e}})),l=t,s.fn.select2.defaults.set("theme","bootstrap"),"function"==typeof n&&n.call(a)})},init:function(){var e,t=this,i=t.options;t.isInit||(t.isInit=!0,i.width&&(e=i.width,"number"==typeof i.width&&(e=i.width+"px"),t.$element.css("width",e)),s(document).one(o.e.appRenderBefore,function(){t.destroy()}),i.type,t._initSelect2())},_initSelect2:function(){var r=this,t=r.options;r.url=(!0===t.url||t.model?document.URL:t.url)||document.URL,r.isAjax=t.url||t.model,r.select2Options={},s.extend(!0,r.select2Options,t.select2Options||{},{minimumResultsForSearch:t.search?0:-1,placeholder:t.placeholder,allowClear:t.clear,multiple:t.multiple,width:"style",containerCssClass:":all:",data:t.list,minimumInputLength:t.searchMin,maximumSelectionLength:t.max,tags:t.select2Tags,tokenSeparators:t.select2TagsSpace,language:{errorLoading:function(){return t.locale.errorLoading},inputTooLong:function(e){e=e.input.length-e.maximum;return o.helper.sprintf(t.locale.inputTooLong,e)},inputTooShort:function(e){e=e.minimum-e.input.length;return o.helper.sprintf(t.locale.inputTooShort,e)},loadingMore:function(){return t.locale.loadingMore},maximumSelected:function(e){return o.helper.sprintf(t.locale.maximumSelected,e.maximum)},noResults:function(){return t.locale.noResults},searching:function(){return t.locale.searching}},ajax:r.isAjax?{delay:0===t.length?0:t.delay,url:r.url,transport:function(e,n,a){if(0!==t.length||!r.remoteData)return o.request(e.url).method("get").addHeader("Busy-Admin-Plugin","SelectPicker").params(r._parseParams({action:"list",word:e.data.q,page:e.data.page,model:t.model,id_field:t.idField,text_field:t.textField,length:t.length,order:t.order,extend:t.modelExtend?1:0})).pending(!1).success(function(e,t,i){return r.remoteData=e.result,n(e.result),!1}).error(function(e,t,i){return a(),!1}).exec();n(r.remoteData)}}:null});var n=t.selectedTemplate;n&&("function"==typeof n?r.select2Options.templateSelection=n:"string"==typeof n&&("@"===n.charAt(0)?(i="#"+n.substring(1),r.select2Options.templateSelection=function(e,t){return s(l.render(s(i)[0].innerHTML,{data:e,container:t}))}):r.select2Options.templateSelection=function(e,t){var i=o.helper.scope(n);if("function"==typeof i)return i(e,t)}));var i,e,a=t.optionTemplate;a&&("function"==typeof a?r.select2Options.templateResult=a:"string"==typeof a&&("@"===a.charAt(0)?(i="#"+a.substring(1),r.select2Options.templateResult=function(e,t){return s(l.render(s(i)[0].innerHTML,{data:e,container:t}))}):r.select2Options.templateResult=function(e,t){var i=o.helper.scope(a);if("function"==typeof i)return i(e,t)})),r.select2Api=r.$element.select2(r.select2Options).data("select2"),r.isAjax&&0===t.length&&(e=r.select2Api.dataAdapter.query,r.select2Api.dataAdapter.query=function(i,n){e.call(this,i,function(e){var t=[];return s.each(e.results,function(){var e=r.select2Api.options.options.matcher(i,this);e&&t.push(e)}),n({results:t,pagination:{more:!1}})})}),t.multiple&&r.$element.on("select2:opening select2:closing",function(e){s(this).parent().find(".select2-search__field").prop("disabled",!t.search)}),t.value&&r.value(t.value),r.$element.on("select2:closing select2:close select2:opening select2:open select2:selecting select2:select select2:unselecting select2:unselect select2:clearing select2:clear",function(e){var t=e.type.substring(8);"ing"===t.substring(t.length-3)&&(t="before-"+(t="clos"===(t=t.replace("ing",""))?"close":t));e=o.helper.camel(("on_"+t).replace(/\-/g,"_"));o.helper.execCallback(r.options[e],r.element,[r],r.$element,o.ee(t,"select-picker"))}),r.$element.on(o.e.verifyErrorPlacement,function(e,t){return r.select2Api.$container.after(t),!1}),o.helper.triggerPluginReady(r.$element,"SelectPicker",r)},_parseParams:function(e){var t=this.options;return"object"==typeof t.params?e=s.extend({},t.params,e):!t.params||"function"==typeof(t=o.helper.scope(t.params))&&(e=s.extend({},t()||{},e)),e},open:function(e){e?this.select2Api.open():this.select2Api.close()},value:function(n){var a=this,r=a.options;a.isAjax?(a.$element.empty(),n?o.request(a.url).method("get").addHeader("Busy-Admin-Plugin","SelectPicker").params(a._parseParams({action:"value",word:n,model:r.model,id_field:r.idField,text_field:r.textField,length:r.length,order:r.order,extend:r.modelExtend?1:0})).pending(!1).success(function(e,t,i){e=e.result.results||[];return 0===e.length||(r.multiple?s.map(e,function(e){a.$element.append(new Option(e.text||"",e.id||"",!0,!0))}):(a.$element.append(new Option(e[0].text||"",e[0].id||"",!0,!0)),a.$element.trigger({type:"select2:select",params:e[0]})),a.$element.val(n).trigger("change")),!1}).error(function(e,t,i){return a.$element.val(n).trigger("change"),!1}).exec():a.$element.val(n).trigger("change")):this.$element.val(n).trigger("change")},append:function(e){this.$element.append(e).trigger("change")},list:function(e){var t="",i=this;s.map(e||[],function(e){e.hasOwnProperty("children")?(t+='<optgroup label="'+e.text+'" '+i._toAttr(e)+">",s.map(e.children||[],function(e){t+='<option value="'+e.id+'"'+i._toAttr(e)+">"+e.text+"</option>"}),t+="</optgroup>"):t+='<option value="'+e.id+'"'+i._toAttr(e)+">"+e.text+"</option>"}),this.$element.html(t).trigger("change")},_toAttr:function(e){var t,i,n="";for(t in e)"text"!==t&&"id"!==t&&"children"!==t&&(i=e[t],"disabled"!==t&&"selected"!==t&&"readonly"!==t||(i=t),n+=t+'="'+i+'" ');return n},destroy:function(){if(this.remoteData=null,this.select2Api)try{this.select2Api.destroy()}catch(e){console.warn(e)}}},c.DEFAULTS={type:"",placeholder:"",search:!0,searchMin:0,multiple:!1,clear:!1,list:null,max:0,value:null,width:null,url:!1,idField:"id",textField:"name",order:"id DESC",length:20,delay:250,params:null,model:"",modelExtend:!1,selectedTemplate:null,optionTemplate:null,select2Tags:!1,select2TagsSpace:null,select2Options:{},locale:s.extend({errorLoading:"æ°æ®å è½½å¤±è´¥",inputTooLong:"è¯·å é¤%sä¸ªå­ç¬¦",inputTooShort:"è³å°è¾å¥%sä¸ªå­ç¬¦ææ´å¤å­ç¬¦",loadingMore:"å è½½ä¸­...",maximumSelected:"æå¤è½éæ©%sä¸ª",noResults:"æªæ¾å°ä»»ä½ç»æ",searching:"æç´¢ä¸­..."},((o.locale||{}).plugin||{}).select||{})},s.fn.busyAdminSelectPicker=e,s.fn.busyAdminSelectPicker.Constructor=c,o.plugins.SelectPicker=c,s.extend(o.e,{selectPickerChange:"change",selectPickerBeforeClose:o.ee("before-close","select-picker"),selectPickerClose:o.ee("close","select-picker"),selectPickerBeforeOpen:o.ee("before-open","select-picker"),selectPickerOpen:o.ee("open","select-picker"),selectPickerBeforeSelect:o.ee("before-select","select-picker"),selectPickerSelect:o.ee("select","select-picker"),selectPickerBeforeUnselect:o.ee("before-unselect","select-picker"),selectPickerUnselect:o.ee("unselect","select-picker"),selectPickerBeforeClear:o.ee("before-clear","select-picker"),selectPickerClear:o.ee("clear","select-picker")}),o.autoInit('[data-toggle="busy-select-picker"],[busy-select-picker]',function(){e.call(s(this))}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/shuttle",[e.sys.core,e.sys.jquery],function(a,o){var r=function(i,e,t){this.api=i;this.$element=e;this.$header=e.find(".panel-heading");this.$title=this.$header.find("span");this.index=s.INDEX++;this.childClass="__busy_admin_shuttle_child_"+this.index;this.parentClass="__busy_admin_shuttle_parent_"+this.index;this.$checkAll=this.$header.find("input").attr("data-toggle","busy-checked-all").attr("data-child","."+this.childClass).addClass(this.parentClass);this.$searchBar=e.find(".panel-search");this.$searchInput=this.$searchBar.find("input");this.$body=e.find(".panel-body");this.$empty=this.$body.find(".empty-info").html(i.options.locale.noData);this.checkTimer=null;this.emptyTimer=null;this.list=[];this.isLeft=t;if(t){this.$title.html(i.options.leftTitle);this.$moveBtn=i.$btnRight;this.$moveBtn.find("span").html(i.options.locale.moveDown)}else{this.$title.html(i.options.rightTitle);this.$moveBtn=i.$btnLeft;this.$moveBtn.find("span").html(i.options.locale.moveUp)}this.$element.css("height",i.options.height+"px");var n=this;var a=n.$header.outerHeight(true);if(!i.options.search)n.$searchBar.hide();else a+=n.$searchBar.outerHeight(true);n.$body.css("height",i.options.height-a+"px").on("change",":checkbox",function(){clearTimeout(n.checkTimer);n.checkTimer=setTimeout(function(){if(n.$body.find(":checked").length>0)n.$moveBtn.removeClass("btn-default").addClass("btn-primary").prop("disabled",false);else n.$moveBtn.removeClass("btn-primary").addClass("btn-default").prop("disabled",true)})});n.$searchInput.attr("placeholder",i.options.placeholder).on("input",function(){var t=(o(this).val()||"").trim();if(t===""){o.map(n.list,function(e){e.$item.removeClass("hide")});n.$empty.html(i.options.locale.noData);n.empty();return}o.map(n.list,function(e){if(-1!==e.text.indexOf(t))e.$item.removeClass("hide");else e.$item.addClass("hide");n.$empty.html(i.options.locale.noMatchData);n.empty()})})};r.prototype={append:function(e){if(!e.$item){e.$item=o('<div class="checkbox'+(e.disabled?" disabled":"")+'"><label><input type="checkbox" value="'+e.id+'"'+(e.disabled?" disabled":"")+" /><span>"+e.text+"</span></label></div>");e.$checkbox=e.$item.find("input").attr("data-toggle","busy-checked-all")}e.$checkbox.off("change").on("change",function(){e.selected=o(this).prop("checked")});e.$checkbox.prop("checked",false).attr("data-parent","."+this.parentClass).attr("class",this.childClass);this.list.push(e);this.$body.append(e.$item);this.empty()},moveTo:function(i){var e=this;if(i==e)return;var n=[];e.list=o.map(e.list,function(e,t){if(e.selected&&!e.disabled){e.selected=false;e.$item.remove();i.append(e);n.push({id:e.id,text:e.text,disabled:e.disabled});return null}return e});a.helper.execCallback(e.api.options.onChange,e.api.element,[e.api,n,e.isLeft],e.api.$element,a.e.shuttleChange);e.$checkAll.prop("checked",false);e.$checkAll[0].indeterminate=false;e.$moveBtn.prop("disabled",true).removeClass("btn-primary").addClass("btn-default");e.empty()},empty:function(){var e=this;clearTimeout(e.emptyTimer);e.emptyTimer=setTimeout(function(){if(e.$body.find(".checkbox:not(.hide)").length>0)e.$empty.hide();else e.$empty.show()})}};var s=function(e,t){var i=this;i.element=e;i.$element=o(e);i.options=o.extend(true,{},s.DEFAULTS,i.$element.data(),t||{});i.options.list=i.options.list||[];i.init()};function e(i){var n="busy.admin.shuttle.api";var a=Array.prototype.slice.call(arguments);a.shift();var r;this.each(function(){var e=o(this);var t=e.data(n);if(!t)e.data(n,t=new s(this,typeof i==="object"&&i));if(typeof i==="string")r=t[i].apply(t,a)});if(typeof i==="string")return r;return this}return s.prototype={init:function(){var e,t,i=this,n=i.options;i.isInit||(i.isInit=!0,i.$template=o(s.TEMPLATE),i.isSelect="select"===i.element.tagName.toLowerCase(),i.isSelect?(i.$select=i.$element.addClass("hide"),i.$select.after(i.$template),n.name=i.$select.attr("name"),e=[],i.$select.find("option").each(function(){e.push({id:this.value||"",text:o(this).text()||"",selected:this.hasAttribute("selected"),disabled:this.hasAttribute("disabled")})}),n.list.unshift.apply(n.list,e)):(i.$select=o("<select />").addClass("hide"),i.$template.append(i.$select),i.$element.html(i.$template)),i.$select.attr("name",n.name).attr("multiple","multiple"),i.$btnLeft=i.$template.find(".btn-left"),i.$btnRight=i.$template.find(".btn-right"),i.leftPanel=new r(i,i.$template.find(".panel-left"),!0),i.rightPanel=new r(i,i.$template.find(".panel-right"),!1),i.$btnLeft.on("click",function(){i.$btnLeft.prop("disabled")||(i.rightPanel.moveTo(i.leftPanel),i._setVal())}),i.$btnRight.on("click",function(){i.$btnRight.prop("disabled")||(i.leftPanel.moveTo(i.rightPanel),i._setVal())}),t="",o.map(n.list||[],function(e){e.id=e.id||"",e.text=e.text||"",e.disabled=e.disabled||!1,e.selected=e.selected||!1,(e.selected?i.rightPanel:i.leftPanel).append(e),t+='<option value="'+e.id+'"'+(e.selected?" selected":"")+(e.disabled?" disabled":"")+">"+e.text+"</option>"}),i.$select.html(t),i.$element.on(a.e.verifyErrorPlacement,function(e,t){return i.$template.after(t),!1}),a.helper.triggerPluginReady(i.$element,"Shuttle",i))},_setVal:function(){var t=this;o.map(t.leftPanel.list,function(e){t.$select.find('[value="'+e.id+'"]').prop("selected",!1)}),o.map(t.rightPanel.list,function(e){t.$select.find('[value="'+e.id+'"]').prop("selected",!0)}),t.$select.trigger("change")},getData:function(){return o.map(this.rightPanel.list,function(e){return{id:e.id,text:e.text,disabled:e.disabled}})},destroy:function(){this.isInit=!1,this.$template.remove(),this.isSelect&&this.$select.removeClass("hide")}},s.INDEX=0,s.TEMPLATE='<div class="busy-admin-shuttle row">    <div class="col-sm-5">        <div class="panel panel-default panel-left">            <div class="panel-heading">                <div class="checkbox">                    <label>                        <input type="checkbox"/>                        <span></span>                    </label>                </div>            </div>            <div class="panel-search"><div class="input-group input-group-sm"><div class="input-group-addon"><i class="fa fa-search"></i></div><input type="text" class="form-control"/></div></div>            <div class="panel-body"><div class="empty-info"></div></div>        </div>    </div>    <div class="col-sm-2">        <div class="toolbar">            <button type="button" disabled class="btn btn-default btn-block btn-right"><i class="fa fa-angle-double-right hidden-xs"></i><i class="fa fa-angle-double-down visible-xs-inline"></i> <span class="visible-xs-inline"></span></button>            <button type="button" disabled class="btn btn-default btn-block btn-left"><i class="fa fa-angle-double-left hidden-xs"></i><i class="fa fa-angle-double-up visible-xs-inline"></i> <span class="visible-xs-inline"></span></button>        </div>    </div>    <div class="col-sm-5">        <div class="panel panel-default panel-right">            <div class="panel-heading">                <div class="checkbox">                    <label>                        <input type="checkbox"/>                        <span></span>                    </label>                </div>            </div>            <div class="panel-search"><div class="input-group input-group-sm"><div class="input-group-addon"><i class="fa fa-search"></i></div><input type="text" class="form-control"/></div></div>            <div class="panel-body"><div class="empty-info"></div></div>        </div>    </div></div>',s.DEFAULTS={leftTitle:"åè¡¨1",rightTitle:"åè¡¨2",placeholder:"å³é®è¯æç´¢",search:!1,height:320,locale:o.extend({noData:"æ æ°æ®",noMatchData:"æ å¹éæ°æ®",moveUp:"ä¸ç§»",moveDown:"ä¸ç§»"},((a.locale||{}).plugin||{}).table||{})},s.Panel=r,o.fn.busyAdminShuttle=e,o.fn.busyAdminShuttle.Constructor=s,a.plugins.Shuttle=s,o.extend(a.e,{shuttleChange:a.ee("change","shuttle")}),a.autoInit('[data-toggle="busy-shuttle"],[busy-shuttle]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/table",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(c,d){var u,e=false,n="table",r="busy.admin.table.api";function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e){if(Array.isArray(e))return e}function s(e,t){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var i=[];var n=true;var a=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){i.push(s.value);if(t&&i.length===t)break}}catch(e){a=true;r=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw r}}return i}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){return o(e)||s(e,t)||i(e,t)||l()}function y(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")y=function(e){return typeof e};else y=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return y(e)}function p(e){var t="";if(e.stateKey)t=e.stateKey;else if(e.state)t=e.state===true?document.URL:e.state;return t}function h(e,t){if(t===true)if(c.app.isInContent(e))return c.app.isMobileSize()?0:c.app.getContentFrame().height;else return 0;else if(typeof t==="string"&&t)return d(t).height();else if(t instanceof d)return t.height()}function f(e){var t=e.$selectItem.filter(":enabled").length;var i=e.$selectItem.filter(":enabled").filter(":checked").length;var n=t===i;var a=e.$container.find('[name="btSelectAll"]');if(n)a.each(function(){this.indeterminate=false;d(this).prop("checked",true)});else if(i)a.each(function(){this.indeterminate=true});else a.each(function(){this.indeterminate=false;d(this).prop("checked",false)})}function t(e){d.fn.dropdown.Constructor.VERSION="3.3.7",0;var L=d.fn.bootstrapTable.utils,l=c.helper.extends(L,{calculateObjectValue:function(e,t,i,n){if(t&&"string"==typeof t&&"@"===t.charAt(0)){var a=i[3],r=i[2],o=i[1],s=(s=t.substring(1,t.length))||"#"+a;return e.__template=e.__template||d(s)[0].innerHTML,u.render(e.__template,{column:e,row:r,item:o,value:i[0]})}return c.helper.override(l,"calculateObjectValue",this,arguments)}});d.extend(d.BootstrapTable.EVENTS,{"before-refresh.bs.table":"onBeforeRefresh","data-init.bs.table":"onDataInit"});var r=c.helper.extends(d.BootstrapTable.prototype,{initConstants:function(){var i=this;c.helper.override(r,"initConstants",i,arguments),i.$el.find("thead tr > *").each(function(){var e=d(this),t=e.attr("width");t&&e.attr("data-width",t),i.options.url&&void 0===e.attr("data-searchable")&&e.attr("data-searchable","false")})},initContainer:function(){var e=this;c.helper.override(r,"initContainer",e,arguments),e.$container.addClass("busy-admin-bs-table");var t=e.$el.find("thead").attr("class")||"";t&&e.$container.addClass(t),e.$el.hasClass("table-dark")&&e.$container.addClass("table-theme-dark"),e.$container.on("animationend webkitAnimationEnd oAnimationEnd",function(){e.resetView()})},initTable:function(){c.helper.override(r,"initTable",this,arguments),this.trigger("data-init",this)},initPagination:function(){var e;c.helper.override(r,"initPagination",this,arguments),"html"!==this.options.type||(e=c.app.getContentFrame().target.find(".busy-admin-pagination")).length&&(this.$pagination.html(e),this.$pagination.show())},initBody:function(){var e,i,n,a=this;c.helper.override(r,"initBody",a,arguments),a.options.treeShowField&&a.options.parentIdField&&(e=a.columns,i=null,n=-1,e.some(function(e,t){if(e.visible&&n++,e.field===a.options.treeShowField&&e.visible)return i=e,!0}),i&&a.$el.treegrid({treeColumn:n,saveState:a.options.treeState,saveStateMethod:"local",saveStateName:p(a.options),expanderExpandedClass:"fa",expanderCollapsedClass:"fa",onChange:function(){a.resetView()}}))},resetView:function(e){var t=this;(e=e||{}).hasOwnProperty("height")||(e.height=h(t.$el,t.options._height));var i,n=0;e&&e.height&&(t.options.height=e.height),t.$selectAll.prop("checked",0<t.$selectItem.length&&t.$selectItem.length===t.$selectItem.filter(":checked").length),t.$tableContainer.toggleClass("has-card-view",this.options.cardView),!t.options.cardView&&t.options.showHeader&&t.options.height?(t.$tableHeader.show(),t.resetHeader(),n+=t.$header.outerHeight(!0)+1):(t.$tableHeader.hide(),t.trigger("post-header")),!t.options.cardView&&t.options.showFooter&&(t.$tableFooter.show(),t.fitFooter(),t.options.height&&(n+=t.$tableFooter.outerHeight(!0))),t.$tableBorder&&t.$tableBorder.hide(),t.$container.hasClass("fullscreen")&&(t.$tableContainer.css("height",""),t.$tableContainer.css("width","")),t.options.height&&(i=t.options.height,t.$container.hasClass("fullscreen")&&(i=t.$container.height()),e=i-(t.$toolbar.is(":visible")?t.$toolbar.outerHeight(!0):0)-(t.options.pagination?t.$pagination.outerHeight(!0):0),i=t.$tableBody.find(">table").outerHeight(),t.$tableContainer.css("height",e+"px").addClass("fixed-height"),i<t.$tableBody.outerHeight()-2?t.$tableContainer.addClass("less-content"):t.$tableContainer.removeClass("less-content")),t.options.cardView?(t.$el.css("margin-top","0"),t.$tableContainer.css("padding-bottom","0"),t.$tableFooter.hide()):(t.getCaret(),t.$tableContainer.css("padding-bottom","".concat(n,"px"))),f(this),t.options.stickyHeader&&(t.$container.hasClass("fullscreen")?(i=c.helper.int((t.$container.css("padding-left")||"").replace("px","")),n=c.helper.int((t.$container.css("padding-right")||"").replace("px",""))+c.helper.getScrollbarWidth(),t.options.stickyHeaderOffsetY=-1,t.options.stickyHeaderOffsetLeft=i,t.options.stickyHeaderOffsetRight=n):(t.options.stickyHeaderOffsetY=t.options.noFullStickyHeaderOffsetY,t.options.stickyHeaderOffsetLeft=t.options.noFullStickyHeaderOffsetLeft,t.options.stickyHeaderOffsetRight=t.options.noFullStickyHeaderOffsetRight)),t.trigger("reset-view")},toggleCheckAll:function(){c.helper.override(r,"toggleCheckAll",this,arguments),f(this)},_toggleCheck:function(){c.helper.override(r,"_toggleCheck",this,arguments),f(this)},initRow:function(A,E,e,t){var P=this,I=[],i={},O=[],n="",a={},r=[];if(!(-1<L.findIndex(this.hiddenRows,A))){if((i=L.calculateObjectValue(this.options,this.options.rowStyle,[A,E],i))&&i.css)for(var o=0,s=Object.entries(i.css);o<s.length;o++){var l=R(s[o],2),c=l[0],l=l[1];O.push("".concat(c,": ").concat(l))}if(a=L.calculateObjectValue(this.options,this.options.rowAttributes,[A,E],a))for(var d=0,u=Object.entries(a);d<u.length;d++){var p=R(u[d],2),h=p[0],p=p[1];r.push("".concat(h,'="').concat(L.escapeHTML(p),'"'))}if(A._data&&!L.isEmptyObject(A._data))for(var f=0,m=Object.entries(A._data);f<m.length;f++){var g=R(m[f],2),v=g[0],g=g[1];if("index"===v)return;n+=" data-".concat(v,"='").concat("object"===y(g)?JSON.stringify(g):g,"'")}I.push("<tr",L.sprintf(" %s",r.length?r.join(" "):void 0),L.sprintf(' id="%s"',Array.isArray(A)?void 0:A._id),L.sprintf(' class="%s"',i.classes||(Array.isArray(A)?void 0:A._class)),L.sprintf(' style="%s"',Array.isArray(A)?void 0:A._style),' data-index="'.concat(E,'"'),L.sprintf(' data-uniqueid="%s"',L.getItemField(A,this.options.uniqueId,!1)),L.sprintf(' data-has-detail-view="%s"',this.options.detailView&&L.calculateObjectValue(null,this.options.detailFilter,[E,A])?"true":void 0),L.sprintf("%s",n),">"),this.options.cardView&&I.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));i="";return L.hasDetailViewIcon(this.options)&&(i="<td>",L.calculateObjectValue(null,this.options.detailFilter,[E,A])&&(i+='\n          <a class="detail-icon" href="#">\n          '.concat(L.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),i+="</td>"),i&&"right"!==this.options.detailViewAlign&&I.push(i),this.header.fields.forEach(function(e,t){var i="",n=L.getItemField(A,e,P.options.escape),a="",r="",o={},s="",l=P.header.classes[t],c="",d="",u="",p="",h="",f="",m=P.columns[t];if((!P.fromHtml&&!P.autoMergeCells||void 0!==n||m.checkbox||m.radio)&&m.visible&&(!P.options.cardView||m.cardVisible)){if(m.escape&&(n=L.escapeHTML(n)),O.concat([P.header.styles[t]]).length&&(d+="".concat(O.concat([P.header.styles[t]]).join("; "))),A["_".concat(e,"_style")]&&(d+="".concat(A["_".concat(e,"_style")])),d&&(c=' style="'.concat(d,'"')),A["_".concat(e,"_id")]&&(s=L.sprintf(' id="%s"',A["_".concat(e,"_id")])),A["_".concat(e,"_class")]&&(l=L.sprintf(' class="%s"',A["_".concat(e,"_class")])),A["_".concat(e,"_rowspan")]&&(p=L.sprintf(' rowspan="%s"',A["_".concat(e,"_rowspan")])),A["_".concat(e,"_colspan")]&&(h=L.sprintf(' colspan="%s"',A["_".concat(e,"_colspan")])),A["_".concat(e,"_title")]&&(f=L.sprintf(' title="%s"',A["_".concat(e,"_title")])),(o=L.calculateObjectValue(P.header,P.header.cellStyles[t],[n,A,E,e],o)).classes&&(l=' class="'.concat(o.classes,'"')),o.css){for(var g=[],v=0,y=Object.entries(o.css);v<y.length;v++){var b=R(y[v],2),w=b[0],b=b[1];g.push("".concat(w,": ").concat(b))}c=' style="'.concat(g.concat(P.header.styles[t]).join("; "),'"')}var k,x,$,C,a=L.calculateObjectValue(m,P.header.formatters[t],[n,A,E,e],n);if(m.checkbox||m.radio||(a=null==a||""===a?P.options.undefinedText:a),m.searchable&&P.searchText&&P.options.searchHighlight&&(C="",k=new RegExp("(".concat(P.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),$="<mark>$1</mark>",C=a&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(a)?(d=(x=(new DOMParser).parseFromString(a.toString(),"text/html").documentElement.textContent).replace(k,$),a.replace(new RegExp("(>\\s*)(".concat(x,")(\\s*)"),"gm"),"$1".concat(d,"$3"))):a.toString().replace(k,$),a=L.calculateObjectValue(m,m.searchHighlightFormatter,[a,P.searchText],C)),A["_".concat(e,"_data")]&&!L.isEmptyObject(A["_".concat(e,"_data")]))for(var S=0,T=Object.entries(A["_".concat(e,"_data")]);S<T.length;S++){var _=R(T[S],2),D=_[0],_=_[1];if("index"===D)return;u+=" data-".concat(D,'="').concat(_,'"')}m.checkbox||m.radio?(r=m.checkbox?"checkbox":r,r=m.radio?"radio":r,$=m.class||"",C=L.isObject(a)&&a.hasOwnProperty("checked")?a.checked:(!0===a||n)&&!1!==a,m=!m.checkboxEnabled||a&&a.disabled,i=[P.options.cardView?'<div class="card-view '.concat($,'">'):'<td class="bs-checkbox '.concat($,'"').concat(l).concat(c,">"),'<label>\n            <input\n            data-index="'.concat(E,'"\n            name="').concat(P.options.selectItemName,'"\n            type="').concat(r,'"\n            ').concat(L.sprintf('value="%s"',A[P.options.idField]),"\n            ").concat(L.sprintf('checked="%s"',C?"checked":void 0),"\n            ").concat(L.sprintf('disabled="%s"',m?"disabled":void 0)," />\n            <span></span>\n            </label>"),P.header.formatters[t]&&"string"==typeof a?a:"",P.options.cardView?"</div>":"</td>"].join(""),A[P.header.stateField]=!0===a||!!n||a&&a.checked):P.options.cardView?(n=P.options.showHeader?'<span class="card-view-title '.concat(o.classes,'"').concat(c,">").concat(L.getFieldTitle(P.columns,e),"</span>"):"",i='<div class="card-view">'.concat(n,'<span class="card-view-value ').concat(o.classes,'"').concat(c,">").concat(a,"</span></div>"),P.options.smartDisplay&&""===a&&(i='<div class="card-view"></div>')):i='<td field="'+e+'" '.concat(s).concat(l).concat(c).concat(u).concat(p).concat(h).concat(f,">").concat(a,"</td>"),I.push(i)}}),i&&"right"===this.options.detailViewAlign&&I.push(i),this.options.cardView&&I.push("</div></td>"),I.push("</tr>"),I.join("")}},refresh:function(){this.trigger("before-refresh",this),c.helper.override(r,"refresh",this,arguments)}})}var m=function(e,t){var s=this;s.element=e;s.$element=d(e);s.plugins={};s.api=null;s.stateKey="busy.admin.table.state";s.options=d.extend(true,{},m.DEFAULTS,s.$element.data()||{},t||{},{iconsPrefix:"fa",paginationLoop:false,loadingTemplate:function(){return'<i class="busy-admin-pending-icon"></i>'}});if(typeof s.options.exportTypes==="string")s.options.exportTypes=s.options.exportTypes.split(",");s.libs=["bootstrapTableStickyHeader","bootstrapTableFixedColumns"];if(s.options.resizable)s.libs.push("bootstrapTableResizable");if(s.options.reorderableRows)s.libs.push("bootstrapTableReorderRows");if(s.options.reorderableColumns)s.libs.push("bootstrapTableReorderColumns");if(s.options.treeShowField&&s.options.parentIdField)s.libs.push("bootstrapTableTree");if(s.options.showPrint)s.libs.push("bootstrapTablePrint");if(s.options.showExport)s.libs.push("bootstrapTableExport");if(s.options.model)s.options.url=s.options.url||true;if(s.options.url){s.options.url=s.options.url===true?document.URL:s.options.url;s.options.sidePagination="server";s.options.ajax=function(n){var e=this;var t=n.url;var i=n.data||{};var a=i.searchable;delete i.searchable;if(s.options.route)if(!s._routeInit)s._routeInit=true;else if(!s._noRecordRoute||s._needReplaceRoute){s._noRecordRoute=false;s._needReplaceRoute=false;var r=c.helper.parseURL(t);r.params=d.extend(true,{},r.params||{},i);var o=r.path+"?"+d.param(r.params);c.route.show(o,{popStateDispatch:false},false,true)}c.request(t).addHeader("Busy-Admin-Plugin","Table").pending(false).params(d.extend(true,{},n.data,{model:s.options.model,extend:s.options.modelExtend?1:0,searchable:a||[]})).method(n.type).error(function(e,t,i){n.error(i)}).success(function(e,t,i){n.success(e.result||{},t,i);return false}).exec()}}if(s.options.search&&typeof s.options.search==="string"){s.searchSelector=s.options.search;s.options.search=false}s.options._height=s.options.height;s.options.height=h(s.$element,s.options._height);var n=s.options.queryParams;s.options.queryParams=function(e){var t=s._searchParams||{};for(var i in t)e[i]=t[i];if(typeof n==="function")e=n.call(this,e);return e};s.ready(s.init)};function g(i){var n;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=d(this);var t=e.data(r);if(!t)e.data(r,t=new m(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,a)});if(typeof i==="string")return n;return this}return m.prototype={init:function(){var a=this;if(!a.isInit){a.isInit=!0,d(document).one(c.e.appRenderBefore,function(){a.destroy()}).off(c.e.routeNoDispatch).on(c.e.routeNoDispatch,function(){var e=a.resumeByUrl();0<e&&a.api.refresh({pageNumber:e})}),a.$element.on("pre-body.bs.table",function(e){var t,i=e.sender;(a.api=i)._$toolbarSystem||(t=i.$toolbar.find(".bs-bars"),e=i.$toolbar.find(".columns"),n=i.$toolbar.find(".search"),0<t.length||0<e.length||0<n.length?i.$toolbar.show():i.$toolbar.hide(),i._$toolbarSystem=d('<div class="fixed-table-toolbar-system"/>').append(t).append(e).append(n),i._$toolbarSearchBar=d('<div class="fixed-table-toolbar-search"/>'),i.$toolbar.prepend(i._$toolbarSearchBar),i.$toolbar.append(i._$toolbarSystem));var n=0===i.getSelections().length;i.$toolbar.find("[data-disabled]").prop("disabled",n).toggleClass("disabled",n),a._initSearch(i)}).on("column-switch.bs.table",function(e,t,i){var n;a.options.state&&((n=a._getTableState()).columns=n.columns||{},n.columns[t]=i,a._saveTableState(n))}).on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(e){var t=e.sender,e=0===t.getSelections().length;t.$toolbar.find("[data-disabled]").prop("disabled",e).toggleClass("disabled",e)}).on("post-body.bs.table",function(e){var s=e.sender;if(a.api=s,a._needResumeScroll&&(a._needResumeScroll=!1,s.scrollTo(a._scrollTop)),!a.stateInit){if(a.stateInit=!0,a.options.state){var t,i=a._getTableState().columns||{};for(t in i)i[t]||s.hideColumn(t)}s.$body.on("input change","[data-bind]",function(){var e=d(this),t=e.data(),i=e.val(),n=e.closest("tr[data-index]");!n.length||(e="string"==typeof t.bind&&t.bind?t.bind:e.closest("td[field]").attr("field"))&&(n=n.data("index"),(s.data[n]||{})[e]=i)}),s.$toolbar.on("click","[data-url]",function(){var e,n,a,r,t=d(this),o=t.data()||{};o.toggle||(a="",-1!==(n=o.field||"id").indexOf(",")&&(n=(e=n.split(","))[1].trim(),a=e[0].trim()),r=o.name||n,t.busyAdminRequest({clickHandler:!1,params:function(){if(!1===o.params)return{};var t,i=o.params||{};return n&&(t=a?{}:[],(o.checked?s.getSelections():s.getData()).map(function(e){a?i[r+"["+e[a]+"]"]=e[n]:t.push(e[n])}),a||(i[r]=t)),i},confirm:function(){return o.confirm&&o.checked?c.helper.sprintf(o.confirm,s.getSelections().length):o.confirm}}))}),c.helper.triggerPluginReady(a.$element,"Table",a)}}).on("data-init.bs.table",function(e){a.api=e.sender;e=a.resumeByUrl();0<e&&(a.api.options.pageNumber=e)}).on("before-refresh.bs.table",function(e){a.api=e.sender,a._scrollTop=a.api.getScrollPosition(),a._needResumeScroll=!0,a._noRecordRoute=!0}),a.options.onAll=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),t.unshift(t.pop()),c.helper.execCallback(null,a.element,t,a.$element,c.ee(e.replace(".bs.table","",e),n))};var e,t=a.options.locale;for(e in a.options.noDataText&&(t.noMatches=a.options.noDataText),a.options.locale="",t){var i=t[e];"showingRowsHasFilter"!==e&&(a.options["format"+e.charAt(0).toUpperCase()+e.slice(1)]=new Function('var args = Array.prototype.slice.call(arguments);if (args[3] !== undefined && args[2] !== undefined && args[3] > 0 && args[3] > args[2]) {   args.unshift("'+i+t.showingRowsHasFilter+'"); } else {   args.unshift("'+i+'"); }return busyAdmin.helper.sprintf.apply(null, args);'))}a.$element.bootstrapTable(a.options),a.api=a.$element.data("bootstrap.table")}},_getTableState:function(){return JSON.parse(localStorage.getItem(this.stateKey)||"{}")[p(this.options)]||{}},_saveTableState:function(e){var t=JSON.parse(localStorage.getItem(this.stateKey)||"{}");t[p(this.options)]=e,localStorage.setItem(this.stateKey,JSON.stringify(t))},resumeByUrl:function(){var e=this;if(!e.api||!e.options.route)return 0;var t=c.helper.parseURL(document.URL).params||{},i=1,n=c.helper.int(t.limit||e.api.options.pageSize||0),a=c.helper.int(t.offset||0);0<n&&0<a&&(i=Math.ceil(a/n)+1,e.api.options.pageSize=n);a=d.trim(t.sort||""),n=d.trim(t.order||"");return a&&n&&(e.api.options.sortName=a,e.api.options.sortOrder=n),["limit","offset","sort","order"].map(function(e){delete t[e]}),e.api._$toolbarSearchForm&&0<e.api._$toolbarSearchForm.length&&(e.api._$toolbarSearchForm[0].reset(),e.api._$toolbarSearchForm.busyAdminFormVal(t)),e._searchParams=t,i},_initSearch:function(t){var e,i=this;i.searchSelector&&((e=d(i.searchSelector)).length?(t._$toolbarSearchBar.show().append(e),t._$toolbarSearchForm=t._$toolbarSearchBar.find("form"),i.options.url&&(t._$toolbarSearchForm.attr("action",i.options.url).off("submit").on("submit",function(e){return e.preventDefault(),i._searchParams=i._getSearchFormParams(),i._needReplaceRoute=!0,t.refresh({pageNumber:1}),!1}),t._$toolbarSearchForm.find('[type="reset"]').attr("href",i.options.url).off("click").on("click",function(e){return e.preventDefault(),t._$toolbarSearchForm[0].reset(),i._searchParams={},i._needReplaceRoute=!0,t.refresh({pageNumber:1}),!1}))):t._$toolbarSearchBar.hide())},_getSearchFormParams:function(){if(!this.api||!this.api._$toolbarSearchForm||0==this.api._$toolbarSearchForm.length)return{};var t={};return this.api._$toolbarSearchForm.serializeArray().map(function(e){-1===["offset","limit","sort","order","search","searchable","filter"].indexOf(e.name)&&(t[e.name]=e.value)}),t},_loadPlugin:function(e,i){function t(){var t=[];e.map(function(e){n.plugins[e]?n._initMethod(e):t.push(e)}),0===t.length?i.call(n):require(t,function(){t.map(function(e){n.plugins[e]=!0,n._initMethod(e)}),i.call(n)})}var n=this;n.options.fixedColumns||n.options.stickyHeader?require(["bootstrapTableStickyHeader"],function(){n._initMethod("bootstrapTableStickyHeader"),require(["bootstrapTableFixedColumns"],function(){n._initMethod("bootstrapTableFixedColumns"),t()})}):t()},_initMethod:function(e){e="_init"+(e.charAt(0).toUpperCase()+e.slice(1));"function"==typeof this[e]&&this[e]()},_initBootstrapTablePrint:function(){this.isInitPrint||(this.isInitPrint=!0,this.options.icons.print="fa-print",this.options.printPageBuilder=function(e){return'<html lang="zh-CN">    <head>        <title>æå°</title>        <style type="text/css" media="print">            @page {size: auto; margin: 25px 0 25px 0;}        </style>        <style type="text/css" media="all">            table { border-collapse: collapse; font-size: 12px; }            table, th, td { border: 1px solid grey; }            th, td { text-align: center; vertical-align: middle; }            p { font-weight: bold; margin-left:20px; }            table { width:94%; margin-left:3%; margin-right:3%; }            div.bs-table-print { text-align:center; }        </style>    </head>    <body><div class="bs-table-print">'+e+"</div></body></html>"})},_initBootstrapTableExport:function(){if(!this.isInitExport){this.isInitExport=!0;var e="fa-download";if(1===this.options.exportTypes.length)switch(this.options.exportTypes[0]){case"excel":case"csv":e="fa-file-excel-o";break;case"pdf":e="fa-file-pdf-o";break;case"png":e="fa-file-image-o";break;case"powerpoint":e="fa-file-powerpoint-o";break;case"txt":e="fa-file-txt-o";break;case"word":e="fa-file-word-o";break;case"xml":case"json":e="fa-file-code-o"}this.options.icons.export=e}},_initBootstrapTableStickyHeader:function(){var e,t,i;this.isInitStickyHeader||(this.isInitStickyHeader=!0,t=(e=c.app.getContentFrame()).left+e.paddingLeft,i=e.paddingRight,this.options.stickyHeaderOffsetY||(this.options.stickyHeaderOffsetY=e.top-1),this.options.stickyHeaderOffsetLeft||(this.options.stickyHeaderOffsetLeft=t),this.options.stickyHeaderOffsetRight||(this.options.stickyHeaderOffsetRight=i),this.options.noFullStickyHeaderOffsetY=this.options.stickyHeaderOffsetY,this.options.noFullStickyHeaderOffsetLeft=this.options.stickyHeaderOffsetLeft,this.options.noFullStickyHeaderOffsetRight=this.options.stickyHeaderOffsetRight)},_initBootstrapTableFixedColumns:function(){var n;e||(e=!0,n=c.helper.extends(d.BootstrapTable.prototype,{initContainer:function(){var e,t,i=this;c.helper.override(n,"initContainer",i,arguments),i.options.stickyHeader&&(e=c.e.modalShow,t=c.e.modalHided,d(document).off(e).on(e,function(){var e;i.needFixedColumns&&i.options.fixedRightNumber&&(e=i.options.stickyHeaderOffsetRight||0,e+=c.helper.getScrollbarWidth(),i.$fixedColumnsRight.find(".sticky-header-container").css("right",e+"px"),i.$stickyContainer.css("right",e+"px"))}).off(t).on(t,function(){var e;i.needFixedColumns&&i.options.fixedRightNumber&&(e=i.options.stickyHeaderOffsetRight||0,i.$fixedColumnsRight.find(".sticky-header-container").css("right",e+"px"),i.$stickyContainer.css("right",e+"px"))}))}}))},ready:function(i){var n=this;d.fn.bootstrapTable&&u?n._loadPlugin(n.libs,i):require([c.lib.bootstrapTable,c.lib.artTemplate],function(e,t){u=t,function(){d.fn.dropdown.Constructor.VERSION="3.3.7";var L=d.fn.bootstrapTable.utils,l=c.helper.extends(L,{calculateObjectValue:function(e,t,i,n){if(t&&"string"==typeof t&&"@"===t.charAt(0)){var a=i[3],r=i[2],o=i[1],s=(s=t.substring(1,t.length))||"#"+a;return e.__template=e.__template||d(s)[0].innerHTML,u.render(e.__template,{column:e,row:r,item:o,value:i[0]})}return c.helper.override(l,"calculateObjectValue",this,arguments)}});d.extend(d.BootstrapTable.EVENTS,{"before-refresh.bs.table":"onBeforeRefresh","data-init.bs.table":"onDataInit"});var r=c.helper.extends(d.BootstrapTable.prototype,{initConstants:function(){var i=this;c.helper.override(r,"initConstants",i,arguments),i.$el.find("thead tr > *").each(function(){var e=d(this),t=e.attr("width");t&&e.attr("data-width",t),i.options.url&&void 0===e.attr("data-searchable")&&e.attr("data-searchable","false")})},initContainer:function(){var e=this;c.helper.override(r,"initContainer",e,arguments),e.$container.addClass("busy-admin-bs-table");var t=e.$el.find("thead").attr("class")||"";t&&e.$container.addClass(t),e.$el.hasClass("table-dark")&&e.$container.addClass("table-theme-dark"),e.$container.on("animationend webkitAnimationEnd oAnimationEnd",function(){e.resetView()})},initTable:function(){c.helper.override(r,"initTable",this,arguments),this.trigger("data-init",this)},initPagination:function(){var e;c.helper.override(r,"initPagination",this,arguments),"html"!==this.options.type||(e=c.app.getContentFrame().target.find(".busy-admin-pagination")).length&&(this.$pagination.html(e),this.$pagination.show())},initBody:function(){var e,i,n,a=this;c.helper.override(r,"initBody",a,arguments),a.options.treeShowField&&a.options.parentIdField&&(e=a.columns,i=null,n=-1,e.some(function(e,t){if(e.visible&&n++,e.field===a.options.treeShowField&&e.visible)return i=e,!0}),i&&a.$el.treegrid({treeColumn:n,saveState:a.options.treeState,saveStateMethod:"local",saveStateName:p(a.options),expanderExpandedClass:"fa",expanderCollapsedClass:"fa",onChange:function(){a.resetView()}}))},resetView:function(e){var t=this;(e=e||{}).hasOwnProperty("height")||(e.height=h(t.$el,t.options._height));var i,n=0;e&&e.height&&(t.options.height=e.height),t.$selectAll.prop("checked",0<t.$selectItem.length&&t.$selectItem.length===t.$selectItem.filter(":checked").length),t.$tableContainer.toggleClass("has-card-view",this.options.cardView),!t.options.cardView&&t.options.showHeader&&t.options.height?(t.$tableHeader.show(),t.resetHeader(),n+=t.$header.outerHeight(!0)+1):(t.$tableHeader.hide(),t.trigger("post-header")),!t.options.cardView&&t.options.showFooter&&(t.$tableFooter.show(),t.fitFooter(),t.options.height&&(n+=t.$tableFooter.outerHeight(!0))),t.$tableBorder&&t.$tableBorder.hide(),t.$container.hasClass("fullscreen")&&(t.$tableContainer.css("height",""),t.$tableContainer.css("width","")),t.options.height&&(i=t.options.height,t.$container.hasClass("fullscreen")&&(i=t.$container.height()),e=i-(t.$toolbar.is(":visible")?t.$toolbar.outerHeight(!0):0)-(t.options.pagination?t.$pagination.outerHeight(!0):0),i=t.$tableBody.find(">table").outerHeight(),t.$tableContainer.css("height",e+"px").addClass("fixed-height"),i<t.$tableBody.outerHeight()-2?t.$tableContainer.addClass("less-content"):t.$tableContainer.removeClass("less-content")),t.options.cardView?(t.$el.css("margin-top","0"),t.$tableContainer.css("padding-bottom","0"),t.$tableFooter.hide()):(t.getCaret(),t.$tableContainer.css("padding-bottom","".concat(n,"px"))),f(this),t.options.stickyHeader&&(t.$container.hasClass("fullscreen")?(i=c.helper.int((t.$container.css("padding-left")||"").replace("px","")),n=c.helper.int((t.$container.css("padding-right")||"").replace("px",""))+c.helper.getScrollbarWidth(),t.options.stickyHeaderOffsetY=-1,t.options.stickyHeaderOffsetLeft=i,t.options.stickyHeaderOffsetRight=n):(t.options.stickyHeaderOffsetY=t.options.noFullStickyHeaderOffsetY,t.options.stickyHeaderOffsetLeft=t.options.noFullStickyHeaderOffsetLeft,t.options.stickyHeaderOffsetRight=t.options.noFullStickyHeaderOffsetRight)),t.trigger("reset-view")},toggleCheckAll:function(){c.helper.override(r,"toggleCheckAll",this,arguments),f(this)},_toggleCheck:function(){c.helper.override(r,"_toggleCheck",this,arguments),f(this)},initRow:function(A,E,e,t){var P=this,I=[],i={},O=[],n="",a={},r=[];if(!(-1<L.findIndex(this.hiddenRows,A))){if((i=L.calculateObjectValue(this.options,this.options.rowStyle,[A,E],i))&&i.css)for(var o=0,s=Object.entries(i.css);o<s.length;o++){var l=R(s[o],2),c=l[0],l=l[1];O.push("".concat(c,": ").concat(l))}if(a=L.calculateObjectValue(this.options,this.options.rowAttributes,[A,E],a))for(var d=0,u=Object.entries(a);d<u.length;d++){var p=R(u[d],2),h=p[0],p=p[1];r.push("".concat(h,'="').concat(L.escapeHTML(p),'"'))}if(A._data&&!L.isEmptyObject(A._data))for(var f=0,m=Object.entries(A._data);f<m.length;f++){var g=R(m[f],2),v=g[0],g=g[1];if("index"===v)return;n+=" data-".concat(v,"='").concat("object"===y(g)?JSON.stringify(g):g,"'")}I.push("<tr",L.sprintf(" %s",r.length?r.join(" "):void 0),L.sprintf(' id="%s"',Array.isArray(A)?void 0:A._id),L.sprintf(' class="%s"',i.classes||(Array.isArray(A)?void 0:A._class)),L.sprintf(' style="%s"',Array.isArray(A)?void 0:A._style),' data-index="'.concat(E,'"'),L.sprintf(' data-uniqueid="%s"',L.getItemField(A,this.options.uniqueId,!1)),L.sprintf(' data-has-detail-view="%s"',this.options.detailView&&L.calculateObjectValue(null,this.options.detailFilter,[E,A])?"true":void 0),L.sprintf("%s",n),">"),this.options.cardView&&I.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));i="";return L.hasDetailViewIcon(this.options)&&(i="<td>",L.calculateObjectValue(null,this.options.detailFilter,[E,A])&&(i+='\n          <a class="detail-icon" href="#">\n          '.concat(L.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),i+="</td>"),i&&"right"!==this.options.detailViewAlign&&I.push(i),this.header.fields.forEach(function(e,t){var i="",n=L.getItemField(A,e,P.options.escape),a="",r="",o={},s="",l=P.header.classes[t],c="",d="",u="",p="",h="",f="",m=P.columns[t];if((!P.fromHtml&&!P.autoMergeCells||void 0!==n||m.checkbox||m.radio)&&m.visible&&(!P.options.cardView||m.cardVisible)){if(m.escape&&(n=L.escapeHTML(n)),O.concat([P.header.styles[t]]).length&&(d+="".concat(O.concat([P.header.styles[t]]).join("; "))),A["_".concat(e,"_style")]&&(d+="".concat(A["_".concat(e,"_style")])),d&&(c=' style="'.concat(d,'"')),A["_".concat(e,"_id")]&&(s=L.sprintf(' id="%s"',A["_".concat(e,"_id")])),A["_".concat(e,"_class")]&&(l=L.sprintf(' class="%s"',A["_".concat(e,"_class")])),A["_".concat(e,"_rowspan")]&&(p=L.sprintf(' rowspan="%s"',A["_".concat(e,"_rowspan")])),A["_".concat(e,"_colspan")]&&(h=L.sprintf(' colspan="%s"',A["_".concat(e,"_colspan")])),A["_".concat(e,"_title")]&&(f=L.sprintf(' title="%s"',A["_".concat(e,"_title")])),(o=L.calculateObjectValue(P.header,P.header.cellStyles[t],[n,A,E,e],o)).classes&&(l=' class="'.concat(o.classes,'"')),o.css){for(var g=[],v=0,y=Object.entries(o.css);v<y.length;v++){var b=R(y[v],2),w=b[0],b=b[1];g.push("".concat(w,": ").concat(b))}c=' style="'.concat(g.concat(P.header.styles[t]).join("; "),'"')}var k,x,$,C,a=L.calculateObjectValue(m,P.header.formatters[t],[n,A,E,e],n);if(m.checkbox||m.radio||(a=null==a||""===a?P.options.undefinedText:a),m.searchable&&P.searchText&&P.options.searchHighlight&&(C="",k=new RegExp("(".concat(P.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),$="<mark>$1</mark>",C=a&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(a)?(d=(x=(new DOMParser).parseFromString(a.toString(),"text/html").documentElement.textContent).replace(k,$),a.replace(new RegExp("(>\\s*)(".concat(x,")(\\s*)"),"gm"),"$1".concat(d,"$3"))):a.toString().replace(k,$),a=L.calculateObjectValue(m,m.searchHighlightFormatter,[a,P.searchText],C)),A["_".concat(e,"_data")]&&!L.isEmptyObject(A["_".concat(e,"_data")]))for(var S=0,T=Object.entries(A["_".concat(e,"_data")]);S<T.length;S++){var _=R(T[S],2),D=_[0],_=_[1];if("index"===D)return;u+=" data-".concat(D,'="').concat(_,'"')}m.checkbox||m.radio?(r=m.checkbox?"checkbox":r,r=m.radio?"radio":r,$=m.class||"",C=L.isObject(a)&&a.hasOwnProperty("checked")?a.checked:(!0===a||n)&&!1!==a,m=!m.checkboxEnabled||a&&a.disabled,i=[P.options.cardView?'<div class="card-view '.concat($,'">'):'<td class="bs-checkbox '.concat($,'"').concat(l).concat(c,">"),'<label>\n            <input\n            data-index="'.concat(E,'"\n            name="').concat(P.options.selectItemName,'"\n            type="').concat(r,'"\n            ').concat(L.sprintf('value="%s"',A[P.options.idField]),"\n            ").concat(L.sprintf('checked="%s"',C?"checked":void 0),"\n            ").concat(L.sprintf('disabled="%s"',m?"disabled":void 0)," />\n            <span></span>\n            </label>"),P.header.formatters[t]&&"string"==typeof a?a:"",P.options.cardView?"</div>":"</td>"].join(""),A[P.header.stateField]=!0===a||!!n||a&&a.checked):P.options.cardView?(n=P.options.showHeader?'<span class="card-view-title '.concat(o.classes,'"').concat(c,">").concat(L.getFieldTitle(P.columns,e),"</span>"):"",i='<div class="card-view">'.concat(n,'<span class="card-view-value ').concat(o.classes,'"').concat(c,">").concat(a,"</span></div>"),P.options.smartDisplay&&""===a&&(i='<div class="card-view"></div>')):i='<td field="'+e+'" '.concat(s).concat(l).concat(c).concat(u).concat(p).concat(h).concat(f,">").concat(a,"</td>"),I.push(i)}}),i&&"right"===this.options.detailViewAlign&&I.push(i),this.options.cardView&&I.push("</div></td>"),I.push("</tr>"),I.join("")}},refresh:function(){this.trigger("before-refresh",this),c.helper.override(r,"refresh",this,arguments)}})}(),d.fn.bootstrapTable.methods.map(function(e){return"destroy"===e||void(m.prototype[e]=function(){if(this.api)return this.api[e].apply(this.api,Array.prototype.slice.call(arguments))})}),n._loadPlugin(n.libs,i)})},destroy:function(){this.api&&this.api.destroy()}},m.DEFAULTS={search:!1,showSearchButton:!0,showSearchClearButton:!0,searchOnEnterKey:!0,showColumns:!1,type:"ajax",resizable:!1,reorderableRows:!1,reorderableColumns:!1,showPrint:!1,showExport:!1,exportTypes:["excel"],idField:"id",selectItemName:"id[]",parentIdField:"parent_id",noDataText:"",stateKey:null,state:!1,treeState:!1,pagination:!0,pageList:[10,20,30,40,50,100,200],pageSize:20,route:!1,model:"",modelExtend:!1,icons:{paginationSwitchDown:"fa-chevron-down",paginationSwitchUp:"fa-chevron-up",refresh:"fa-refresh",toggleOff:"fa-list-alt",toggleOn:"fa-list-alt",columns:"fa-th",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-repeat"},onBeforeRefresh:d.noop,onDataInit:d.noop,locale:d.extend({copyRows:"å¤å¶è¡",print:"æå°",loadingMessage:"è¯·ç¨å...",recordsPerPage:"æ¯é¡µ%sæ¡",showingRows:"%s-%s/%sæ¡",showingRowsHasFilter:", (ä»%sæ¡ä¸­è¿æ»¤)",sRPaginationPreText:"ä¸ä¸é¡µ",sRPaginationPageText:"ç¬¬%sé¡µ",sRPaginationNextText:"ä¸ä¸é¡µ",detailPagination:"å±%sæ¡",clearSearch:"éç½®",search:"æç´¢",noMatches:"ææ ç¸å³è®°å½",paginationSwitch:"éè/æ¾ç¤ºåé¡µ",paginationSwitchDown:"æ¾ç¤ºåé¡µ",paginationSwitchUp:"éèåé¡µ",refresh:"å·æ°",toggle:"åæ¢",toggleOn:"æ¾ç¤ºå¡çè§å¾",toggleOff:"éèå¡çè§å¾",columns:"å",columnsToggleAll:"åæ¢ææ",fullscreen:"å¨å±",allRows:"ææ",autoRefresh:"èªå¨å·æ°",export:"å¯¼åº",jumpTo:"è·³è½¬",advancedSearch:"é«çº§æç´¢",advancedCloseButton:"å³é­",filterControlSwitch:"éè/æ¾ç¤ºè¿æ»¤",filterControlSwitchHide:"éèè¿æ»¤",filterControlSwitchShow:"æ¾ç¤ºè¿æ»¤"},((c.locale||{}).plugin||{}).table||{})},d.fn.busyAdminTable=g,d.fn.busyAdminTable.Constructor=m,c.plugins.Table=m,d.extend(c.e,{tableCheck:c.ee("check",n),tableCheckAll:c.ee("check-all",n),tableCheckSome:c.ee("check-some",n),tableClickCell:c.ee("click-cell",n),tableClickRow:c.ee("click-row",n),tableCollapseRow:c.ee("collapse-row",n),tableColumnSwitch:c.ee("column-switch",n),tableDblClickCell:c.ee("dbl-click-cell",n),tableDblClickRow:c.ee("dbl-click-row",n),tableExpandRow:c.ee("expand-row",n),tableLoadError:c.ee("load-error",n),tableLoadSuccess:c.ee("load-success",n),tablePageChange:c.ee("page-change",n),tableDataInit:c.ee("data-init",n),tableBodyReady:c.ee("post-body",n),tableFooterReady:c.ee("post-footer",n),tableHeaderReady:c.ee("post-header",n),tablePreBody:c.ee("pre-body",n),tableRefresh:c.ee("refresh",n),tableRefreshOptions:c.ee("refresh-options",n),tableReset:c.ee("reset-view",n),tableSearch:c.ee("search-view",n),tableScroll:c.ee("scroll-body",n),tableSort:c.ee("sort-view",n),tableToggle:c.ee("toggle",n),tableUncheck:c.ee("uncheck",n),tableUncheckAll:c.ee("uncheck-all",n),tableUncheckSome:c.ee("uncheck-some",n),tableFooterBtnClick:c.ee("footer-btn-click",n)}),d.fn.takeBusyAdminTable=function(e){var t=this.closest(".busy-admin-bs-table").find("> .fixed-table-container > .fixed-table-body > table").data(r);if(!(t&&t instanceof m))return this;if("string"!=typeof e)return t;var i=Array.prototype.slice.call(arguments);return i.shift(),t[e].apply(t,i)},c.regSugar("table",function(e,t,i,n){var a;"reload"===t&&(t="refresh"),"refresh"!==t||(a=d(e).data(c.plugins.Modal.KEY))instanceof c.plugins.Modal&&a.hide(),d(e).takeBusyAdminTable(t)}),c.autoInit('[data-toggle="busy-table"],[busy-table]',function(){g.call(this)}),m})}(),function(n,a){function e(){this.app=a.app,this.url=a.getConfig("topBar").url,this.root=a.root(),this.messageTimer=null,this.messageLoading=!1,this.ready(this.init)}var r,i=!1,o={"Busy-Admin-Plugin":"AppMessage"};e.prototype={ready:function(t){var i=this;r?"function"==typeof t&&t.call(i):require([a.lib.vue],function(e){r=e,"function"==typeof t&&t.call(i)})},init:function(){var e=this,t=e.app.data||{};t.message_notice&&(e.$noticeLi=n('<li><a href="javascript:void(0)"><i class="bicon bicon-bell"></i><span class="badge badge-danger badge-pill hide">0</span></a></li>'),e.$noticeA=e.$noticeLi.find("a"),e.$noticeBadge=e.$noticeLi.find(".badge"),e.app.$barRefreshWrap.after(e.$noticeLi),e.initNotice()),t.message_agency&&(e.$agencyLi=n('<li><a href="javascript:void(0)"><i class="bicon bicon-wait-handle"></i><span class="badge badge-danger badge-pill hide">0</span></a></li>'),e.$agencyA=e.$agencyLi.find("a"),e.$agencyBadge=e.$agencyLi.find(".badge"),(t.message_notice?e.$noticeLi:e.app.$barRefreshWrap).after(e.$agencyLi),e.initAgency()),(t.message_notice||t.message_agency)&&(e.messageTimer=setTimeout(function(){e.getMessage()},1e3)),a.helper.triggerPluginReady(e.$element,"TopBar",e),i=!0},initNotice:function(){var i=this;i.$noticeA.on("click",function(){i.$noticeLi.addClass("active"),i.dialogPage=a.dialog.fullRight(e.NOTICE_TEMPLATE,"busy-admin-notice-panel",function(){new r({el:"#busyAdminNoticeVueApp",data:{list:[],body:null,page:1,timer:null,showLast:!1,load:!1},created:function(){this.loadList()},methods:{loadList:function(){var t=this;t.load||(t.load=!0,a.request(i.url+"?action=list&type=notice&page="+this.page).headers(o).pending(!1).complete(function(){t.load=!1}).success(function(e){e=e.result.list||[];return e.map(function(e){e.url=e.url||"javascript:void(0)",e.target=0===e.url.indexOf(i.root)?"":"_blank"}),0<e.length?(t.page++,t.list=t.list.concat(e),t.showLast=!1):0<t.list.length&&(t.showLast=!0),!1}).exec())},onScroll:function(){var e=this;null==this.body&&(this.body=n(this.$el).find(".busy-admin-right-panel-body")),this.body.scrollTop()+this.body[0].offsetHeight>=this.body[0].scrollHeight&&(clearTimeout(this.timer),this.timer=setTimeout(function(){e.loadList()},300))},onClear:function(){var e=this;a.request(i.url+"?action=clear&type=notice").headers(o).success(function(){e.list=[],i.getMessage()}).exec()},onAllRead:function(){var e=this;a.request(i.url+"?action=all_read&type=notice").headers(o).success(function(){e.list.map(function(e){e.is_read=!0}),i.getMessage()}).exec()},onItemClick:function(e){var t=this.list[e];t.is_read||(a.request(i.url+"?action=read&type=notice&id="+t.id).pending(!1).headers(o).success(function(){return i.getMessage(),!1}).exec(),this.list[e].is_read=!0)},onClose:function(){i.dialogPage.close()}}})},function(){i.$noticeLi.removeClass("active")})})},initAgency:function(){var i=this;i.$agencyA.on("click",function(){i.$agencyLi.addClass("active"),i.dialogPage=a.dialog.fullRight(e.AGENCY_TEMPLATE,"busy-admin-agency-panel",function(){new r({el:"#busyAdminAgencyVueApp",data:{list:[],load:!1},created:function(){this.loadList()},methods:{loadList:function(){var t=this;t.load||(t.load=!0,a.request(i.url+"?action=list&type=agency").headers(o).pending(!1).complete(function(){t.load=!1}).success(function(e){e=e.result.list||[];return e.map(function(e){e.url=e.url||"javascript:void(0)",e.target=0===e.url.indexOf(i.root)?"":"_blank"}),0<e.length&&(t.list=t.list.concat(e)),!1}).exec())},onItemClick:function(e){e=this.list[e];a.request(i.url+"?action=read&type=agency&id="+e.id).headers(o).pending(!1).success(function(){return i.getMessage(),!1}).exec()},onClose:function(){i.dialogPage.close()}}})},function(){i.$agencyLi.removeClass("active")})})},getMessage:function(){var n=this;clearTimeout(n.messageTimer),n.messageLoading||(n.messageLoading=!0,n.request=a.request(n.url).headers(o).pending(!1).complete(function(){n.messageLoading=!1,n.messageTimer=setTimeout(function(){n.getMessage()},1e4)}).error(function(e,t,i){if(n.isAbort)return!1}).success(function(e){var t=e.result||{},e=t.notice_total||0,t=t.agency_total||0;return 0<t?n.$agencyBadge.removeClass("hide").text(100<=t?"99+":t):n.$agencyBadge.addClass("hide"),0<e?n.$noticeBadge.removeClass("hide").text(100<=e?"99+":e):n.$noticeBadge.addClass("hide"),!1}).exec())},destroy:function(){clearTimeout(this.messageTimer),this.request&&(this.isAbort=!0,this.request.abort(),this.request=null),this.dialogPage&&(this.dialogPage.close(),this.dialogPage=null)}},e.NOTICE_TEMPLATE='<div class="busy-admin-right-panel" id="busyAdminNoticeVueApp">    <div class="busy-admin-right-panel-head">éç¥</div>    <div class="busy-admin-right-panel-body" v-on:scroll="onScroll">        <template v-if="list.length > 0">            <a class="media" v-for="(item, index) in list" v-bind:class="item.is_read ? \'read\' : \'\'" :data-index="index" v-on:click="onItemClick(index)" :href="item.url" :target="item.target" data-toggle="">                <div class="media-left" v-if="item.icon.value.length > 0">                    <i class="media-object icon" :class="item.icon.value" :style="{backgroundColor: item.icon.color}" v-if="item.icon.is_class"></i>                    <img class="media-object" :src="item.icon.value" v-else>                </div>                <div class="media-body">                    <h5 class="media-heading">                        <span v-if="!item.is_read"></span>                        {{item.title}}                    </h5>                    <p class="text-muted size-14" v-if="item.desc.length > 0">{{item.desc}}</p>                    <p class="text-gray size-12">{{item.create_time}}</p>                </div>            </a>            <div class="media text-muted text-center size-12" v-if="showLast">æ²¡ææ¶æ¯äº</div>        </template>        <template v-else>            <div class="empty-info" v-if="load">                <i class="fa fa-spinner fa-spin size-30"></i><br/><br/>å è½½ä¸­...            </div>            <div class="empty-info" v-else>ææ éç¥</div>        </template>    </div>    <div class="busy-admin-right-panel-foot">        <div class="btn-group">            <a class="btn btn-warning" v-on:click="onAllRead"><i class="fa fa-trash"></i> å¨é¨å·²è¯»</a>            <a class="btn btn-danger" v-on:click="onClear"><i class="fa fa-trash"></i> æ¸ç©º</a>            <a class="btn btn-default" v-on:click="onClose"><i class="fa fa-close"></i> å³é­</a>        </div>    </div></div>',e.AGENCY_TEMPLATE='<div class="busy-admin-right-panel" id="busyAdminAgencyVueApp">    <div class="busy-admin-right-panel-head">å¾å</div>    <div class="busy-admin-right-panel-body">        <template v-if="list.length > 0">            <a class="media" v-for="(vo, index) in list" :href="vo.url" :data-index="index" v-on:click="onItemClick(index)" :target="vo.target" data-toggle="">                <div class="media-body">                    <h5 class="media-heading">{{vo.title}}</h5>                    <p class="text-muted size-12" v-if="vo.desc.length > 0">{{vo.desc}}</p>                </div>            </a>        </template>        <template v-else>            <div class="empty-info" v-if="load">                <i class="fa fa-spinner fa-spin size-30"></i><br/><br/>å è½½ä¸­...            </div>            <div class="empty-info" v-else>ææ å¾å</div>        </template>    </div>    <div class="busy-admin-right-panel-foot">        <a class="btn btn-default btn-block" v-on:click="onClose"><i class="fa fa-close"></i> å³é­</a>    </div></div>',n(document).on(a.e.appReadies,function(){return a.app.isFrame?void(i||(a.app._topBar=new e)):(i=!1,void(a.app._topBar&&(a.app._topBar.destroy(),a.app._topBar=null)))})}(jQuery,busyAdmin),function(){var e=busyAdmin;define("./busyAdmin/plugins/tree",[e.sys.core,e.sys.jquery],function(l,c){"use strict";var i=false,o=function(e,t){var i=this;i.element=e;i.$element=c(e).addClass("busy-admin-tree");i.options=c.extend(true,{},o.DEFAULTS,i.$element.data()||{},t||{});var s=i.options;i.jstree=null;i.jstreeOpt={core:{animation:s.animation,multiple:s.multiple,expand_selected_onload:s.expandSelectedOnload,force_text:s.forceText,dblclick_toggle:false,check_callback:function(e,t,i,n,a){var r=Array.prototype.slice.call(arguments);if(typeof s.operate==="function")return s.operate.apply(this,r);if(typeof s.operate==="boolean")return s.operate;if(typeof s.operate==="string"){var o=l.helper.execCallback(s.operate,this,r);if(o!=null)return o}return-1!==(s.operate||[]).indexOf(e)},themes:{dots:s.dots,icons:s.icons,ellipsis:s.ellipsis,stripes:s.stripes},strings:{"Loading ...":s.locale.loading,"New node":s.locale.newNode,nodes:s.locale.nodes}},types:{default:{}},plugins:["types"]};if(s.leafTile)i.$element.addClass("leaf-tile");if(s.border)i.$element.addClass("show-border");if(s.checkbox){i.jstreeOpt.plugins.push("checkbox");i.jstreeOpt.checkbox={keep_selected_style:s.checkboxKeepSelectedStyle,tie_selection:s.checkboxTieSelection,three_state:s.checkboxRelation,cascade:s.checkboxRelationDir,cascade_to_disabled:s.checkboxRelationDisabled,cascade_to_hidden:s.checkboxRelationHidden}}if(s.block)i.jstreeOpt.plugins.push("wholerow");if(s.dnd)i.jstreeOpt.plugins.push("dnd");if(s.contextmenu){var n=s.contextmenuItems;i.jstreeOpt.plugins.push("contextmenu");i.jstreeOpt.contextmenu={items:function(e){l.dialog.toast("æ²¡æéç½®å³é®èåé¡¹");return{}}};if(typeof n==="function")i.jstreeOpt.contextmenu.items=n;else if(typeof n==="string"&&-1===n.indexOf(",")&&typeof window[n]==="function")i.jstreeOpt.contextmenu.items=window[n]}if(s.url)i.jstreeOpt.core.data=function(e,n){var a=this;var t={};t[s.parentIdField||"parent_id"]=e.id==="#"?"":e.id;if(typeof s.params==="object")t=c.extend({},s.params,t);else if(s.params){var i=l.helper.scope(s.params);if(typeof i==="function"){var r=i.call();t=c.extend({},r||{},t)}}l.request(typeof s.url==="function"?s.url():s.url).method(s.method).addHeader("Busy-Admin-Plugin","Tree").pending(false).params(t).error(function(e,t,i){n.call(a,[])}).success(function(e,t,i){n.call(a,e.result.data);return false}).exec()};else if(s.list&&c.isArray(s.list)&&s.list.length>0)i.jstreeOpt.core.data=s.list;i.ready(i.init)};function e(i){var n;var a="busy.admin.tree.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=c(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof i==="object"&&i));if(typeof i==="string")try{n=t[i].apply(t,r)}catch(e){if(e instanceof TypeError)n=t.jstree[i].apply(t.jstree,r)}});if(typeof i==="string")return n;return this}o.prototype={ready:function(e){var t=this;if(i)typeof e==="function"&&e.call(t);else require([l.lib.tree],function(){i=true;typeof e==="function"&&e.call(t)})},init:function(){var r=this;if(r.isInit)return;r.isInit=true;r.$element.find("[disabled],[data-disabled],[data-icon],[data-opened],[data-selected],[data-jstree]").each(function(){var e=c(this);var t=e.data();e.removeData();if(this.hasAttribute("disabled"))t.disabled=true;if(t.hasOwnProperty("jstree")&&typeof t.jstree==="object"){t=c.extend(t.jstree,t);delete t.jstree}e.data("jstree",t)});var t="";["init","loading","loaded","ready","destroy","set_state","refresh","load_node","load_all","redraw","model","before_open","open_node","after_open","close_node","after_close","open_all","close_all","enable_node","disable_node","hide_node","show_node","hide_all","show_all","activate_node","hover_node","dehover_node","select_node","deselect_node","changed","select_all","deselect_all","refresh_node","set_id","set_text","create_node","rename_node","delete_node","move_node","copy_node","cut","copy","paste","clear_buffer","disable_checkbox","enable_checkbox","check_node","uncheck_node","check_all","uncheck_all"].map(function(e){t+=e+".jstree "});r.$element.on(t,function(e,t){var i=[];var n=r.jstree;switch(e.type){case"load_node":i=[n,t.node,t.status];break;case"redraw":case"hide_all":case"show_all":i=[n,t.nodes];break;case"model":i=[n,t.nodes,t.parent];e.type="insert";break;case"load_all":case"before_open":case"open_node":case"after_open":case"close_node":case"after_close":case"open_all":case"close_all":case"enable_node":case"disable_node":case"hide_node":case"hover_node":case"dehover_node":case"disable_checkbox":case"enable_checkbox":case"copy":case"cut":i=[n,t.node];break;case"activate_node":i=[n,t.node,t.event];break;case"select_node":case"deselect_node":case"check_node":case"uncheck_node":i=[n,t.node,t.selected,t.event];break;case"changed":i=[n,t.node,t.action,t.selected,t.event];break;case"select_all":case"check_all":i=[n,t.selected];break;case"deselect_all":case"uncheck_all":i=[n,t.node,t.selected];break;case"refresh_node":i=[n,t.node,t.nodes];break;case"set_id":i=[n,t.node,t.old];break;case"set_text":i=[n,t.obj,t.text];break;case"create_node":i=[n,t.node,t.parent,t.position];break;case"rename_node":i=[n,t.node,t.text,t.old];break;case"delete_node":i=[n,t.node,t.parent];break;case"move_node":i=[n,t.node,t.parent,t.position,t.old_parent,t.old_position,t.is_multi,t.old_instance,t.new_instance];break;case"copy_node":i=[n,t.node,t.original,t.parent,t.position,t.old_parent,t.old_position,t.is_multi,t.old_instance,t.new_instance];break;case"paste":i=[n,t.parent,t.node,t.mode];break;default:i=[n]}switch(e.type){case"ready":case"refresh":case"delete_node":case"create_node":var a=r.jstree.get_json()||[];if(r.$empty){r.$empty.remove();r.$empty=null}if(a.length==0){r.$empty=c('<div class="busy-admin-tree-empty">'+r.options.emptyText+"</div>");r.$element.append(r.$empty)}break}r.$element.triggerHandler(l.ee(e.type,"tree"),i)});r.$element.jstree(r.jstreeOpt);r.jstree=r.$element.jstree(true);if(r.options.checkbox)if(r.$element.closest("form").length>0){var e=l.helper.parseData(r.options,"verify");var i=r.options.uncertainName||"";var n=r.options.name||"";n=-1!==n.indexOf("[]")?n:n+"[]";i=-1!==i.indexOf("[]")?i:i?i+"[]":"";r.$nameHidden=c('<select name="'+n+'" multiple/>').hide();r.$uncertainHidden=c('<select name="'+i+'" multiple/>').hide();r.$element.before(r.$nameHidden);r.$element.before(r.$uncertainHidden);for(var a in e){var o=e[a];switch(a){case"maxlength":case"minlength":case"required":r.$nameHidden.attr(a,o);break;default:r.$nameHidden.attr("data-"+l.helper.snake(a,"-"),o)}}r.$nameHidden.on(l.e.verifyErrorPlacement,function(e,t){r.$element.after(t);return false});r.$element.on(l.e.treeChanged+" "+l.e.treeReady,function(){r.$nameHidden.html("");r.jstree.get_checked().map(function(e){r.$nameHidden.append('<option value="'+e+'" selected/>')});r.$nameHidden.trigger("change");if(r.options.uncertainName){r.$uncertainHidden.html("");r.jstree.get_undetermined().map(function(e){r.$uncertainHidden.append('<option value="'+e+'" selected/>')});r.$uncertainHidden.trigger("change")}})}l.helper.triggerPluginReady(r.$element,"Tree",r)}},o.DEFAULTS={dots:true,icons:true,ellipsis:false,stripes:false,operate:false,animation:200,multiple:true,expandSelectedOnload:false,forceText:false,leafTile:false,border:true,url:null,method:"get",parentIdField:"parent_id",params:null,emptyText:"æ éé¡¹",list:[],name:"tree_id[]",uncertainName:null,checkbox:false,checkboxKeepSelectedStyle:false,checkboxTieSelection:true,checkboxRelation:true,checkboxRelationDir:"",checkboxRelationDisabled:true,checkboxRelationHidden:true,block:false,contextmenu:false,contextmenuItems:null,locale:c.extend({},{loading:"è¯·ç¨å...",newNode:"æªå½å",nodes:"èç¹"},((l.locale||{}).plugin||{}).tree||{})},c.fn.busyAdminTree=e,c.fn.busyAdminTree.Constructor=o,l.plugins.Tree=o;var t="tree";return c.extend(l.e,{treeInit:l.ee("init",t),treeLoading:l.ee("loading",t),treeDestroy:l.ee("destroy",t),treeLoaded:l.ee("loaded",t),treeReady:l.ee("ready",t),treeLoadNode:l.ee("load-node",t),treeLoadAll:l.ee("load-all",t),treeInsert:l.ee("insert",t),treeRedraw:l.ee("redraw",t),treeBeforeOpen:l.ee("before-open",t),treeOpenNode:l.ee("open-node",t),treeAfterOpen:l.ee("after-open",t),treeCloseNode:l.ee("close-node",t),treeAfterClose:l.ee("after-close",t),treeOpenAll:l.ee("open-all",t),treeCloseAll:l.ee("close-all",t),treeEnableNode:l.ee("enable-node",t),treeDisableNode:l.ee("disable-node",t),treeHideNone:l.ee("hide-node",t),treeShowNode:l.ee("show-node",t),treeHideAll:l.ee("hide-all",t),treeShowAll:l.ee("show-all",t),treeClickNode:l.ee("activate-node",t),treeHoverNode:l.ee("hover-node",t),treeDeHoverNode:l.ee("dehover-node",t),treeSelectNode:l.ee("select-node",t),treeChanged:l.ee("changed",t),treeDeSelectNode:l.ee("deselect-node",t),treeSelectAll:l.ee("select-all",t),treeDeSelectAll:l.ee("deselect-all",t),treeSetState:l.ee("set-state",t),treeRefresh:l.ee("refresh",t),treeRefreshNode:l.ee("refresh-node",t),treeSetId:l.ee("set-id",t),treeSetText:l.ee("set-text",t),treeCreateNode:l.ee("create-node",t),treeRenameNode:l.ee("rename-node",t),treeDeleteNode:l.ee("delete-node",t),treeMoveNode:l.ee("move-node",t),treeCopyNode:l.ee("copy-node",t),treeCut:l.ee("cut",t),treeCopy:l.ee("copy",t),treePaste:l.ee("paste",t),treeClearBuffer:l.ee("clear-buffer",t),treeDisableCheckbox:l.ee("disable-checkbox",t),treeEnableCheckbox:l.ee("enable-checkbox",t),treeCheckNode:l.ee("check-node",t),treeUnCheckNode:l.ee("uncheck-node",t),treeCheckAll:l.ee("check-all",t),treeUnCheckAll:l.ee("uncheck-all",t)}),l.autoInit('[data-toggle="busy-tree"],[busy-tree]',function(){e.call(this)}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/upload",[e.sys.core,e.sys.jquery],function(h,f){var s={},l=null,m=null,e=undefined,g=function(e,t){return e.find('[data-upload-id="'+t+'"]')},v=function(e,t){var i=this;i.element=e;i.$element=f(e);i.options=f.extend(true,{},v.DEFAULTS,i.$element.data(),t||{});i.uploader=null;i.fileConfig={};i.headers={};i.$uploadBtn=null;i.$selectBtn=null;i.module=null;i.isInput=i.$element.is(":input");i.options.disabled=i.$element.prop("disabled")||i.options.disabled;i.callback={responseSuccess:f.noop};i.ready(i.init)};v.prototype={ready:function(a){var r=this;if(l)a.call(r);else require([h.lib.bootstrap,h.lib.webUploader,h.lib.sortable,h.lib.uploadConfig],function(e,t,i,n){l=t;m=i;s=n;a.call(r)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;e.fileConfig=s.config[e.options.classType||"file"]||{};if(!e.options.placeholder)e.options.placeholder=h.helper.sprintf(e.options.locale.pleaseUploadOrSelect,e.fileConfig.name);if(!e.options.objectFit)e.options.objectFit="cover";if(e.isInput){var t=e.$element.val();var i=e.$element.attr("name");var n=e.$element.attr("placeholder");if(t)e.options.value=t;if(i)e.options.name=i;if(n)e.options.placeholder=n}switch(e.options.type.toLowerCase()){case"files":e.module=new r(e);break;case"card":e.module=new o(e);break;case"use":e.module=new c(e);break;default:e.module=new a(e)}h.helper.triggerPluginReady(e.$element,"Upload",e)},_initUploader:function(e,t,i,n){var a=this;var r=a.options;var o=r.pasteContainer;if(typeof o==="string")o=f(o);if(o instanceof jQuery)if(o.length>0)o=o[0];else r.paste=false;a.multiple=n;a.$uploadBtn=e;a.$selectBtn=i;a.$uploadIcon=f("<i icon/>");a.$uploadName=f("<span text/>");r.uploadName=r.uploadName||h.helper.sprintf(r.locale.uploadFile,a.fileConfig.name);a._updateUploadBtn();a.$selectIcon=f("<i icon/>");a.$selectName=f("<span text/>");r.selectName=r.selectName||h.helper.sprintf(r.locale.selectFile,a.fileConfig.name);a._updateSelectBtn();l.Uploader.register({"before-send-file":"beforeSendFile","before-send":"beforeSend","after-send-file":"afterSendFile"},{beforeSendFile:function(e){},beforeSend:function(e){var t=this.options.formData;if(e.chunks>1){this._byChunsk=true;t.chunk_guid=e.file.source.uid;t.chunk_complete=0;t.chunk_total=e.chunks;t.chunk_current=e.chunk;t.chunk_filename=e.file.name}else{this._byChunsk=false;delete t.chunk_guid;delete t.chunk_complete;delete t.chunk_total;delete t.chunk_current;delete t.chunk_filename;delete t.chunks;delete t.chunk}},afterSendFile:function(e,n){if(this._byChunsk){var a=l.Deferred();var t=this.options.formData;t.chunk_complete=1;t.chunk_current=0;h.request(this.options.server).method(this.options.method).addHeader("Busy-Admin-Plugin","Upload").pending(false).params(t).success(function(e,t,i){a.resolve(n._result=e.result)}).error(function(e,t,i){a.reject(e.message)}).exec();return a.promise()}}});a.uploader=new l.Uploader({swf:s.swf,server:s.url,auto:r.auto,fileVal:"upload",method:"POST",dnd:r.dnd&&t&&t.length>0?t[0]:undefined,paste:r.paste?o:undefined,disableGlobalDnd:true,chunked:true,chunkSize:r.chunkSize,threads:r.threads,duplicate:r.duplicate,fileNumLimit:r.maxTotal?r.maxTotal:undefined,fileSizeLimit:r.maxSize?r.maxSize:undefined,fileSingleSizeLimit:r.maxSingleSize?r.maxSingleSize:undefined,compress:r.compress?{width:r.compressWidth,height:r.compressHeight,quality:r.compressQuality,allowMagnify:r.compressZoom,crop:r.compressCrop,preserveHeaders:r.compressMeta,noCompressIfLarger:r.compressLarger,compressSize:r.compressSize}:false,pick:{id:e[0],multiple:n},formData:{stamp:s.stamp,sid:s.sid,class_type:r.classType?r.classType:"file",class_value:r.classValue},accept:{title:h.helper.sprintf(r.locale.selectFile,a.fileConfig.name||r.locale.file),extensions:a.fileConfig.suffix||"",mimeTypes:a.fileConfig.mime||""}});a.uploader.on("ready",function(){a.$uploadIcon=a.$uploadBtn.find("[icon]");a.$uploadName=a.$uploadBtn.find("[text]");h.helper.execCallback(a.options.ready,a.$element[0],[this],a.$element,h.e.uploadReady)});a.uploader.on("uploadBeforeSend",function(e,t,i){i["Busy-Admin-Plugin"]="Upload";a.uploader._headers=i;a.uploader._params=t});a.uploader.on("uploadAccept",function(e,t,i){var n;h.response.parse(t._raw,{url:this.options.server,type:this.options.method,data:f.param(f.extend(this.options.formData||{},this._params||{})),headers:this._headers||{}},function(e){n=true;t._result=e.result},function(e){i(e.message);n=false});return n});a.uploader.on("error",function(e,t,i){var n;if(t instanceof l.File)n=t;else if(i instanceof l.File)n=i;h.helper.execCallback(a.options.fileError,a.$element[0],[this,n,a._parseCodeError(e)],a.$element,h.e.uploadFileError)});a.uploader.on("fileQueued",function(e){h.helper.execCallback(a.options.fileQueued,a.$element[0],[this,e],a.$element,h.e.uploadFileQueued)});a.uploader.on("filesQueued",function(e){h.helper.execCallback(a.options.filesQueued,a.$element[0],[this,e],a.$element,h.e.uploadFilesQueued)});a.uploader.on("fileDequeued",function(e){h.helper.execCallback(a.options.fileDequeued,a.$element[0],[this,e],a.$element,h.e.uploadFileDequeued)});a.uploader.on("reset",function(){h.helper.execCallback(a.options.reset,a.$element[0],[this],a.$element,h.e.uploadReset)});a.uploader.on("startUpload",function(){h.helper.execCallback(a.options.begin,a.$element[0],[this],a.$element,h.e.uploadBegin)});a.uploader.on("stopUpload",function(){h.helper.execCallback(a.options.stop,a.$element[0],[this],a.$element,h.e.uploadStop)});a.uploader.on("uploadFinished",function(){h.helper.execCallback(a.options.finished,a.$element[0],[this],a.$element,h.e.uploadFinished)});a.uploader.on("uploadStart",function(e){h.helper.execCallback(a.options.start,a.$element[0],[this,e],a.$element,h.e.uploadStart)});a.uploader.on("uploadProgress",function(e,t){h.helper.execCallback(a.options.progress,a.$element[0],[this,e,t],a.$element,h.e.uploadProgress)});a.uploader.on("uploadComplete",function(e){h.helper.execCallback(a.options.complete,a.$element[0],[this,e],a.$element,h.e.uploadComplete)});a.uploader.on("uploadError",function(e,t){h.helper.execCallback(a.options.error,a.$element[0],[this,e,a._parseServerError(t)],a.$element,h.e.uploadError)});a.uploader.on("uploadSuccess",function(e,t){h.helper.execCallback(a.options.success,a.$element[0],[this,e,t._result],a.$element,h.e.uploadSuccess);a._triggerResult(t._result,true)})},_updateSelectBtn:function(){var t=this;var e=this.options;if(!t.$selectBtn||!t.$selectBtn.length)return;if(!t.$selectBtn.data("init-click"))t.$selectBtn.data("init-click",true).off("click").on("click",function(){f(this).busyAdminFilePicker({classType:e.classType,classValue:e.classValue,title:h.helper.sprintf(e.locale.selectFile,t.fileConfig.name),multiple:t.multiple,count:t.multiple?0:1,extensions:t.fileConfig.suffix,success:function(e){typeof t.module.setSelectFiles==="function"&&t.module.setSelectFiles(e)}})});if(e.type=="use")return;if(!t.$selectBtn.data("init-icon"))t.$selectBtn.data("init-icon",true).addClass(e.selectClass).append(t.$selectIcon).append(" ");if(!t.$selectBtn.data("init-name")&&e.type!=="card")t.$selectBtn.data("init-name",true).append(t.$selectName);if(e.select)t.$selectBtn.removeClass("hide").parent().removeClass("no-select");else t.$selectBtn.addClass("hide").parent().addClass("no-select");if(e.selectIcon)t.$selectIcon.removeAttr("class").addClass(e.selectIcon);else t.$selectIcon.addClass("hide");if(e.selectName)t.$selectName.removeAttr("class").html(e.selectName);else t.$selectName.addClass("hide")},_updateUploadBtn:function(){var e=this;var t=this.options;if(t.type=="use"||!e.$uploadBtn||!e.$uploadBtn.length)return;if(!e.$uploadBtn.data("init-icon"))e.$uploadBtn.data("init-icon",true).addClass(e.options.uploadClass).append(e.$uploadIcon).append(" ");if(!e.$uploadBtn.data("init-name")&&t.type!=="card")e.$uploadBtn.data("init-name",true).append(e.$uploadName);if(t.upload)e.$uploadBtn.removeClass("hide").parent().removeClass("no-upload");else e.$uploadBtn.addClass("hide").parent().addClass("no-upload");if(t.uploadIcon)e.$uploadIcon.removeAttr("class").addClass(t.uploadIcon);else e.$uploadIcon.addClass("hide");if(t.uploadName)e.$uploadName.removeAttr("class").html(t.uploadName);else e.$uploadName.addClass("hide");if(e.uploader)e.uploader.refresh()},showUpload:function(e){this.options.upload=e;this._updateUploadBtn()},setUploadName:function(e){this.options.uploadName=e;this._updateUploadBtn()},setUploadIcon:function(e){this.options.uploadIcon=e;this._updateUploadBtn()},showSelect:function(e){this.options.select=e;this._updateSelectBtn()},setSelectName:function(e){this.options.selectName=e;this._updateSelectBtn()},setSelectIcon:function(e){this.options.selectIcon=e;this._updateSelectBtn()},_parseCodeError:function(e){var t=this.options.locale;var i=this.uploader.options;switch(e){case"Q_EXCEED_NUM_LIMIT":e=h.helper.sprintf(t.uploadExceedNumLimit,i.fileNumLimit);break;case"Q_EXCEED_SIZE_LIMIT":e=h.helper.sprintf(t.uploadExceedSizeLimit,this.formatSize(i.fileSizeLimit));break;case"Q_TYPE_DENIED":var n=i.accept[0]||{};var a=n.extensions||"";if(a)e=h.helper.sprintf(t.uploadTypeDeniedDetail,a);else e=t.uploadTypeDenied;break;case"F_EXCEED_SIZE":case"exceed_size":e=h.helper.sprintf(t.uploadExceedSize,this.formatSize(i.fileSingleSizeLimit));break;case"F_DUPLICATE":e=t.uploadDuplicate;break;default:e=t.unknownError+": "+e}return e},formatSize:function(e){return l.Base.formatSize(e,1,["B","KB","MB","GB","TB"])},_parseServerError:function(e){var t=this.options.locale;switch(e){case"server":e=t.serverError;break;case"http":e=t.httpError;break;case"abort":e=t.httpAbort;break;case"timeout":e=t.httpTimeout;break}return e},_changeDisabled:function(e){var t=this;if(e){if(t.uploader)t.uploader.disable();if(t.$selectBtn)t.$selectBtn.addClass("disabled").prop("disabled",true);if(t.$uploadBtn)t.$uploadBtn.addClass("disabled").prop("disabled",true)}else{if(t.uploader)t.uploader.enable();if(t.$selectBtn)t.$selectBtn.removeClass("disabled").prop("disabled",false);if(t.$uploadBtn)t.$uploadBtn.removeClass("disabled").prop("disabled",false)}},_previewHandler:function(e,t,i,n,a){var r=this;h.helper.urlPreviewHandler({url:e,image:t,video:i,audio:n,file:function(){switch(r.fileConfig.type){case"image":typeof t==="function"&&t();break;case"video":typeof i==="function"&&i();break;case"audio":typeof n==="function"&&n();break;default:typeof a==="function"&&a()}}})},_triggerResult:function(e,t){var i=null;if(e)if(t)i={id:e.file_id,url:e.file_url,size:e.size||0,name:e.name,extension:e.extension};else i={id:e.id,url:e.url,size:e.size,name:e.name,extension:e.extension};h.helper.execCallback(this.options.result,this.$element[0],[i],this.$element,h.e.uploadResult)},_triggerChange:function(e){h.helper.execCallback(this.options.change,this.$element[0],[e],this.$element,h.e.uploadChange);this.options.value=e},destroy:function(){var e=this;if(!e.isInit)return;e.isInit=false;e.uploader.destroy();e.module.destroy()}},v.CARD_TEMPLATE='<div class="busy-admin-upload-card">        <div class="upload-container">            <div class="block" data-upload-id="block"></div>            <div class="upload-btn" data-upload-id="upload-btn2"><i data-upload-id="icon"></i><span data-upload-id="placeholder"></span><span data-upload-id="desc"></span></div>            <div class="preview" data-upload-id="preview"></div>            <div class="pending" data-upload-id="progress"><div><i class="busy-admin-pending-icon"></i><span data-upload-id="speed"></span></div></div>            <div class="toolbar" data-upload-id="toolbar">                <div class="tool-upload" data-upload-id="upload-btn"><i class="fa fa-cloud-upload"></i></div>                <div class="tool-select" data-upload-id="select-btn"></div>                <div class="tool-remove" data-upload-id="remove-btn"><i class="fa fa-remove"></i></div>            </div>        </div>    </div>',v.SINGLE_TEMPLATE='<div class="busy-admin-upload-single">        <div class="input-group" data-upload-id="input-group">            <i data-upload-id="input"></i>            <div class="input-group-btn">                <button class="btn" data-upload-id="upload-btn" type="button"></button>                <button class="btn" data-upload-id="select-btn" type="button"></button>            </div>        </div>        <div class="upload-wait" style="display: none" data-upload-id="wait">            <div class="media" data-upload-id="item">                <a class="close" data-upload-id="close">&times;</a>                <div class="media-left" data-upload-id="thumb-box">                    <img class="media-object" src="" data-upload-id="thumb-img"/>                </div>                <div class="media-body">                    <div class="media-heading size-13 text-bold" data-upload-id="title"></div>                    <div class="progress">                        <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%">                            <span class="progress-number" data-upload-id="speed">0%</span>                        </div>                    </div>                    <div class="media-foot size-12 clearfix">                        <div class="pull-right" data-upload-id="file-size"></div>                        <div class="pull-left" data-upload-id="status"></div>                    </div>                    <div class="media-toolbar clearfix" data-upload-id="toolbar">                        <button class="btn btn-success btn-sm pull-right" data-upload-id="operate-btn"></button>                    </div>                </div>            </div>        </div>        <div class="clearfix"></div>        <div class="upload-preview" style="display: none;" data-upload-id="preview"></div>    </div>',v.FILES_TEMPLATE='<div class="busy-admin-upload-files">        <div class="panel panel-default no-margin-bottom">            <div class="panel-heading">                <button class="btn btn-sm" data-upload-id="upload-btn" type="button"></button>                <button class="btn btn-sm" data-upload-id="select-btn" type="button"></button>            </div>            <div class="table-responsive file-queue-list" data-upload-id="file-queue-container">                <table class="table table-hover table-bordered table-striped">                    <thead>                        <tr>                            <th class="text-center size-12" data-upload-id="locale-filename"></th>                            <th class="text-center size-12" data-upload-id="locale-fileSize" width="80"></th>                            <th class="text-center size-12" data-upload-id="locale-progress" width="150"></th>                            <th class="text-center size-12" data-upload-id="locale-operate" width="100"></th>                        </tr>                    </thead>                    <tfoot data-upload-id="toolbar">                        <tr>                            <td colspan="4">                                <button class="btn btn-sm btn-success pull-right" data-upload-id="operate-btn"></button>                                <div class="text-gray size-12" data-upload-id="tip"></div>                            </td>                        </tr>                    </tfoot>                    <tbody data-upload-id="queue-list"></tbody>                </table>            </div>            <div class="table-responsive image-queue-list" data-upload-id="image-queue-container">                <table class="table table-hover table-bordered table-striped">                    <tfoot data-upload-id="toolbar">                        <tr>                            <td colspan="4">                                <button class="btn btn-sm btn-success pull-right" data-upload-id="operate-btn"></button>                                <div class="text-gray size-12" data-upload-id="tip"></div>                            </td>                        </tr>                    </tfoot>                    <tbody><tr><td data-upload-id="queue-list"></td></tr></tbody>                </table>            </div>            <div class="table-responsive file-result-list" data-upload-id="file-result-container">                <table class="table table-hover table-bordered table-striped">                    <tbody data-upload-id="result-list"></tbody>                </table>            </div>            <div class="table-responsive image-result-list" data-upload-id="image-result-container">                <table class="table table-hover table-bordered table-striped">                    <tbody><tr><td data-upload-id="result-list"></td></tr></tbody>                </table>            </div>        </div>    </div>',v.FILES_TEMPLATE_FILE_QUEUE_EMPTY='<tr>        <td class="text-center empty" colspan="4">            <div data-upload-id="message" class="text-gray"></div>            <div data-upload-id="desc" class="text-gray"></div>        </td>    </tr>',v.FILES_TEMPLATE_FILE_QUEUE_ITEM='<tr>        <td data-upload-id="name" class="text-vcenter text-left text-bold"></td>        <td data-upload-id="size" class="text-vcenter text-center text-gray"></td>        <td class="text-vcenter text-center">            <div class="progress no-margin height-10" data-upload-id="progress-bar">                <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%"></div>            </div>            <div class="status" data-upload-id="status"></div>        </td>        <td class="text-center text-vcenter">            <a class="btn btn-danger btn-xs" data-upload-id="delete"><i class="fa fa-trash"></i></a>        </td>    </tr>',v.FILES_TEMPLATE_FILE_RESULT_ITEM='<tr>        <td data-upload-id="content" class="text-vcenter">            <a href="javascript:void(0)" class="name" data-upload-id="name"></a>            <code data-upload-id="size"></code>        </td>        <td class="text-center" width="100">            <a class="btn btn-default btn-xs" data-upload-id="preview"><i class="fa fa-search-plus"></i></a>            <a class="btn btn-success btn-xs" data-upload-id="replace"><i class="fa fa-folder-open"></i></a>            <a class="btn btn-danger btn-xs" data-upload-id="delete"><i class="fa fa-trash"></i></a>        </td>    </tr>',v.FILES_TEMPLATE_IMAGE_QUEUE_EMPTY='<div class="text-center empty">         <div data-upload-id="message" class="text-gray"></div>        <div data-upload-id="desc" class="text-gray"></div>    </div>',v.FILES_TEMPLATE_IMAGE_QUEUE_ITEM='<div class="item">        <div>            <div class="name" data-upload-id="name"></div>            <div class="thumb"><img data-upload-id="thumb"/></div>            <div class="item-content">                <div class="toolbar" data-upload-id="toolbar">                    <a href="javascript:void(0)" class="fa fa-trash" data-upload-id="delete"></a>                </div>                <div class="progress no-margin" data-upload-id="progress-bar">                    <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%"></div>                </div>                <div class="status" data-upload-id="status"></div>            </div>        </div>    </div>',v.FILES_TEMPLATE_IMAGE_RESULT_ITEM='<div class="item">        <div>            <div class="thumb"><img src="" data-upload-id="thumb"/></div>            <div class="item-content">                <div class="toolbar" data-upload-id="toolbar">                    <a href="javascript:void(0)" class="fa fa-search-plus" data-upload-id="preview"></a>                    <a href="javascript:void(0)" class="fa fa-folder-open" data-upload-id="replace"></a>                    <a href="javascript:void(0)" class="fa fa-trash" data-upload-id="delete"></a>                </div>                <a href="javascript:void(0)" class="fa fa-edit name" data-upload-id="name"></a>            </div>        </div>    </div>',v.DEFAULTS={type:"single",name:"",classType:"",classValue:"",value:"",dnd:false,paste:false,pasteContainer:document.body,chunkSize:5242880,threads:3,duplicate:false,className:"",placeholder:"",auto:true,disabled:false,select:true,selectName:"",selectIcon:"fa fa-folder-open",selectClass:"btn-default",upload:true,uploadName:"",uploadIcon:"fa fa-cloud-upload",uploadClass:"btn-primary",compress:false,compressWidth:1600,compressHeight:1600,compressQuality:90,compressZoom:false,compressCrop:false,compressMeta:true,compressLarger:false,compressSize:0,objectFit:"",singleInput:true,singlePreview:true,singlePreviewSize:"",singleSize:"",filesEditFilename:true,filesUi:"all",filesImageWidth:null,cardType:"",cardIcon:"fa fa-cloud-upload",useSelect:"",useDnd:"",useProgress:false,useError:false,maxSize:e,maxSingleSize:e,maxTotal:e,result:e,fileError:e,fileQueued:e,filesQueued:e,fileDequeued:e,reset:e,begin:e,stop:e,finished:e,start:e,progress:e,complete:e,error:e,success:e,locale:f.extend({uploadFile:"ä¸ä¼ %s",selectFile:"éæ©%s",replaceFile:"æ¿æ¢%s",pleaseUploadOrSelect:"è¯·ä¸ä¼ æéæ©%s",uploadSuccess:"ä¸ä¼ æå",uploadLoading:"ä¸ä¼ ä¸­...",uploadWait:"ç­å¾ä¸ä¼ ",uploadCanceled:"å·²åæ¶ä¸ä¼ ",file:"æä»¶",filename:"æä»¶å",fileSize:"æä»¶å¤§å°",progress:"è¿åº¦",operate:"æä½",uploadStart:"å¼å§ä¸ä¼ ",uploadPause:"æåä¸ä¼ ",uploadContinue:"ç»§ç»­ä¸ä¼ ",uploadPaused:"æåä¸­",preview:"é¢è§",replace:"æ¿æ¢",delete:"å é¤",modifyFileName:"ä¿®æ¹æä»¶å",pleaseInputFileName:"è¯·è¾å¥æä»¶å",confirmDeleteThat:"ç¡®è®¤è¦å é¤%såï¼",uploadExceedSizeLimit:"æææä»¶æ»å¤§å°è¶è¿%s",uploadTypeDenied:"è¯·éæ©ææçæä»¶",uploadTypeDeniedDetail:"ä»æ¯ææ ¼å¼ä¸º%sçæä»¶",uploadExceedSize:"æä»¶å¤§å°è¶è¿%s",uploadDuplicate:"éæ©çæä»¶éå¤",uploadExceedNumLimit:"åæ¬¡æå¤åè®¸éæ©%sä¸ªæä»¶",unknownError:"æªç¥éè¯¯",serverError:"æå¡å¨éè¯¯",httpError:"HTTPè¯·æ±éè¯¯",httpTimeout:"è¯·æ±è¶æ¶",httpAbort:"è¯·æ±è¢«ä¸­æ­",uploadTipSelected:"å±%sä¸ªæä»¶ï¼åè®¡%s",uploadTipSuccess:"å±%sä¸ªæä»¶ï¼å·²ä¸ä¼ %sä¸ªæä»¶",uploadTipComplete:"å±%sä¸ªæä»¶ï¼å·²ä¸ä¼ %sä¸ªï¼å¤±è´¥%sä¸ª"},((h.locale||{}).plugin||{}).upload||{})};var a=function(e){this.isInit=false;this.api=e;this.$template=null;this.$input=null;this.init()};a.prototype={init:function(){var r=this;var a=r.api;var o=a.options;if(r.isInit)return;r.isInit=true;r.$template=f(v.SINGLE_TEMPLATE).addClass(o.className);var e=g(r.$template,"input");if(a.isInput){r.$input=a.$element;a.$element.after(r.$template)}else{r.$input=f('<input type="text"/>');a.$element.html(r.$template)}r.$input.val(o.value).attr("name",o.name||"").addClass("form-control");r.setPlaceholder(o.placeholder);e.after(r.$input);e.remove();r.$inputGroup=g(r.$template,"input-group");r.$uploadBtn=g(r.$template,"upload-btn");r.$selectBtn=g(r.$template,"select-btn");r.$wait=g(r.$template,"wait");r.$close=g(r.$template,"close");r.$item=g(r.$template,"item");r.$thumbBox=g(r.$template,"thumb-box");r.$thumbImg=g(r.$template,"thumb-img");r.$title=g(r.$template,"title");r.$progress=g(r.$template,"progress");r.$speed=g(r.$template,"speed");r.$fileSize=g(r.$template,"file-size");r.$status=g(r.$template,"status");r.$preview=g(r.$template,"preview");r.$toolbar=g(r.$template,"toolbar");r.$operateBtn=g(r.$template,"operate-btn").html(o.locale.uploadStart);r.closeTimer=null;if(o.singleSize)r.setSize(o.singleSize);if(!o.singleInput)r.showInput(false);r.$operateBtn.on("click",function(){if(f(this).hasClass("disabled"))return;r.setOperateDisabled(true);a.uploader.upload()});a._initUploader(r.$uploadBtn,r.$template,r.$selectBtn,false);a.$element.on(h.e.uploadFileError,function(e,t,i,n){t.reset();h.dialog.toastError(n)}).on(h.e.uploadReset,function(){r.setDisabled(false)}).on(h.e.uploadFileQueued,function(e,t,i){r.$thumbImg.attr("src","");t.makeThumb(i,function(e,t){if(e)r.$thumbBox.hide();else{r.$thumbImg.attr("src",t);r.$thumbBox.show()}},60,60);r.$close.show().off("click").on("click",function(){t.removeFile(i,true)});r.$title.html(i.name);r.$speed.html("0%");r.$fileSize.html(a.formatSize(i.size));r.$progress.removeClass("progress-bar-danger").addClass("progress-bar-success").css("width","0%");r.setStatus(o.locale.uploadWait,"gray",true,false);r.setOperateDisabled(false);o.auto?r.$toolbar.hide():r.$toolbar.show();r.$wait.show()}).on(h.e.uploadFileDequeued,function(e,t){t.reset();r.setStatus(o.locale.uploadCanceled,"gray",false);r.setOperateDisabled(true)}).on(h.e.uploadProgress,function(e,t,i,n){var a=(n*100).toFixed(2)+"%";r.$progress.css("width",a);r.$speed.text(a);r.setStatus(o.locale.uploadLoading,"gray",true,false)}).on(h.e.uploadComplete,function(e,t){t.reset()}).on(h.e.uploadError,function(e,t,i,n){r.setStatus(a._parseServerError(n),"danger",false)}).on(h.e.uploadSuccess,function(e,t,i,n){r.setStatus(o.locale.uploadSuccess,"success",true);r.setValue(n.file_url)});a.uploader.on("beforeFileQueued",function(e){r.setDisabled(true);return true});r.inputTimer=null;r.$input.off("input").on("input",function(e){var t=r.$input.val();a._triggerChange(t);clearTimeout(r.inputTimer);if(e.mustPreview)r.showPreview(t);else r.inputTimer=setTimeout(function(){r.showPreview(t)},500)}).trigger(f.Event("input",{mustPreview:true}));r.$input.on(h.e.verifyErrorPlacement,function(e,t){r.$template.after(t);return false});r.setDisabled(o.disabled)},setValue:function(e){this.api.options.value=e;this.$input.val(e).trigger(f.Event("input",{mustPreview:true})).trigger("change")},showInput:function(e){if(!e){this.$template.addClass("no-input");this.$input.hide()}else{this.$template.removeClass("no-input");this.$input.show()}},setSize:function(e){if(e){this.setSize("");this.$inputGroup.addClass("input-group-"+e)}else this.$inputGroup.removeClass("input-group-xs input-group-sm input-group-lg");if(this.api.uploader)this.api.uploader.refresh()},setPlaceholder:function(e){this.$input.attr("placeholder",e)},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=e[0];this.setValue(t.url);this.api._triggerResult(t,false)},setPreview:function(e){this.api.options.singlePreview=e;this.showPreview(this.api.options.value)},setPreviewSize:function(e){this.api.options.singlePreviewSize=e;this.showPreview(this.api.options.value)},showPreview:function(t){var i=this;var e=i.api;t=(t||"").trim();if(t.length===0||!e.options.singlePreview){i.$preview.empty().hide();return}var n=e.options.singlePreviewSize||"";var a,r,o;if(!f.isArray(n))n=n.split(",");a=n[0]||"";r=n[1]||"";if(a&&f.isNumeric(a)&&a>0)a+="px";if(r&&f.isNumeric(r)&&a>0)r+="px";i.$delete=f('<a class="trash">&times;</a>');i.$delete.on("click",function(){i.$input.val("").trigger(f.Event("input",{mustPreview:true})).trigger("change");i.api._triggerResult(null)});i.$preview.removeClass("upload-preview-image upload-preview-video upload-preview-audio upload-preview-file");e._previewHandler(t,function(){i.$preview.addClass("upload-preview-image").html(o=f('<img src="'+t+'" class="img-thumbnail cursor-zoom-in" data-title="false"/>'));if(a)o.width(a);else o.width(100);if(r)o.height(r);o.css("object-fit",e.options.objectFit);o.busyAdminImageViewer();i.$preview.append(i.$delete);i.$preview.show()},function(){i.$preview.addClass("upload-preview-video").html(o=f('<video><source src="'+t+'"/></video>'));if(a)o.width(a);else o.width(100);if(r)o.height(r);else o.height(100);o.css("object-fit",e.options.objectFit);o.busyAdminVideoViewer();i.$preview.append(i.$delete);i.$preview.show()},function(){i.$preview.addClass("upload-preview-audio").html(o=f('<audio src="'+t+'" preload="auto"></audio>'));o.busyAdminAudio();i.$preview.append(i.$delete);i.$preview.show()},function(){var e=h.helper.parseURL(t);i.$preview.addClass("upload-preview-file").html(o=f('<div class="text-line-1"><i class="fa fa-file-o"></i><span>'+e.filename+"</span></div>"));o.append(i.$delete);i.$preview.show()})},setStatus:function(e,t,i,n){var a=this;clearTimeout(a.closeTimer);a.$status.html('<span class="text-'+t+'">'+e+"</span>");var r;if(!i){a.$progress.removeClass("progress-bar-success").addClass("progress-bar-danger");r=3e3}else r=1500;n=n===undefined?true:n;if(n){a.$close.hide();a.closeTimer=setTimeout(function(){a.$wait.fadeOut()},r)}else a.$close.show()},setDisabled:function(e){var t=this;t.api._changeDisabled(e);t.$input.prop("readonly",e);t.$preview.toggleClass("disabled",e)},setOperateDisabled:function(e){if(e)this.$operateBtn.prop("disabled",true).removeClass("btn-success").addClass("disabled btn-default");else this.$operateBtn.prop("disabled",false).removeClass("disabled btn-default").addClass("btn-success")},destroy:function(){var e=this;if(e.api.$element[0].tagName==="INPUT"){e.$template.before(e.api.$element);e.$template.remove()}else e.api.$element.empty();e.isInit=false}};var r=function(e){this.api=e;this.uploadInProgress=false;this.fileTotal=0;this.fileSize=0;this.successIndex=0;this.successList={};this.sortable=null;this.addSuccessFileTimer=null;this.init()};r.prototype={init:function(){var a=this;var r=a.api;var e=r.options;a.$template=f(v.FILES_TEMPLATE).addClass(e.className);a.$uploadBtn=g(a.$template,"upload-btn").addClass(e.uploadClass);a.$selectBtn=g(a.$template,"select-btn").addClass(e.selectClass);a.$fileQueueContainer=g(a.$template,"file-queue-container").hide();a.$fileResultContainer=g(a.$template,"file-result-container").hide();a.$imageQueueContainer=g(a.$template,"image-queue-container").hide();a.$imageResultContainer=g(a.$template,"image-result-container").hide();a.$queueContainer=null;a.$resultContainer=null;if(r.fileConfig.type==="image"){a.$waitEmpty=f(v.FILES_TEMPLATE_IMAGE_QUEUE_EMPTY);a.$queueContainer=a.$imageQueueContainer.show();a.$resultContainer=a.$imageResultContainer}else{a.$waitEmpty=f(v.FILES_TEMPLATE_FILE_QUEUE_EMPTY);a.$queueContainer=a.$fileQueueContainer.show();a.$resultContainer=a.$fileResultContainer;g(a.$template,"locale-filename").html(e.locale.filename);g(a.$template,"locale-fileSize").html(e.locale.fileSize);g(a.$template,"locale-progress").html(e.locale.progress);g(a.$template,"locale-operate").html(e.locale.operate)}a.$queueList=g(a.$queueContainer,"queue-list").addClass("no-list");a.$toolbar=g(a.$queueContainer,"toolbar");a.$operateBtn=g(a.$queueContainer,"operate-btn").html(e.locale.uploadStart);a.$tip=g(a.$queueContainer,"tip");a.$resultList=g(a.$resultContainer,"result-list").addClass("no-list");a.$waitMessage=g(a.$waitEmpty,"message");if(r.isInput){a.$input=r.$element;r.$element.after(a.$template)}else{a.$input=f('<input type="text" name="'+e.name+'"/>');r.$element.html(a.$template).append(a.$input)}a.$input.addClass("input-hidden");if(e.auto)a.$toolbar.hide();r._initUploader(a.$uploadBtn,a.$template,a.$selectBtn,true);a.setOperateDisabled(true);a.$operateBtn.on("click",function(){if(f(this).hasClass("disabled"))return;if(a.uploadInProgress){a.uploadInProgress=false;r.uploader.stop()}else{a.uploadInProgress=true;r.uploader.upload()}});r.$element.on(h.e.uploadFileError,function(e,t,i,n){if(i){a.addFile(i);a.setFileStatus(i,n,"danger",false,false,true)}else h.dialog.toastError(n)}).on(h.e.uploadReset,function(){a.setDisabled(false);a.uploadInProgress=false;a.$operateBtn.html(e.locale.uploadStart);a.setOperateDisabled(true);a.setTip(true)}).on(h.e.uploadFileQueued,function(e,t,i){a.fileSize+=i.size;a.fileTotal+=1;a.addFile(i);a.setFileStatus(i,a.api.options.locale.uploadWait,"gray",false,true,false);a.setOperateDisabled(false);a.setTip(false)}).on(h.e.uploadBegin,function(){a.setDisabled(true);a.$operateBtn.html(e.locale.uploadPause).removeClass("btn-warning btn-default").addClass("btn-success")}).on(h.e.uploadStop,function(){a.$operateBtn.html(e.locale.uploadContinue).removeClass("btn-success btn-default").addClass("btn-warning")}).on(h.e.uploadStart,function(e,t,i){i.$status.hide();i.$progressBar.show()}).on(h.e.uploadFinished,function(e,t){t.reset()}).on(h.e.uploadProgress,function(e,t,i,n){i.$progress.css("width",(n*100).toFixed(2)+"%")}).on(h.e.uploadError,function(e,t,i,n){a.setTip(false);a.setFileStatus(i,r._parseServerError(n),"danger",false,false,true)}).on(h.e.uploadSuccess,function(e,t,i,n){a.setTip(false);a.setFileStatus(i,r.options.locale.uploadSuccess,"success",true,false,true);a.addSuccessFile(n.file_url,n.name,n.file_size||0,n.file_id)});a.$input.on(h.e.verifyErrorPlacement,function(e,t){a.$template.after(t);return false});a.setUi(e.filesUi);a.setPlaceholder(e.placeholder);a.setDisabled(e.disabled)},parseValue:function(t){var i=[];if(f.isArray(t))i=t;else if(typeof t==="string")try{i=JSON.parse(t);if(!f.isArray(i))throw new Error("")}catch(e){i=[];t.split(",").map(function(e,t){e=e.trim();if(e.length>0)i.push({url:e})})}return i},setPlaceholder:function(e){this.$waitMessage.html(e)},setUi:function(e){let t=this;let i=t.api.options;i.filesUi=e;t.$resultList.empty();t.$queueList.empty();if(e=="result")t.$resultList.html(t.$waitEmpty);else t.$queueList.html(t.$waitEmpty);t.successList={};t.successIndex=0;t.parseValue(i.value).map(function(e){t.addSuccessFile(e.url,e.name,e.size,e.id)});t.displayWaitEmpty()},setValue:function(e){this.api.options.value=e;this.setUi(this.api.options.filesUi)},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=this;f.map(e,function(e){t.addSuccessFile(e.url,e.name,e.size,e.id);t.api._triggerResult(e,false)})},addSuccessFile:function(e,t,i,n,a){var r=this;var o=r.api;var s=o.options;var l=s.locale;var c={};var d=function(){var e=[];for(var t in r.successList)e.push(r.successList[t].data);e.sort(function(e,t){return e.sort-t.sort});var i=e.length==0?"":JSON.stringify(e);r.$input.val(i).trigger("change").trigger("input");o._triggerChange(i);r.displayWaitEmpty()};var u=function(){if(c.previewType)switch(c.previewType){case"image":c.$preview.busyAdminImageViewer("destroy");break;case"video":c.$preview.busyAdminVideoViewer("destroy");break;case"audio":c.$preview.busyAdminAudioViewer("destroy");break;case"file":c.$preview.removeAttr("href").removeAttr("target");break}r.api._previewHandler(c.data.url,function(){c.previewType="image";c.$preview.busyAdminImageViewer({src:c.data.url,alt:c.data.name})},function(){c.previewType="video";c.$preview.busyAdminVideoViewer({src:c.data.url})},function(){c.previewType="audio";c.$preview.busyAdminAudioViewer({src:c.data.url})},function(){c.previewType="file";c.$preview.attr("href",c.data.url).attr("target","_blank")})};t=(t||"").trim();if(t.length===0)t=e.substring(e.lastIndexOf("/")+1);c.data={url:e||"",name:t,size:i||0,id:n||"",sort:a||r.successIndex};switch(o.fileConfig.type){case"image":c.$item=f(v.FILES_TEMPLATE_IMAGE_RESULT_ITEM);if(s.filesImageWidth>0)c.$item.width(s.filesImageWidth);c.$thumb=g(c.$item,"thumb").attr("src",e).attr("data-src",e).attr("alt",t).css("background-image","url("+e+")").css("background-size",s.objectFit).on("error",function(){f(this).addClass("error")});break;default:c.$item=f(v.FILES_TEMPLATE_FILE_RESULT_ITEM)}c.$item.attr("data-index",r.successIndex).attr("data-upload-id","item");c.$delete=g(c.$item,"delete").attr("title",l.delete).attr("data-index",r.successIndex);c.$preview=g(c.$item,"preview").attr("title",l.preview).attr("data-index",r.successIndex);c.$replace=g(c.$item,"replace").attr("title",l.replace).attr("data-index",r.successIndex);c.$name=g(c.$item,"name").attr("title",l.modifyFileName).attr("data-index",r.successIndex).html(t);c.$size=g(c.$item,"size").attr("data-index",r.successIndex).html(o.formatSize(i));c.index=r.successIndex;r.successList[r.successIndex]=c;r.successIndex++;if(s.filesEditFilename)c.$name.on("click",function(){h.dialog.prompt(l.modifyFileName,c.data.name,"text",function(e){e=(e||"").trim();if(e.length===0){h.dialog.toast(l.pleaseInputFileName);return false}c.data.name=e;c.$name.html(e);d()})});c.$delete.on("click",function(){h.dialog.confirm(h.helper.sprintf(l.confirmDeleteThat,"<code>"+c.data.name+"</code>"),function(){c.$item.remove();delete r.successList[c.index];d()})});c.$replace.on("click",function(){f(this).busyAdminFilePicker({classType:s.classType,classValue:s.classValue,title:h.helper.sprintf(l.replaceFile,o.fileConfig.name),multiple:false,extensions:o.fileConfig.suffix,success:function(e){if(e.length<=0)return;var t=e[0];c.$name.html(t.name);c.$size.html(o.formatSize(i));if(c.$thumb)c.$thumb.removeClass("error").attr("src",t.url).attr("data-src",t.url).attr("alt",t.name).css("background-image","url("+t.url+")");c.data.url=t.url;c.data.name=t.name;c.data.size=t.size;c.data.id=t.id;u();d()}})});u();var p=[c.$delete,c.$preview,c.$replace];if(s.filesEditFilename)p.push(c.$name);f(p).tooltip({container:r.$template,trigger:"hover"});i>0?c.$size.show():c.$size.hide();r.$resultList.append(c.$item);clearTimeout(r.addSuccessFileTimer);r.addSuccessFileTimer=setTimeout(function(){d();if(this.sortable)this.sortable.destroy();r.sortable=new m(r.$resultList[0],{animation:150,onEnd:function(){g(r.$resultList,"item").each(function(e){r.successList[f(this).data("index")].data.sort=e});d()}})},10)},setImageWidth:function(e){this.api.options.filesImageWidth=e;this.setUi(this.api.options.filesUi)},addFile:function(i){var n=this;var a=n.api;var r=n.api.options.locale;if(a.fileConfig.type==="image"){i.$item=f(v.FILES_TEMPLATE_IMAGE_QUEUE_ITEM);if(a.options.filesImageWidth>0)i.$item.width(a.options.filesImageWidth);i.$thumb=g(i.$item,"thumb");i.$toolbar=g(i.$item,"toolbar");i.rotation=0;i.$thumb.attr("src","");a.uploader.makeThumb(i,function(e,t){if(e);else i.$thumb.attr("src",t)},150,150)}else i.$item=f(v.FILES_TEMPLATE_FILE_QUEUE_ITEM);i.$item.attr("data-upload-id","wait-item");i.$name=g(i.$item,"name");i.$size=g(i.$item,"size");i.$progressBar=g(i.$item,"progress-bar");i.$progress=g(i.$item,"progress");i.$delete=g(i.$item,"delete");i.$status=g(i.$item,"status");i.$name.html(i.name);i.$size.html(n.api.formatSize(i.size));i.$progress.css("width","0%");i.$delete.on("click",function(){i.isDelete=true;a.uploader.removeFile(i,true)});i.on("statuschange",function(e,t){switch(e){case"error":n.setFileStatus(this,a._parseServerError(this.statusText),"danger",false,false,true);break;case"invalid":n.setFileStatus(this,a._parseCodeError(this.statusText),"danger",false,false,true);break;case"interrupt":n.setFileStatus(this,r.uploadPaused,"warning",false,true,false);break;case"cancelled":n.fileTotal-=1;n.fileSize-=i.size;n.setTip(false);n.setFileStatus(this,r.uploadCanceled,"danger",false,false,true);break}});n.$queueList.append(i.$item);n.displayWaitEmpty()},setFileStatus:function(e,t,i,n,a,r){var o=this;e.$progressBar.hide();e.$status.html('<span class="text-'+i+'">'+t+"</span>").show();a?e.$delete.show():e.$delete.hide();clearTimeout(e.closeTimer);if(r)e.closeTimer=setTimeout(function(){e.$item.fadeOut(function(){e.$item.remove();o.displayWaitEmpty()})},n?1500:2500)},displayWaitEmpty:function(){var e=this;var t=e.api.options.filesUi;var i=0;for(var n in e.successList)i++;e.$resultContainer.removeClass("only-result").show();e.$resultList.removeClass("no-list");e.$queueList.removeClass("no-list");e.$queueContainer.show();switch(t){case"result":if(g(e.$queueList,"wait-item").length===0){e.$queueContainer.hide();e.$resultContainer.addClass("only-result")}else{e.$queueContainer.show();e.$resultContainer.removeClass("only-result")}if(i==0){e.$waitEmpty.show();e.$resultList.addClass("no-list");e.$resultContainer.show()}else{e.$waitEmpty.hide();e.$resultList.removeClass("no-list");e.$resultContainer.show()}break;default:if(t=="queue")e.$resultContainer.hide();else if(i==0)e.$resultContainer.hide();else e.$resultContainer.show();if(g(e.$queueList,"wait-item").length===0){e.$waitEmpty.show();e.$queueList.addClass("no-list")}else{e.$waitEmpty.hide();e.$queueList.removeClass("no-list")}}},setTip:function(e){var t=this;var i=t.api;var n=i.options.locale;clearTimeout(t.tipTimer);if(e){t.tipTimer=setTimeout(function(){t.$tip.fadeOut()},2500);t.fileTotal=0;t.fileSize=0}else{var a=i.uploader.getStats();if(a.uploadFailNum>0)t.$tip.html(h.helper.sprintf(n.uploadTipComplete,"<code>"+t.fileTotal+"</code>","<code>"+a.successNum+"</code>","<code>"+a.uploadFailNum+"</code>"));else if(a.successNum>0)t.$tip.html(h.helper.sprintf(n.uploadTipSuccess,"<code>"+t.fileTotal+"</code>","<code>"+a.successNum+"</code>"));else t.$tip.html(h.helper.sprintf(n.uploadTipSelected,"<code>"+t.fileTotal+"</code>","<code>"+i.formatSize(t.fileSize)+"</code>")).show();if(t.fileTotal===0){t.setOperateDisabled(true);t.setTip(true)}}},setOperateDisabled:function(e){if(e)this.$operateBtn.prop("disabled",true).removeClass("btn-success btn-warning").addClass("disabled btn-default");else this.$operateBtn.prop("disabled",false).removeClass("disabled btn-default").addClass("btn-success")},setDisabled:function(e){this.$resultList.toggleClass("disabled",e);this.api._changeDisabled(e)},destroy:function(){var e=this;e.$template.remove();if(e.api.isInput)e.api.$element.removeClass("input-hidden");else e.$input.remove()}};var o=function(e){this.api=e;this.init()};o.prototype={init:function(){var a=this;var e=a.api;var r=e.options;var t=e.$element.outerWidth();var i=e.$element.outerHeight();a.$template=f(v.CARD_TEMPLATE).addClass(r.className);a.$toolbar=g(a.$template,"toolbar");a.$uploadBtn=g(a.$template,"upload-btn").addClass(r.uploadClass);a.$uploadBtn2=g(a.$template,"upload-btn2");a.$selectBtn=g(a.$template,"select-btn").addClass(r.selectClass);a.$block=g(a.$template,"block");a.$icon=g(a.$template,"icon").addClass(r.cardIcon);a.$preview=g(a.$template,"preview").hide();a.$progress=g(a.$template,"progress").hide();a.$speed=g(a.$template,"speed");a.$delete=g(a.$template,"remove-btn");if(e.options.cardType==="circle")a.$template.addClass("upload-card-type-circle");if(e.isInput){a.$input=e.$element;e.$element.after(a.$template)}else{a.$input=f('<input type="text" name="'+r.name+'"/>');e.$element.html(a.$template).append(a.$input)}a.$input.addClass("input-hidden").on(h.e.verifyErrorPlacement,function(e,t){a.$template.after(t);return false});a.$delete.on("click",function(){a.showPreview("")});a.setSize(t,i);r.auto=true;e._initUploader(a.$uploadBtn,a.$template,a.$selectBtn,false);a.$toolbar.hide();e.uploader.addButton({id:a.$uploadBtn2,multiple:false}).then(function(){a.$placeholder=g(a.$template,"placeholder");a.$icon=g(a.$template,"icon");a.setPlaceholder(r.placeholder)});e.$element.on(h.e.uploadFileError,function(e,t,i,n){t.reset();h.dialog.toastError(n)}).on(h.e.uploadReset,function(){a.setDisabled(false);a.$progress.hide()}).on(h.e.uploadFileQueued,function(){a.$speed.html("0%");a.$progress.show()}).on(h.e.uploadProgress,function(e,t,i,n){a.$speed.html((n*100).toFixed(2)+"%")}).on(h.e.uploadComplete,function(e,t){t.reset()}).on(h.e.uploadError,function(e,t,i,n){h.dialog.toastError(n)}).on(h.e.uploadSuccess,function(e,t,i,n){h.dialog.toastSuccess(r.locale.uploadSuccess);a.setValue(n.file_url)});e.uploader.on("beforeFileQueued",function(e){a.setDisabled(true);return true});a.setValue(r.value);a.setDisabled(r.disabled)},setSize:function(e,t){t=t<=0?e:t;var i=t/e*100;this.api.$element.outerWidth(e).outerWidth(t);this.$template.outerWidth(e).outerHeight(t);this.$block.css({width:"100%",paddingBottom:i+"%"});if(this.api.uploader)this.api.uploader.refresh()},setIcon:function(e){this.$icon.removeAttr("class").addClass(e)},setValue:function(e){this.api.options.value=e;this.showPreview(e)},setPlaceholder:function(e){this.$placeholder.html(e)},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=e[0];this.showPreview(t.url);this.api._triggerResult(t,false)},showPreview:function(e){var t=this;var i=t.api;var n;e=(e||"").trim();t.$input.val(e).trigger("change").trigger("input");i._triggerChange(e);if(e.length===0){t.$preview.empty().hide();t.$delete.hide();return}i._previewHandler(e,function(){t.$preview.html(n=f('<img src="'+e+'" data-title="false" class="cursor-zoom-in"/>')).show();n.busyAdminImageViewer()},function(){t.$preview.html(n=f('<video><source src="'+e+'"/></video>')).show();n.busyAdminVideoViewer({size:false})});if(n)n.css("object-fit",i.options.objectFit);t.$delete.show()},setDisabled:function(e){this.api._changeDisabled(e);this.$template.toggleClass("disabled",e)},destroy:function(){var e=this;e.$template.remove();if(e.api.isInput)e.$input.removeClass("input-hidden");else e.$input.remove()}};var c=function(e){this.api=e;this.pending=null;this.init()};function t(i){var n;var a="busy.admin.upload.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=f(this);var t=e.data(a);if(!t)e.data(a,t=new v(this,typeof i==="object"&&i));if(typeof i==="string"){if(i==="destroy"){e.removeAttr("data-toggle");e.removeAttr("busy-upload");e.removeData(a)}if(typeof t[i]==="function")n=t[i].apply(t,r);else if(typeof t.module[i]==="function")n=t.module[i].apply(t.module,r)}});if(typeof i==="string")return n;return this}return c.prototype={init:function(){var a=this,r=a.api,o=r.options;o.upload=!0,o.select=!0,a.$uploadBtn=f(r.element),a.$selectBtn=null,o.useSelect&&(a.$selectBtn=f(o.useSelect)),a.$dnd=null,o.useDnd&&(a.$dnd=f(o.useDnd),o.dnd=!0),r._initUploader(a.$uploadBtn,a.$dnd,a.$selectBtn,!1),r.$element.on(h.e.uploadFileError,function(e,t,i,n){t.reset(),o.useError||h.dialog.toastError(n)}).on(h.e.uploadReset,function(){a.setDisabled(!1),a.pending&&a.pending.close()}).on(h.e.uploadFileQueued,function(){o.useProgress||(a.pending=h.dialog.pending("0%"))}).on(h.e.uploadProgress,function(e,t,i,n){a.pending&&a.pending.update((100*n).toFixed(2)+"%")}).on(h.e.uploadComplete,function(e,t){t.reset()}).on(h.e.uploadError,function(e,t,i,n){o.useError||h.dialog.toastError(n)}).on(h.e.uploadSuccess,function(e,t,i,n){r._triggerResult(n,!0),r._triggerChange(n.file_url)}),r.uploader.on("beforeFileQueued",function(e){return a.setDisabled(!0),!0}),a.setDisabled(o.disabled)},setSelectFiles:function(e){(e=e||[]).length<=0||(this.api._triggerResult(e[0],!1),this.api._triggerChange(e[0].url))},setDisabled:function(e){this.api._changeDisabled(e)},destroy:function(){}},f.fn.busyAdminUpload=t,f.fn.busyAdminUpload.Constructor=v,h.plugins.Upload=v,f.extend(h.e,{uploadReady:h.ee("ready","upload"),uploadFileError:h.ee("file-error","upload"),uploadFileQueued:h.ee("file-queued","upload"),uploadFilesQueued:h.ee("files-queued","upload"),uploadFileDequeued:h.ee("files-dequeued","upload"),uploadBegin:h.ee("begin","upload"),uploadStop:h.ee("stop","upload"),uploadFinished:h.ee("finished","upload"),uploadStart:h.ee("start","upload"),uploadComplete:h.ee("complete","upload"),uploadProgress:h.ee("progress","upload"),uploadSuccess:h.ee("success","upload"),uploadError:h.ee("error","upload"),uploadReset:h.ee("reset","upload"),uploadResult:h.ee("result","upload"),uploadChange:h.ee("change","upload")}),h.autoInit('[data-toggle="busy-upload"],[busy-upload]',function(){t.call(this)}),v})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/videoViewer",[e.sys.core,e.sys.jquery],function(r,o){var s=null,l=function(e,t){var i=this;i.element=e;i.$element=o(e);i.$template=null;i.options=o.extend(true,{},l.DEFAULTS,i.$element.data()||{},t||{});i.api=null;i.sources={};i.ready(i.init)};function e(i){var n;var a="busy.admin.video-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof i==="object"&&i));if(typeof i==="string")n=t[i].apply(t,r)});if(typeof i==="string")return n;return this}return l.prototype={ready:function(t){var i=this;s?t.call(i):require([r.lib.video],function(e){s=e,t.call(i)})},init:function(){var e,t,i,n=this;n.isInit||(n.isInit=!0,n.isVideo=!1,"video"===n.element.tagName.toLowerCase()?(i=n.$element.attr("src"),t=n.$element.attr("type"),e=n.$element.attr("poster"),t=t||"-",i&&(n.sources[t]=i),n.isVideo=!0,n.$element.find("source").each(function(){var e=o(this),t=e.attr("src"),e=(e=e.attr("mime"))||"-";t&&(n.sources[e]=t)}),i=o('<div class="busy-video-viewer"/>'),n.options.size&&i.css({width:n.$element.outerWidth(!0),height:n.$element.outerHeight(!0)}),n.$element.wrap(i),n.$template=n.$element.parent(),n.$template.append('<div class="player fa fa-play-circle fa-3x"/>'),n.$template.off("click").on("click",function(){n.show()})):n.options.clickHandler&&n.$element.off("click").on("click",function(){n.show()}),n.options.mp4&&(n.sources["video/mp4"]=n.options.mp4),n.options.webm&&(n.sources["video/webm"]=n.options.webm),n.options.ogv&&(n.sources["video/ogg"]=n.options.webm),n.options.src&&(n.sources["-"]=n.options.src),!n.options.poster&&e&&(n.options.poster=e),r.helper.triggerPluginReady(n.$element,"VideoViewer",n))},show:function(){var e,t,n=this,i="";for(t in n.sources)i+='<source src="'+n.sources[t]+'" type="'+("-"===t?"":t)+'" />';e='<div class="busy-video-viewer-dialog-content">                    <video class="video-js">_source_</video>                </div>'.replace("_source_",i);var a=layer.open({title:!1,type:1,skin:"busy-video-viewer-dialog",scrollbar:!1,content:e,success:function(e,t){var i=e.find(".busy-video-viewer-dialog-content");layer.area(t,i.width(),i.height()),this.offset();e=e.find("video");s(e[0],{controls:!0,preload:!0,muted:n.options.muted,poster:n.options.poster},function(){n.options.autoplay&&this.play()})}});o(document).on(r.e.appRenderBefore,function(){layer.close(a)})},destroy:function(){this.isInit&&(this.isInit=!0,this.isVideo?(this.$template.off("click"),this.$template.after(this.$element),this.$template.remove()):this.options.clickHandler&&this.$element.off("click"))}},l.DEFAULTS={src:"",mp4:"",webm:"",ogv:"",autoplay:!0,muted:!1,poster:"",size:!0,clickHandler:!0},o.fn.busyAdminVideoViewer=e,o.fn.busyAdminVideoViewer.Constructor=l,r.plugins.VideoViewer=l,r.autoInit('[data-toggle="busy-video-viewer"],[busy-video-viewer]',function(){e.call(this)}),l})}(),function(t,a){function e(){return a.getConfig("watermark",{})}function i(){this.options=e(),this.ready(this.init)}var r,o,n=a.helper.int,s=a.helper.float;function l(e){e=e||{};var t=a.app;t.isLogin()&&e.status?(t.watermark||(t.watermark=new i),t.watermark.ready(function(){this.create(e)})):t.watermark&&t.watermark.ready(function(){this.cancel()})}i.prototype={ready:function(i){var n=this;r&&o?"function"==typeof i&&i.call(n):require([a.lib.gwm,a.lib.moment],function(e,t){r=e,o=t,"function"==typeof i&&i.call(n)})},init:function(){},create:function(e){e=t.extend({},this.options,e||{});e.txt=(e.txt||"").replace(/\{username\}/g,a.app.getUsername()),e.txt=e.txt.replace(/\{time\}/g,o().format(e.timeFormat||"YYYY-MM-DD HH:ii:ss")),r.creation({mode:"svg",watch:!0,fontSize:e.fontSize,color:e.color,font:e.font||"sans-serif",alpha:s(e.alpha||0),angle:n(e.angle||0),imageWidth:n(e.imageWidth||0),imageHeight:n(e.imageHeight||0),imageX:n(e.imageX||0),imageY:n(e.imageY||0),image:e.image||"",width:n(e.width||0),height:n(e.height||0),x:n(e.x||0),y:n(e.y||0),txt:e.txt})},cancel:function(){r.cancel()}},i.create=l,t(document).on(a.e.appReadies,function(){a.plugins.Watermark=i,l(e())}).on(a.e.appReqSuccess,function(){l(e())})}(jQuery,busyAdmin),function(p,h){"use strict";function i(e,t){return e.find('[data-busy-id="'+t+'"]')}function a(e,t){return e.filter('[data-busy-id="'+t+'"]').add(e.find('[data-busy-id="'+t+'"]'))}function r(e){return p.parseHTML(e,document,!0)}function e(){this.$doc=p(document),this.$win=p(window)}e.prototype={start:function(){this.options=p.extend({},e.DEFAULTS,h.getConfig("app")||{}),this._initResponse(),this._initSinglePage(),this.$doc.ready(p.proxy(this.init,this))},ready:function(e){var t=this;t.isInit?"function"==typeof e&&e.call(t):(clearTimeout(t._readyTimer),t._readyTimer=setTimeout(function(){t.ready(e)}))},init:function(){var t=this;t.isInit||(t.$head=p(document.head),t.$body=p(document.body),t.$app=i(t.$body,"app"),t._initApp(),"function"==typeof t.options.runtime&&t.options.runtime.call(this),h.autoInit('[data-toggle="tooltip"],[busy-tooltip]',function(){this.tooltip()}),h.autoInit('[data-toggle="popover"],[busy-popover]',function(){this.popover()}),h.helper.onDomChange(function(){h.autoInitList.map(function(e){e.callback.call(p(e.selector))})}),document.addEventListener("error",function(e){"IMG"===e.target.tagName&&(e._handleError||(e._handleError=!0,e.target.src=t.options.errorImgUrl))},!0),window.addEventListener("beforeunload",function(e){t.trigger(h.e.appBeforeDestroy,[!1,e])},!1),Pace.on("start",function(){t.isFrame&&(clearTimeout(t._paceStartTimer),t._paceStartTimer=setTimeout(function(){t.$barRefreshIcon.addClass("busy-admin-anim-rotate")}))}),Pace.on("done",function(){t.isFrame&&(clearTimeout(t._paceStopTimer),t._paceStopTimer=setTimeout(function(){t.$barRefreshIcon.removeClass("busy-admin-anim-rotate")}))}),t.$win.on("resize",function(){clearTimeout(t._resizeTimer),t._resizeTimer=setTimeout(function(){t._computeMenu()},50)}),t.isInit=!0)},closeSideNav:function(){this.isMobileSize()&&(this.$frame.removeClass("busy-admin-nav-open"),this._changeBarControlIcon(!0),this.triggerResize())},openSideNav:function(){this.isMobileSize()&&(this.$frame.addClass("busy-admin-nav-open"),this._changeBarControlIcon(!1),this.scrollToNav(),this.triggerResize())},setToMiniNav:function(e){var t=this;t.isMobileSize()||t.isMiniNav()||(t.$app.addClass("busy-admin-mini-nav"),t.$left.removeClass("busy-admin-left-open"),t._changeBarControlIcon(!0),t.triggerResize(),t.$left.busyAdminOnTransEnd(!0,function(){t.triggerResize()}),clearTimeout(t._onceMiniNavTimer),t._onceMiniNavTimer=setTimeout(function(){t._onceMiniNav=e},1e3))},setToDefaultNav:function(){var e=this;!e.isMobileSize()&&e.isMiniNav()&&(e.$app.removeClass("busy-admin-mini-nav"),e.$left.removeClass("busy-admin-left-open"),e._changeBarControlIcon(!1),e.scrollToNav(),e.triggerResize(),e.$left.busyAdminOnTransEnd(!0,function(){e.triggerResize()}))},triggerResize:function(){this.$win&&this.$win.trigger("resize")},_changeBarControlIcon:function(e){e?this.$barControlIcon.removeClass("bicon-menu-close").addClass("bicon-menu-open"):this.$barControlIcon.removeClass("bicon-menu-open").addClass("bicon-menu-close")},isMobileSize:function(){return this.$win&&this.$win.width()<=767},_saveNavState:function(e,t){var i;this.options.navSingleHold||((i=this._getNavState())[e]=t,localStorage.setItem("busy.admin.app.nav",JSON.stringify(i)))},_getNavState:function(){return JSON.parse(localStorage.getItem("busy.admin.app.nav")||"{}")},_saveScrollState:function(e){for(var t=JSON.parse(sessionStorage.getItem("busy.admin.app.scroll")||"{}")||{},i=Object.keys(t);i.length>this.options.scrollCacheLength;)delete t[i.shift()];t[document.URL]=e,sessionStorage.setItem("busy.admin.app.scroll",JSON.stringify(t))},_getScrollState:function(){return(JSON.parse(sessionStorage.getItem("busy.admin.app.scroll")||"{}")||{})[document.URL]||0},_initSinglePage:function(){var o=this;o.$doc.on(h.e.appBeforeDestroy,function(){o._saveScrollState(o.$win.scrollTop())}).on(h.e.routeBeforeLeave,function(){o._byClick&&(o._saveScrollState(o.$win.scrollTop()),p("body,html").animate({scrollTop:0}))}).on(h.e.appComplete,function(e){var t,i;o._byClick?o._byClick=!1:(t=o._getScrollState(),(i=window.location.hash)&&(i=decodeURIComponent(i.slice(1)),(i=document.getElementById(i)||document.getElementsByName(i)[0])&&(t=p(i).offset().top)),"number"==typeof t&&0<t&&o.$win.scrollTop(t))}).on("submit","form:not([data-toggle])",function(e){var t=p(this),i=(t.attr("method")||"").trim().toLowerCase(),n=(t.attr("action")||"").trim();if("post"===i)return!0;for(var a=h.formSubmitIgnore||[],r=0;r<a.length;r++){var o=a[r];if("function"==typeof o&&o.call(this,e))return}return n=n||document.URL,h.route.show(h.helper.parseURL(n).path+"?"+t.serialize()),!1}).on("click","a:not([data-toggle])",function(e){var t=h.linkClickIgnore||[],i=p(this);i.data();if(!e.isDefaultPrevented()){for(var n=0;n<t.length;n++){var a=t[n];if("function"==typeof a&&a.call(this,e))return}i=i.attr("href")||"";if("#"===i||0===i.indexOf("javascript:"))return!1;i=h.route.clickHandler(e,!1);return!1!==i?(o._byClick=!0,h.route.show(i),!1):void 0}}),h.route.base(h.root()),h.route("*",function(a,r){o._singleTask&&(o._singleAbort=!0,o._singleTask.abort(),o._singleTask=null),a.init||(o.closeSideNav(),a.hash&&0===a.hash.indexOf("frames!")?o.setNavActive(a.hash.substr(7),"resumeFrames"):(o.$contentMask.addClass("active"),o._singleTask=h.request(h.root()+h.helper.ltrim(a.path,"/")).parse("html").cache(!1).addHeader("Busy-Admin-Plugin","SinglePage").pending(!1).before(function(e,t){if(!1===h.helper.execCallback(null,document,[e,t],o.$doc,h.e.appReqBefore,!0,!1))return!1}).complete(function(e,t,i){if(o._singleTask=null,o.$contentMask.removeClass("active"),!1===h.helper.execCallback(null,document,[e,t,i],o.$doc,h.e.appReqComplete,!0,!1))return!1}).error(function(e,t,i){if(o._singleAbort)return o._singleAbort=!1;if(!1===h.helper.execCallback(null,document,[e,t,i],o.$doc,h.e.appReqError,!0,!1))return!1;var n=p('<div class="iframe-content"/>'),t=p('<iframe src="about:blank"/>');n.html(t),o._renderSinglePage({content:n},a.path);t=t.contents()[0];t.open(),t.write(i.responseText||e.message),t.close(),document.title=t.title}).success(function(t,i,n){return o.responseToHtml(t,function(e){return r(),!1!==h.helper.execCallback(null,document,[t,i,n],o.$doc,h.e.appReqSuccess,!0,!1)&&void o._renderSinglePage(o.extractContainer(e,!0),a.path)}),!1}).exec()))}),h.route({click:!1}),o._oncePluginReadyEvent()},_oncePluginReadyEvent:function(){var a=this,r=h.e.appPluginReady+".busy.single",o=[];a.$doc.off(r).on(r,function(e,t,i,n){o.push({element:t,name:i,target:n}),clearTimeout(a._pluginReadyTimer),a._pluginReadyTimer=setTimeout(function(){a.$doc.off(r),a.trigger(h.e.appComplete,[o])},500)})},_renderSinglePage:function(e,t){var i=this,n=i.getPath(t),t=[e,t,n];if(!1!==h.helper.execCallback(null,document,t,i.$doc,h.e.appRenderBefore,!0,!1)){if(p.contains(i.$contentBody,document.activeElement))try{document.activeElement.blur()}catch(e){}i._oncePluginReadyEvent(),h.data={},document.title=e.title||"",i.$contentIframes.removeClass("active"),i.$contentBody.removeClass("hide"),e.init?(i.$app.html(e.init),i._initApp(),i.isFrame&&i.setNavActive(n,"renderPage")):(i.options.multiPage||i.$contentHeader.html(e.contentHeader||""),i.$contentBody.html(e.content||""),i.setNavActive(n,"renderPage"));n=i.$contentBody.find("input[autofocus], textarea[autofocus]").last()[0];n&&document.activeElement!==n&&n.focus(),i.trigger(h.e.appRenderSuccess,t),h.helper.triggerPluginReady(i.$element,"App",i)}},getPath:function(e){-1===(e=e||document.URL).indexOf("://")&&(e="/"+h.helper.ltrim(e,"/"));var t=h.root(),e=h.helper.parseURL(e),e=0===e.pathNoSuffix.indexOf(t)?e.pathNoSuffix.substring(t.length):e.pathNoSuffix;return h.helper.snake(h.helper.ltrim(e,"/"))},setNavActive:function(e,t){var i=this;i.isMiniNav()&&i._onceMiniNav&&i.setToDefaultNav(),i._onceMiniNav=!1;var n=i.$nav.find('[data-path="'+e+'"]');if(0===n.length&&(n=i.$nav.find('[data-hide-path="'+e+'"]').parent()),0<n.length)return n.trigger(p.Event("click",{triggerFrom:t||"setNavActive"})),void i.scrollToNav();i.$nav.find(".active").removeClass("active"),i.data&&i.$headerMenu.find('[data-path="'+i.data.menu_default+'"]').trigger("click")},scrollToNav:function(){var e,t=this.$nav.find(".is-action.active");t.length&&(e=t.offset().top-this.$nav.offset().top+this.$nav.scrollTop(),t=(this.$nav.height()-t.height())/2,this.$nav.stop().animate({scrollTop:e-t}))},_initApp:function(){var e,u=this;if(u.currentPath=u.getPath(document.URL),u.$frame=i(u.$app,"frame"),u.$header=i(u.$app,"header"),u.$headerLeft=i(u.$header,"header-left"),u.$headerRight=i(u.$header,"header-right"),u.$headerMenu=i(u.$headerRight,"menu"),u.$headerBarLeft=i(u.$headerRight,"bar-left"),u.$headerBarRight=i(u.$headerRight,"bar-right"),u.$left=i(u.$app,"left"),u.$nav=i(u.$app,"nav"),u.$navChild=i(u.$app,"nav-child"),u.$content=i(u.$app,"content"),u.$contentHeader=i(u.$app,"content-header"),u.$contentBody=i(u.$app,"content-body"),u.$contentIframes=i(u.$app,"content-iframes"),u.$contentMask=i(u.$app,"content-mask"),u.$barUsername=i(u.$headerRight,"bar-username"),u.$barUserDropdowns=i(u.$headerRight,"bar-user-dropdowns"),u.$barFullscreen=i(u.$headerRight,"bar-fullscreen"),u.$barFullscreenWrap=u.$barFullscreen.parent("li"),u.$barFullscreenIcon=u.$barFullscreen.find("i"),u.$barRefresh=i(u.$headerRight,"bar-refresh"),u.$barRefreshWrap=u.$barRefresh.parent("li"),u.$barRefreshIcon=u.$barRefresh.find("i"),u.$barControl=i(u.$headerRight,"bar-control"),u.$barControlWrap=u.$barControl.parent("li"),u.$barControlIcon=u.$barControl.find("i"),u.isFrame=0<u.$contentBody.length,!u.isFrame)return window.self==window.top||u.options.multiPage||(e=i(u.$app,"content-header")).is("script")&&window.top.busyAdmin.app&&(window.top.busyAdmin.app.$contentHeader.html(e.html()),window.top.document.title=document.title),u.trigger(h.e.appReady),void u.trigger(h.e.appReadies);u.$contentHeader.on("click","a",function(){var e=p(this).attr("href")||"",e=-1!==e.indexOf("://")?e:u.getPath(e);if(0===(u.$nav.find('[data-path="'+e+'"]').attr("target")||"").indexOf("busy_admin_iframe_"))return u.setNavActive(e,"resumeFrames"),!1}),u.$nav.on("click","a",function(e){var t=p(this),i=t.hasClass("is-action"),n=t.parent("li"),a=t.find("> .nav-arrow"),r=t.next("ul");n.data("id");if(i){u.$nav.find(".active").removeClass("active"),t.addClass("active"),t.parents("ul").each(function(){var e=p(this).prev("a");e.parent("li").addClass("active"),e.length&&!e.hasClass("open")&&e.trigger("click")}),u.$headerMenu.find('[data-id="'+t.parents("li").last().data("id")+'"]').trigger("click"),u.closeSideNav();var o=t.attr("target")||"",s=t.attr("href")||"";if(0===o.indexOf("busy_admin_iframe_")&&s){u.$contentIframes.find(".active").removeClass("active");var l,c=p('<iframe id="'+o+'" src="'+s+'"/>'),i=-1!==s.indexOf("://");return u.$contentIframes.find("#"+o).remove(),u.$contentIframes.append(c),c.addClass("active"),u.$contentIframes.addClass("active"),u.$contentBody.addClass("hide"),i&&!u.options.multiPage&&(c=t.find("> .nav-name").text(),l='<ul class="breadcrumb"><li><i class="fa fa-home"></i> <a href="'+h.root()+'">é¦é¡µ</a></li>',p(t.parents("li").get().reverse()).each(function(){var e=p(this).find("> a"),t=e.find("> .nav-name").text();l+="<li>",e.hasClass("is-action")?l+='<a href="'+e.attr("href")+'">'+t+"</a>":l+="<span>"+t+"</span>",l+="</li>"}),l+="</ul>",document.title=c+u.options.pageTitleSuffix,u.$contentHeader.html(l)),"resumeFrames"!==e.triggerFrom&&(d=s,i||(d=u.getPath(s)),h.route.show(h.root()+"#frames!"+d,null,!1)),!1}return!0}e.preventDefault();var d=t.data("path");if(t.hasClass("open")){if("resumeNav"===e.triggerFrom)return!1;r.hide(),a.removeClass("fa-rotate-180"),t.removeClass("open"),t.parents("li").each(function(){return!!p(this).find("> a").hasClass("open")||void p(this).removeClass("opened")}),u._saveNavState(d,!1)}else u.options.navSingleHold&&"resumeNav"!==e.triggerFrom&&(u.isMobileSize()?n.parent("ul").find("> li > a.open"):n.parent("ul").find("> li:not(.busy-admin-nav-li-1) > a.open")).trigger("click"),r.show(),a.addClass("fa-rotate-180"),t.addClass("open"),t.parents("li").each(function(){return!p(this).find("> a").hasClass("open")||void p(this).addClass("opened")}),"resumeNav"!==e.triggerFrom&&u._saveNavState(d,!0);return!1}).on("mouseenter",function(){u.isMiniNav()&&(clearTimeout(u._navHoverTimer),u._navHoverTimer=setTimeout(function(){u.$left.addClass("busy-admin-left-open")},100))}).on("mouseleave",function(){u.isMiniNav()&&(clearTimeout(u._navHoverTimer),u._navHoverTimer=setTimeout(function(){u.$left.removeClass("busy-admin-left-open")},100))}),u.$contentMask.on("click",function(){u.closeSideNav()}),u.$barFullscreen.on("click",function(){u.isFullscreen()?u.exitFullscreen():u.requestFullscreen()}),u.$barRefresh.on("click",function(){h.route.reload()}),u.$barControl.on("click",function(){u.isMobileSize()?u.sideIsOpen()?u.closeSideNav():u.openSideNav():u.isMiniNav()?u.setToDefaultNav():u.setToMiniNav()}),u.options.multiPage&&(u.tabList=[],u.$multiTabsRow=p('<div class="row"/>'),u.$multiTabs=p('<ul class="nav nav-tabs"/>').append('<li class="active"><a href="'+h.root()+'">é¦é¡µ</a></li>'),u.$contentHeader.html(u.$multiTabs)),u.loadInfo(),u.trigger(h.e.appReady)},loadInfo:function(){var r=this;r.data=null,h.request(r.options.url).addHeader("Busy-Admin-Plugin","AppInfo").pending(!1).error(function(){return!1}).success(function(e,t,i){e=e.result||{};r.data=e,r.username=e.username||"User",r.userId=e.user_id||"0",r.$barUsername.text(r.username),r._renderMenu(e.menu_list||[]),r._renderNav(e.menu_list||[]),r._renderUserDropdowns(e.user_dropdowns||[]);var n,a=!r.options.navSingleHold&&r._getNavState()||{};for(n in a)a[n]&&r.$nav.find('[data-path="'+n+'"]').not(".open").trigger(p.Event("click",{triggerFrom:"resumeNav"}));e=h.helper.parseURL(document.URL);return e.hash&&0===e.hash.indexOf("frames!")?r.setNavActive(e.hash.substr(7),"resumeFrames"):r.setNavActive(r.getPath(document.URL),"loadInfo"),r.options.navMode?r.setToMiniNav():r.setToDefaultNav(),r.trigger(h.e.appReadies),!1}).exec()},isMiniNav:function(){return this.$app&&this.$app.hasClass("busy-admin-mini-nav")},sideIsOpen:function(){return this.$frame.hasClass("busy-admin-nav-open")},_parseResult:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.error("è§£ææ°æ®å¤±è´¥",e),{message:"è§£ææ°æ®å¤±è´¥",status:!1,code:0,result:{},url:""}}return e.status=1===e.code,e.hasOwnProperty("traces")&&("POST"!==this.type?h.helper.parseURL(this.url):h.helper.parseURL("?"+this.data)).params,e},_initResponse:function(){var t=this;h.response.bindCode(t.options.needLoginCode,function(e){return h.dialog.toastError(e.message),h.route.show(e.url),!1}),h.response.setParse(function(e){return t._parseResult(e)})},_renderMenu:function(e){var n=this,i="";e.map(function(e){var t=n._parseNavItem(e);i+='<li class="'+(e.path!==n.data.menu_default||n.currentPath?"":"active")+'"><a href="'+t.url+'" data-id="'+e.id+'" data-path="'+t.path+'" target="'+t.target+'"><i class="'+e.icon+'"></i> <span>'+e.name+"</span></a></li>"}),n.$headerMenuNav=p('<ul class="nav navbar-nav"/>').html(i),n.$headerMenuLeft=p('<a class="left-arrow" href="javascript:void(0)"/>').append('<i class="fa fa-angle-double-left" />').hide(),n.$headerMenuRight=p('<a class="right-arrow" href="javascript:void(0)"/>').append('<i class="fa fa-angle-double-right" />').hide(),n.$headerMenuScroll=p('<div class="nav-scroll"/>').append(n.$headerMenuLeft).append(n.$headerMenuNav).append(n.$headerMenuRight),n.$headerMenu.html(n.$headerMenuScroll),n.$headerMenuNav.on("click","a",function(){var e=p(this),t=e.data("id"),i=e.closest("li");n.$headerMenuNav.find("li.active").removeClass("active"),i.addClass("active"),n.$nav.find("> ul > li").addClass("hide"),n.$nav.find('[data-id="'+t+'"]').removeClass("hide");e=n.$headerMenuScroll.outerWidth(!1),t=i.position().left;n.$headerMenuScroll.stop().animate({scrollLeft:t-e/2+i.outerWidth(!0)/2})}),n.$headerMenuLeft.on("click",function(){var e;p(this).hasClass("disabled")||(e=n.$headerMenuScroll[0].clientWidth/2,n.$headerMenuScroll.stop().animate({scrollLeft:n.$headerMenuScroll.scrollLeft()-e}))}),n.$headerMenuRight.on("click",function(){var e;p(this).hasClass("disabled")||(e=n.$headerMenuScroll[0].clientWidth/2,n.$headerMenuScroll.stop().animate({scrollLeft:n.$headerMenuScroll.scrollLeft()+e}))}),n.$headerMenuScroll.on("scroll",function(){var t=this,i=p(this);clearTimeout(n._headerMenuScrollTimer),n._headerMenuScrollTimer=setTimeout(function(){var e=i.scrollLeft();e<=0?n.$headerMenuLeft.addClass("disabled"):n.$headerMenuLeft.removeClass("disabled"),e+t.clientWidth>=t.scrollWidth?n.$headerMenuRight.addClass("disabled"):n.$headerMenuRight.removeClass("disabled")},20)}),n._menuReady=!0,n._computeMenu()},_computeMenu:function(){var e,t,i=this;i.isFrame&&i._menuReady&&(e=i.$win.width(),t=(t=i.$headerLeft.outerWidth(!1))+Math.abs(h.helper.float(i.$headerLeft.css("margin-left").replace("px","")))+Math.abs(h.helper.float(i.$headerLeft.css("margin-right").replace("px",""))),(t=e-(i.$headerBarLeft.outerWidth(!1)+Math.abs(h.helper.float(i.$headerBarLeft.css("margin-left").replace("px","")))+Math.abs(h.helper.float(i.$headerBarLeft.css("margin-right").replace("px",""))))-(i.$headerBarRight.outerWidth(!1)+Math.abs(h.helper.float(i.$headerBarRight.css("margin-left").replace("px","")))+Math.abs(h.helper.float(i.$headerBarRight.css("margin-right").replace("px",""))))-t)<i.$headerMenuNav.outerWidth(!0)?(i.$headerMenuLeft.show(),i.$headerMenuRight.show(),i.$headerMenuScroll.addClass("show-scroll")):(i.$headerMenuLeft.hide(),i.$headerMenuRight.hide(),i.$headerMenuScroll.removeClass("show-scroll")),i.$headerMenu.css("max-width",t+"px"),i.$headerMenuScroll.trigger("scroll"))},_renderUserDropdowns:function(e){var a="";e.map(function(e){if("divider"===e.type)a+='<li class="divider"></li>';else{var t,i=e.attr||{},n="";for(t in i)n+=t+"='"+i[t]+"' ";a+='<li><a href="'+(e.href||"javascript:void(0);")+'"'+n+'><i class="'+(e.icon||"")+'"></i> '+(e.text||"")+"</a></li>"}}),this.$barUserDropdowns.html(a)},_renderNav:function(e,s){var l=this,c='<ul class="busy-admin-nav-ul-'+(s=s||1)+'">';if(e.map(function(e){var t=e.child||[],i=l._parseNavItem(e),n=0<t.length,a=["busy-admin-nav-li-"+s],r=[],o="";1==s&&l.data.menu_default!==e.path&&a.push("hide"),r.push(n?"has-child":"is-action"),e.path===l.currentPath&&r.push("active"),(e.hides||[]).map(function(e){o+='<abbr data-hide-path="'+h.helper.snake(e.path)+'" class="hide"></abbr>'}),c+='<li class="'+a.join(" ")+'" data-id="'+e.id+'">',c+='<a class="'+r.join(" ")+'" data-path="'+i.path+'" href="'+i.url+'" target="'+i.target+'"><i class="nav-arrow fa fa-angle-down"></i> <i class="nav-icon '+e.icon+'"></i> <span class="nav-name">'+e.name+"</span>"+o+"</a>",n&&(c+=l._renderNav(t,s+1)),c+="</li>"}),c+="</ul>",1<s)return c;l.$nav.html(c),l.$nav.css({marginRight:-h.helper.getScrollbarWidth()+"px"})},_parseNavItem:function(e){var t=-1===e.url.indexOf("://")?h.root()+h.helper.ltrim(e.url,"/"):e.url,i=e.target,n=h.helper.snake(e.path);return"_blank"===i?{url:t,target:i}:((!e.url||0<(e.child||[]).length)&&(t="javascript:void(0)"),e.top_url&&!e.parent_path&&(t=h.root()+h.helper.ltrim(e.top_url,"/")),"iframe"===i&&(i="busy_admin_iframe_"+e.id),{url:t,target:i,path:n})},getContentFrame:function(){var e=this.isFrame?this.$contentBody:this.$app,t=h.helper.float(e.css("paddingTop").replace("px","")),i=h.helper.float(e.css("paddingBottom").replace("px","")),n=h.helper.float(e.css("paddingLeft").replace("px","")),a=h.helper.float(e.css("paddingRight").replace("px","")),r=e.offset(),o=this.$win.height()-r.top-t-i,s=e.outerWidth(!0)-n-a;return{target:e,height:o,width:s,top:r.top-(this.isMobileSize()&&0<this.$contentHeader.length?this.$contentHeader.outerHeight():0),left:r.left,paddingLeft:n,paddingRight:a,paddingTop:t,paddingBottom:i}},isInContent:function(e){return 0<e.closest('[data-busy-id="'+this.$contentBody.attr("data-busy-id")+'"]').length},extractContainer:function(e,t){var i={},n=p(r(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])),e=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i),e=null!=e?p(r(e[0])):n;if(0===n.length)return i;t&&(0<a(n,"content-body").length?this.isFrame||(i.init=a(n,"app").first().children(),i.frame=!0):(i.init=a(n,"app").first().children(),i.frame=!1));t="title",t=(e=e).filter(t).add(e.find(t)).last();i.title=p.trim(t.text()||""),i.appTitle=p.trim(t.data("title")||"");t=n.find("title").last();return t.length&&(i.appTitle=p.trim(t.text()||"")),i.content=a(n,"content-body").first().children(),i.contentHeader=a(n,"content-header").first().children(),0<i.content.length&&(i.content=i.content.not(function(){return p(this).is("title")}),i.content.find("title").remove()),i},responseToHtml:function(t,i){try{h.response.parse(this._parseResult(JSON.parse(t.result)),null,function(e,t){h.dialog.toastError("è¿ååå®¹å¼å¸¸"),console.warn("è¿ååå®¹ä¸æ¯HTMLæ ¼å¼ï¼è¯·æ£æ¥æå¡ç«¯ä»£ç ")},function(e,t){h.dialog.toastError(e.message)})}catch(e){i.call(this,t.result)}},requestFullscreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;t?(t.call(e),this._changeFullState(!0)):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&(e.SendKeys("{F11}"),this._changeFullState(!0))},exitFullscreen:function(){var e=document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;t?(t.call(e),this._changeFullState(!1)):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&(e.SendKeys("{F11}"),this._changeFullState(!1))},isFullscreen:function(){return this.$barFullscreenWrap.hasClass("active")},_changeFullState:function(e){e?(this.$barFullscreenWrap.addClass("active"),this.$barFullscreenIcon.removeClass("bicon-full-screen").addClass("bicon-shrink-screen")):(this.$barFullscreenWrap.removeClass("active"),this.$barFullscreenIcon.addClass("bicon-full-screen").removeClass("bicon-shrink-screen"))},getUserId:function(){return this.getData().user_id||0},getUsername:function(){return this.getData().username||""},getUserInfo:function(){return this.getData().user||{}},getData:function(){return this.data||{}},getUseData:function(){return this.getData().data||{}},trigger:function(e,t){return h.helper.execCallback(null,document,t||[],this.$doc,e),this},on:function(e,t){return this.$doc.on(e,t),this},once:function(e,t){return this.$doc.one(e,t),this},off:function(e){return this.$doc.off(e),this},_outLogin:function(e){h.app.data=null,h.app.trigger(h.e.appLoginOuted,[e]),h.route.show(e.url)},_loginSuccess:function(e){h.app.trigger(h.e.appLoginSucceed,[e]),h.route.show(e.url)},isLogin:function(){return null!=this.data}},e.DEFAULTS={navSingleHold:!1,navMode:!1,errorImgUrl:"",multiPage:!1,scrollCacheLength:50,url:"",pageTitleSuffix:"",needLoginCode:3020001,runtime:null},h.app=new e,h.regSugar("app",function(e,t,i,n){h.app[t].apply(h.app,n)})}(jQuery,busyAdmin);