var requirejs,require,define;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(x,e){"use strict";var t=[],$=x.document,n=Object.getPrototypeOf,s=t.slice,m=t.concat,l=t.push,a=t.indexOf,i={},r=i.toString,f=i.hasOwnProperty,o=f.toString,c=o.call(Object),g={};function v(e,t){var n=(t=t||$).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function d(e,t){return t.toUpperCase()}var u="3.0.0",C=function(e,t){return new C.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,y=/-([a-z])/g;function b(e){var t=!!e&&"length"in e&&e.length,n=C.type(e);return"function"!==n&&!C.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:u,constructor:C,length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(n){return this.pushStack(C.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,n,i,a,r=arguments[0]||{},o=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[o]||{},o++),"object"==typeof r||C.isFunction(r)||(r={}),o===s&&(r=this,o--);o<s;o++)if(null!=(e=arguments[o]))for(t in e)a=r[t],r!==(n=e[t])&&(l&&n&&(C.isPlainObject(n)||(i=C.isArray(n)))?(a=i?(i=!1,a&&C.isArray(a)?a:[]):a&&C.isPlainObject(a)?a:{},r[t]=C.extend(l,a,n)):void 0!==n&&(r[t]=n));return r},C.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==r.call(e))&&(!(e=n(e))||"function"==typeof(e=f.call(e,"constructor")&&e.constructor)&&o.call(e)===c)},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[r.call(e)]||"object":typeof e},globalEval:function(e){v(e)},camelCase:function(e){return e.replace(h,"ms-").replace(y,d)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(b(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){t=t||[];return null!=e&&(b(Object(e))?C.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;i<n;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i=[],a=0,r=e.length,o=!n;a<r;a++)!t(e[a],a)!=o&&i.push(e[a]);return i},map:function(e,t,n){var i,a,r=0,o=[];if(b(e))for(i=e.length;r<i;r++)null!=(a=t(e[r],r,n))&&o.push(a);else for(r in e)null!=(a=t(e[r],r,n))&&o.push(a);return m.apply([],o)},guid:1,proxy:function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),C.isFunction(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},now:Date.now,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var w=function(n){function u(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function i(){x()}var e,h,w,r,a,f,p,m,k,l,c,x,$,o,C,g,s,d,v,S="sizzle"+ +new Date,y=n.document,T=0,b=0,D=oe(),_=oe(),A=oe(),E=function(e,t){return e===t&&(c=!0),0},P={}.hasOwnProperty,t=[],L=t.pop,I=t.push,O=t.push,M=t.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",q="\\["+F+"*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),Y=new RegExp("^"+F+"*,"+F+"*"),z=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),W=new RegExp(B),Q=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ae=ge(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{O.apply(t=M.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){O={apply:t.length?function(e,t){I.apply(e,M.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,i){var a,r,o,s,l,c,d,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:y)!==$&&x(t),t=t||$,C)){if(11!==p&&(l=Z.exec(e)))if(a=l[1]){if(9===p){if(!(o=t.getElementById(a)))return n;if(o.id===a)return n.push(o),n}else if(u&&(o=u.getElementById(a))&&v(t,o)&&o.id===a)return n.push(o),n}else{if(l[2])return O.apply(n,t.getElementsByTagName(e)),n;if((a=l[3])&&h.getElementsByClassName&&t.getElementsByClassName)return O.apply(n,t.getElementsByClassName(a)),n}if(h.qsa&&!A[e+" "]&&(!g||!g.test(e))){if(1!==p)u=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ne,ie):t.setAttribute("id",s=S),r=(c=f(e)).length;r--;)c[r]="#"+s+" "+me(c[r]);d=c.join(","),u=ee.test(e)&&he(t.parentNode)||t}if(d)try{return O.apply(n,u.querySelectorAll(d)),n}catch(e){}finally{s===S&&t.removeAttribute("id")}}}return m(e.replace(U,"$1"),t,n,i)}function oe(){var n=[];function i(e,t){return n.push(e+" ")>w.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function se(e){return e[S]=!0,e}function le(e){var t=$.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&!1===e.disabled&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!ae(e))!==t)}}function pe(o){return se(function(r){return r=+r,se(function(e,t){for(var n,i=o([],e.length,r),a=i.length;a--;)e[n=i[a]]&&(e[n]=!(t[n]=e[n]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=re.support={},a=re.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},x=re.setDocument=function(e){var t,e=e?e.ownerDocument||e:y;return e!==$&&9===e.nodeType&&e.documentElement&&(o=($=e).documentElement,C=!a($),y!==$&&(t=$.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),h.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=le(function(e){return e.appendChild($.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=J.test($.getElementsByClassName),h.getById=le(function(e){return o.appendChild(e).id=S,!$.getElementsByName||!$.getElementsByName(S).length}),h.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&C){e=t.getElementById(e);return e?[e]:[]}},w.filter.ID=function(e){var t=e.replace(te,u);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(te,u);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),w.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[a++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},s=[],g=[],(h.qsa=J.test($.querySelectorAll))&&(le(function(e){o.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+S+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=$.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),o.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=J.test(d=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&le(function(e){h.disconnectedMatch=d.call(e,"*"),d.call(e,"[s!='']:x"),s.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(o.compareDocumentPosition),v=t||J.test(o.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===$||e.ownerDocument===y&&v(y,e)?-1:t===$||t.ownerDocument===y&&v(y,t)?1:l?R(l,e)-R(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,a=e.parentNode,r=t.parentNode,o=[e],s=[t];if(!a||!r)return e===$?-1:t===$?1:a?-1:r?1:l?R(l,e)-R(l,t):0;if(a===r)return de(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?de(o[i],s[i]):o[i]===y?-1:s[i]===y?1:0}),$},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==$&&x(e),t=t.replace(V,"='$1']"),h.matchesSelector&&C&&!A[t+" "]&&(!s||!s.test(t))&&(!g||!g.test(t)))try{var n=d.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<re(t,$,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==$&&x(e),v(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==$&&x(e);var n=w.attrHandle[t.toLowerCase()],n=n&&P.call(w.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:h.attributes||!C?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},re.escape=function(e){return(e+"").replace(ne,ie)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],i=0,a=0;if(c=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(E),c){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return l=null,e},r=re.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(w=re.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,u),e[3]=(e[3]||e[4]||e[5]||"").replace(te,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=D[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&D(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=re.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(H," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,a,r,o,s,l,c=v!=y?"nextSibling":"previousSibling",d=e.parentNode,u=b&&e.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(d){if(v){for(;c;){for(o=e;o=o[c];)if(b?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?d.firstChild:d.lastChild],y&&p){for(h=(s=(i=(a=(r=(o=d)[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===T&&i[1])&&i[2],o=s&&d.childNodes[s];o=++s&&o&&o[c]||(h=s=0)||l.pop();)if(1===o.nodeType&&++h&&o===e){a[f]=[T,s,h];break}}else if(p&&(h=s=(i=(a=(r=(o=e)[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===T&&i[1]),!1===h)for(;(o=++s&&o&&o[c]||(h=s=0)||l.pop())&&((b?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++h||(p&&((a=(r=o[S]||(o[S]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]=[T,h]),o!==e)););return(h-=g)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,r){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return o[S]?o(r):1<o.length?(t=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)e[n=R(e,i[a])]=!(t[n]=i[a])}):function(e){return o(e,0,t)}):o}},pseudos:{not:se(function(e){var i=[],a=[],s=p(e.replace(U,"$1"));return s[S]?se(function(e,t,n,i){for(var a,r=s(e,null,i,[]),o=e.length;o--;)(a=r[o])&&(e[o]=!(t[o]=a))}):function(e,t,n){return i[0]=e,s(i,null,n,a),i[0]=null,!a.pop()}}),has:se(function(t){return function(e){return 0<re(t,e).length}}),contains:se(function(t){return t=t.replace(te,u),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:se(function(n){return Q.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(te,u).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ue(!1),disabled:ue(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function fe(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(o,e,t){var s=e.dir,l=e.next,c=l||s,d=t&&"parentNode"===c,u=b++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||d)return o(e,t,n)}:function(e,t,n){var i,a,r=[T,u];if(n){for(;e=e[s];)if((1===e.nodeType||d)&&o(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||d)if(i=(a=e[S]||(e[S]={}))[e.uniqueID]||(a[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((a=i[c])&&a[0]===T&&a[1]===u)return r[2]=a[2];if((i[c]=r)[2]=o(e,t,n))return!0}}}function ve(a){return 1<a.length?function(e,t,n){for(var i=a.length;i--;)if(!a[i](e,t,n))return!1;return!0}:a[0]}function ye(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,a)||(o.push(r),c&&t.push(s)));return o}function be(h,f,m,g,v,e){return g&&!g[S]&&(g=be(g)),v&&!v[S]&&(v=be(v,e)),se(function(e,t,n,i){var a,r,o,s=[],l=[],c=t.length,d=e||function(e,t,n){for(var i=0,a=t.length;i<a;i++)re(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),u=!h||!e&&f?d:ye(d,s,h,n,i),p=m?v||(e?h:c||g)?[]:t:u;if(m&&m(u,p,n,i),g)for(a=ye(p,l),g(a,[],n,i),r=a.length;r--;)(o=a[r])&&(p[l[r]]=!(u[l[r]]=o));if(e){if(v||h){if(v){for(a=[],r=p.length;r--;)(o=p[r])&&a.push(u[r]=o);v(null,p=[],a,i)}for(r=p.length;r--;)(o=p[r])&&-1<(a=v?R(e,o):s[r])&&(e[a]=!(t[a]=o))}}else p=ye(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):O.apply(t,p)})}function we(g,v){function e(e,t,n,i,a){var r,o,s,l=0,c="0",d=e&&[],u=[],p=k,h=e||b&&w.find.TAG("*",a),f=T+=null==p?1:Math.random()||.1,m=h.length;for(a&&(k=t===$||t||a);c!==m&&null!=(r=h[c]);c++){if(b&&r){for(o=0,t||r.ownerDocument===$||(x(r),n=!C);s=g[o++];)if(s(r,t||$,n)){i.push(r);break}a&&(T=f)}y&&((r=!s&&r)&&l--,e&&d.push(r))}if(l+=c,y&&c!==l){for(o=0;s=v[o++];)s(d,u,t,n);if(e){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=L.call(i));u=ye(u)}O.apply(i,u),a&&!e&&0<u.length&&1<l+v.length&&re.uniqueSort(i)}return a&&(T=f,k=p),d}var y=0<v.length,b=0<g.length;return y?se(e):e}return fe.prototype=w.filters=w.pseudos,w.setFilters=new fe,f=re.tokenize=function(e,t){var n,i,a,r,o,s,l,c=_[e+" "];if(c)return t?0:c.slice(0);for(o=e,s=[],l=w.preFilter;o;){for(r in n&&!(i=Y.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(a=[])),n=!1,(i=z.exec(o))&&(n=i.shift(),a.push({value:n,type:i[0].replace(U," ")}),o=o.slice(n.length)),w.filter)!(i=X[r].exec(o))||l[r]&&!(i=l[r](i))||(n=i.shift(),a.push({value:n,type:r,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?re.error(e):_(e,s).slice(0)},p=re.compile=function(e,t){var n,i=[],a=[],r=A[e+" "];if(!r){for(n=(t=t||f(e)).length;n--;)((r=function e(t){for(var i,n,a,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],l=o?1:0,c=ge(function(e){return e===i},s,!0),d=ge(function(e){return-1<R(i,e)},s,!0),u=[function(e,t,n){return n=!o&&(n||t!==k)||((i=t).nodeType?c:d)(e,t,n),i=null,n}];l<r;l++)if(n=w.relative[t[l].type])u=[ge(ve(u),n)];else{if((n=w.filter[t[l].type].apply(null,t[l].matches))[S]){for(a=++l;a<r&&!w.relative[t[a].type];a++);return be(1<l&&ve(u),1<l&&me(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(U,"$1"),n,l<a&&e(t.slice(l,a)),a<r&&e(t=t.slice(a)),a<r&&me(t))}u.push(n)}return ve(u)}(t[n]))[S]?i:a).push(r);(r=A(e,we(a,i))).selector=e}return r},m=re.select=function(e,t,n,i){var a,r,o,s,l,c="function"==typeof e&&e,d=!i&&f(e=c.selector||e);if(n=n||[],1===d.length){if(2<(r=d[0]=d[0].slice(0)).length&&"ID"===(o=r[0]).type&&h.getById&&9===t.nodeType&&C&&w.relative[r[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(te,u),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(a=X.needsContext.test(e)?0:r.length;a--&&(o=r[a],!w.relative[s=o.type]);)if((l=w.find[s])&&(i=l(o.matches[0].replace(te,u),ee.test(r[0].type)&&he(t.parentNode)||t))){if(r.splice(a,1),!(e=i.length&&me(r)))return O.apply(n,i),n;break}}return(c||p(e,d))(i,t,!C,n,!t||ee.test(e)&&he(t.parentNode)||t),n},h.sortStable=S.split("").sort(E).join("")===S,h.detectDuplicates=!!c,x(),h.sortDetached=le(function(e){return 1&e.compareDocumentPosition($.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(j,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),re}(x);C.find=w,C.expr=w.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=w.uniqueSort,C.text=w.getText,C.isXMLDoc=w.isXML,C.contains=w.contains,C.escapeSelector=w.escape;function k(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&C(e).is(n))break;i.push(e)}return i}function S(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var T=C.expr.match.needsContext,D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_=/^.[^:#\[\.,]*$/;function A(e,n,i){if(C.isFunction(n))return C.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return C.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(_.test(n))return C.filter(n,e,i);n=C.filter(n,e)}return C.grep(e,function(e){return-1<a.call(n,e)!==i&&1===e.nodeType})}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,a=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(a[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,a[t],n);return 1<i?C.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&T.test(e)?C(e):e||[],!1).length}});var E,P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){if(!e)return this;if(n=n||E,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:P.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:$,!0)),D.test(i[1])&&C.isPlainObject(t))for(var i in t)C.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(e=$.getElementById(i[2]))&&(this[0]=e,this.length=1),this}).prototype=C.fn,E=C($);var L=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,a=this.length,r=[],o="string"!=typeof e&&C(e);if(!T.test(e))for(;i<a;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&C.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?a.call(C(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(i,a){C.fn[i]=function(e,t){var n=C.map(this,a,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=C.filter(t,n)),1<this.length&&(I[i]||C.uniqueSort(n),L.test(i)&&n.reverse()),this.pushStack(n)}});var M=/\S+/g;function R(e){return e}function j(e){throw e}function F(e,t,n){var i;try{e&&C.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&C.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}C.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},C.each(e.match(M)||[],function(e,t){n[t]=!0}),n):C.extend({},i);function a(){for(s=i.once,o=r=!0;c.length;d=-1)for(t=c.shift();++d<l.length;)!1===l[d].apply(t[0],t[1])&&i.stopOnFalse&&(d=l.length,t=!1);i.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,o,s,l=[],c=[],d=-1,u={add:function(){return l&&(t&&!r&&(d=l.length-1,c.push(t)),function n(e){C.each(e,function(e,t){C.isFunction(t)?i.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==C.type(t)&&n(t)})}(arguments),t&&!r&&a()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;-1<(n=C.inArray(t,l,n));)l.splice(n,1),n<=d&&d--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r||a()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},C.extend({Deferred:function(e){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],a="pending",o={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var a=arguments;return C.Deferred(function(i){C.each(r,function(e,t){var n=C.isFunction(a[t[4]])&&a[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),a=null}).promise()},then:function(t,n,i){var l=0;function c(a,r,o,s){return function(){function e(){var e,t;if(!(a<l)){if((e=o.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,C.isFunction(t)?s?t.call(e,c(l,r,R,s),c(l,r,j,s)):(l++,t.call(e,c(l,r,R,s),c(l,r,j,s),c(l,r,R,r.notifyWith))):(o!==R&&(n=void 0,i=[e]),(s||r.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),l<=a+1&&(o!==j&&(n=void 0,i=[e]),r.rejectWith(n,i))}};a?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),x.setTimeout(t))}}return C.Deferred(function(e){r[0][3].add(c(0,e,C.isFunction(i)?i:R,e.notifyWith)),r[1][3].add(c(0,e,C.isFunction(t)?t:R)),r[2][3].add(c(0,e,C.isFunction(n)?n:j))}).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},s={};return C.each(r,function(e,t){var n=t[2],i=t[5];o[t[1]]=n.add,i&&n.add(function(){a=i},r[3-e][2].disable,r[0][2].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){a[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(a,r)}}var n=arguments.length,i=n,a=Array(i),r=s.call(arguments),o=C.Deferred();if(n<=1&&(F(e,o.done(t(i)).resolve,o.reject),"pending"===o.state()||C.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)F(r[i],t(i),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){x.console&&x.console.warn&&e&&N.test(e.name)&&x.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)};var q=C.Deferred();function B(){$.removeEventListener("DOMContentLoaded",B),x.removeEventListener("load",B),C.ready()}C.fn.ready=function(e){return q.then(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||q.resolveWith($,[C])}}),C.ready.then=q.then,"complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll?x.setTimeout(C.ready):($.addEventListener("DOMContentLoaded",B),x.addEventListener("load",B));function H(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}var U=function(e,t,n,i,a,r,o){var s=0,l=e.length,c=null==n;if("object"===C.type(n))for(s in a=!0,n)U(e,t,s,n[s],!0,r,o);else if(void 0!==i&&(a=!0,C.isFunction(i)||(o=!0),c&&(t=o?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(C(e),n)})),t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return a?e:c?t.call(e):l?t(e[0],n):r};function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},H(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,a=this.cache(e);if("string"==typeof t)a[C.camelCase(t)]=n;else for(i in t)a[C.camelCase(i)]=t[i];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][C.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=C.isArray(t)?t.map(C.camelCase):(t=C.camelCase(t))in i?[t]:t.match(M)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!C.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var z=new Y,V=new Y,W=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function X(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:W.test(n)?JSON.parse(n):n)}catch(e){}V.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return V.hasData(e)||z.hasData(e)},data:function(e,t,n){return V.access(e,t,n)},removeData:function(e,t){V.remove(e,t)},_data:function(e,t,n){return z.access(e,t,n)},_removeData:function(e,t){z.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,a,r=this[0],o=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){V.set(this,n)}):U(this,function(e){var t;return r&&void 0===e?void 0!==(t=V.get(r,n))||void 0!==(t=X(r,n))?t:void 0:void this.each(function(){V.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(a=V.get(r),1===r.nodeType&&!z.get(r,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(i=o[t].name).indexOf("data-")&&(i=C.camelCase(i.slice(5)),X(r,i,a[i]));z.set(r,"hasDataAttrs",!0)}return a},removeData:function(e){return this.each(function(){V.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=z.get(e,t),n&&(!i||C.isArray(n)?i=z.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,a=n.shift(),r=C._queueHooks(e,t);"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,function(){C.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return z.get(e,n)||z.access(e,n,{empty:C.Callbacks("once memory").add(function(){z.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===n?this:this.each(function(){var e=C.queue(this,t,n);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--a||r.resolveWith(o,[o])}var i,a=1,r=C.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=z.get(o[s],e+"queueHooks"))&&i.empty&&(a++,i.empty.add(n));return n(),r.promise(t)}});function G(e,t,n,i){var a,r={};for(a in t)r[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,i||[]),t)e.style[a]=r[a];return i}var u=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,K=new RegExp("^(?:([+-])=|)("+u+")([a-z%]*)$","i"),J=["Top","Right","Bottom","Left"],Z=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")};function ee(e,t,n,i){var a,r=1,o=20,s=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=s(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),d=(C.cssNumber[t]||"px"!==c&&+l)&&K.exec(C.css(e,t));if(d&&d[3]!==c)for(c=c||d[3],n=n||[],d=+l||1;d/=r=r||".5",C.style(e,t,d+c),r!==(r=s()/l)&&1!==r&&--o;);return n&&(d=+d||+l||0,a=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=a)),a}var te={};function ne(e,t){for(var n,i,a,r,o,s=[],l=0,c=e.length;l<c;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=z.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&Z(i)&&(s[l]=(o=r=void 0,r=(a=i).ownerDocument,o=a.nodeName,(a=te[o])||(r=r.body.appendChild(r.createElement(o)),a=C.css(r,"display"),r.parentNode.removeChild(r),"none"===a&&(a="block"),te[o]=a)))):"none"!==n&&(s[l]="none",z.set(i,"display",n)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return ne(this,!0)},hide:function(){return ne(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Z(this)?C(this).show():C(this).hide()})}});var ie=/^(?:checkbox|radio)$/i,ae=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,re=/^$|\/(?:java|ecma)script/i,oe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C.nodeName(e,t)?C.merge([e],n):n}function le(e,t){for(var n=0,i=e.length;n<i;n++)z.set(e[n],"globalEval",!t||z.get(t[n],"globalEval"))}oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var ce=/<|&#?\w+;/;function de(e,t,n,i,a){for(var r,o,s,l,c,d=t.createDocumentFragment(),u=[],p=0,h=e.length;p<h;p++)if((r=e[p])||0===r)if("object"===C.type(r))C.merge(u,r.nodeType?[r]:r);else if(ce.test(r)){for(o=o||d.appendChild(t.createElement("div")),s=(ae.exec(r)||["",""])[1].toLowerCase(),s=oe[s]||oe._default,o.innerHTML=s[1]+C.htmlPrefilter(r)+s[2],c=s[0];c--;)o=o.lastChild;C.merge(u,o.childNodes),(o=d.firstChild).textContent=""}else u.push(t.createTextNode(r));for(d.textContent="",p=0;r=u[p++];)if(i&&-1<C.inArray(r,i))a&&a.push(r);else if(l=C.contains(r.ownerDocument,r),o=se(d.appendChild(r),"script"),l&&le(o),n)for(c=0;r=o[c++];)re.test(r.type||"")&&n.push(r);return d}t=$.createDocumentFragment().appendChild($.createElement("div")),(w=$.createElement("input")).setAttribute("type","radio"),w.setAttribute("checked","checked"),w.setAttribute("name","t"),t.appendChild(w),g.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue;var ue=$.documentElement,pe=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=/^([^.]*)(?:\.(.+)|)/;function me(){return!0}function ge(){return!1}function ve(){try{return $.activeElement}catch(e){}}function ye(e,t,n,i,a,r){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)ye(e,s,n,i,t[s],r);return e}if(null==i&&null==a?(a=n,i=n=void 0):null==a&&("string"==typeof n?(a=i,i=void 0):(a=i,i=n,n=void 0)),!1===a)a=ge;else if(!a)return e;return 1===r&&(o=a,(a=function(e){return C().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=C.guid++)),e.each(function(){C.event.add(this,t,a,i,n)})}C.event={global:{},add:function(t,e,n,i,a){var r,o,s,l,c,d,u,p,h,f=z.get(t);if(f)for(n.handler&&(n=(r=n).handler,a=r.selector),a&&C.find.matchesSelector(ue,a),n.guid||(n.guid=C.guid++),(s=f.events)||(s=f.events={}),(o=f.handle)||(o=f.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(M)||[""]).length;l--;)u=h=(c=fe.exec(e[l])||[])[1],p=(c[2]||"").split(".").sort(),u&&(d=C.event.special[u]||{},u=(a?d.delegateType:d.bindType)||u,d=C.event.special[u]||{},c=C.extend({type:u,origType:h,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&C.expr.match.needsContext.test(a),namespace:p.join(".")},r),(h=s[u])||((h=s[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,o)||t.addEventListener&&t.addEventListener(u,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),a?h.splice(h.delegateCount++,0,c):h.push(c),C.event.global[u]=!0)},remove:function(e,t,n,i,a){var r,o,s,l,c,d,u,p,h,f,m,g=z.hasData(e)&&z.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(M)||[""]).length;c--;)if(h=m=(s=fe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=C.event.special[h]||{},p=l[h=(i?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=p.length;r--;)d=p[r],!a&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(r,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,g.handle)||C.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)C.event.remove(e,h+t[c],n,i,!0);C.isEmptyObject(l)&&z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,a,r,o=C.event.fix(e),s=new Array(arguments.length),l=(z.get(this,"events")||{})[o.type]||[],e=C.event.special[o.type]||{};for(s[0]=o,t=1;t<arguments.length;t++)s[t]=arguments[t];if(o.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,o)){for(r=C.event.handlers.call(this,o,l),t=0;(i=r[t++])&&!o.isPropagationStopped();)for(o.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(a.namespace)||(o.handleObj=a,o.data=a.data,void 0!==(a=((C.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(o.result=a)&&(o.preventDefault(),o.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,a,r,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[a=(r=t[n]).selector+" "]&&(i[a]=r.needsContext?-1<C(a,this).index(l):C.find(a,this,null,[l]).length),i[a]&&i.push(r);i.length&&o.push({elem:l,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:C.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ve()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ve()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?me:ge,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:ge,isPropagationStopped:ge,isImmediatePropagationStopped:ge,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&pe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&he.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){C.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||C.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=a),t}}}),C.fn.extend({on:function(e,t,n,i){return ye(this,e,t,n,i)},one:function(e,t,n,i){return ye(this,e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ge),this.each(function(){C.event.remove(this,e,n,t)});for(a in e)this.off(a,t,e[a]);return this}});var be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,we=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ce(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function Se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){var t=xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function De(e,t){var n,i,a,r,o,s;if(1===t.nodeType){if(z.hasData(e)&&(r=z.access(e),o=z.set(t,r),s=r.events))for(a in delete o.handle,o.events={},s)for(n=0,i=s[a].length;n<i;n++)C.event.add(t,a,s[a][n]);V.hasData(e)&&(e=V.access(e),e=C.extend({},e),V.set(t,e))}}function _e(n,i,a,r){i=m.apply([],i);var e,t,o,s,l,c,d=0,u=n.length,p=u-1,h=i[0],f=C.isFunction(h);if(f||1<u&&"string"==typeof h&&!g.checkClone&&ke.test(h))return n.each(function(e){var t=n.eq(e);f&&(i[0]=h.call(this,e,t.html())),_e(t,i,a,r)});if(u&&(t=(e=de(i,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(s=(o=C.map(se(e,"script"),Se)).length;d<u;d++)l=e,d!==p&&(l=C.clone(l,!0,!0),s&&C.merge(o,se(l,"script"))),a.call(n[d],l,d);if(s)for(c=o[o.length-1].ownerDocument,C.map(o,Te),d=0;d<s;d++)l=o[d],re.test(l.type||"")&&!z.access(l,"globalEval")&&C.contains(c,l)&&(l.src?C._evalUrl&&C._evalUrl(l.src):v(l.textContent.replace($e,""),c))}return n}function Ae(e,t,n){for(var i,a=t?C.filter(t,e):e,r=0;null!=(i=a[r]);r++)n||1!==i.nodeType||C.cleanData(se(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&le(se(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e.replace(be,"<$1></$2>")},clone:function(e,t,n){var i,a,r,o,s,l,c,d=e.cloneNode(!0),u=C.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(o=se(d),i=0,a=(r=se(e)).length;i<a;i++)s=r[i],l=o[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ie.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||se(e),o=o||se(d),i=0,a=r.length;i<a;i++)De(r[i],o[i]);else De(e,d);return 0<(o=se(d,"script")).length&&le(o,!u&&se(e,"script")),d},cleanData:function(e){for(var t,n,i,a=C.event.special,r=0;void 0!==(n=e[r]);r++)if(H(n)){if(t=n[z.expando]){if(t.events)for(i in t.events)a[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[z.expando]=void 0}n[V.expando]&&(n[V.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ae(this,e,!0)},remove:function(e){return Ae(this,e)},text:function(e){return U(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ce(this,e).appendChild(e)})},prepend:function(){return _e(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ce(this,e)).insertBefore(e,t.firstChild)})},before:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!we.test(e)&&!oe[(ae.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return _e(this,arguments,function(e){var t=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(se(this)),t&&t.replaceChild(e,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){C.fn[e]=function(e){for(var t,n=[],i=C(e),a=i.length-1,r=0;r<=a;r++)t=r===a?this:this.clone(!0),C(i[r])[o](t),l.apply(n,t.get());return this.pushStack(n)}});var Ee,Pe,Le,Ie,Oe,Me,Re=/^margin/,je=new RegExp("^("+u+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=x),t.getComputedStyle(e)};function Ne(){var e;Me&&(Me.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Me.innerHTML="",ue.appendChild(Oe),e=x.getComputedStyle(Me),Ee="1%"!==e.top,Ie="2px"===e.marginLeft,Pe="4px"===e.width,Me.style.marginRight="50%",Le="4px"===e.marginRight,ue.removeChild(Oe),Me=null)}function qe(e,t,n){var i,a,r=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||C.contains(e.ownerDocument,e)||(a=C.style(e,t)),!g.pixelMarginRight()&&je.test(a)&&Re.test(t)&&(i=r.width,e=r.minWidth,t=r.maxWidth,r.minWidth=r.maxWidth=r.width=a,a=n.width,r.width=i,r.minWidth=e,r.maxWidth=t)),void 0!==a?a+"":a}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Oe=$.createElement("div"),(Me=$.createElement("div")).style&&(Me.style.backgroundClip="content-box",Me.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===Me.style.backgroundClip,Oe.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",Oe.appendChild(Me),C.extend(g,{pixelPosition:function(){return Ne(),Ee},boxSizingReliable:function(){return Ne(),Pe},pixelMarginRight:function(){return Ne(),Le},reliableMarginLeft:function(){return Ne(),Ie}}));var He=/^(none|table(?!-c[ea]).+)/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},ze=["Webkit","Moz","ms"],Ve=$.createElement("div").style;function We(e){if(e in Ve)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Ve)return e}function Qe(e,t,n){var i=K.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Xe(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=C.css(e,n+J[r],!0,a)),i?("content"===n&&(o-=C.css(e,"padding"+J[r],!0,a)),"margin"!==n&&(o-=C.css(e,"border"+J[r]+"Width",!0,a))):(o+=C.css(e,"padding"+J[r],!0,a),"padding"!==n&&(o+=C.css(e,"border"+J[r]+"Width",!0,a)));return o}function Ge(e,t,n){var i,a=!0,r=Fe(e),o="border-box"===C.css(e,"boxSizing",!1,r);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(((i=qe(e,t,r))<0||null==i)&&(i=e.style[t]),je.test(i))return i;a=o&&(g.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Xe(e,t,n||(o?"border":"content"),a,r)+"px"}function Ke(e,t,n,i,a){return new Ke.prototype.init(e,t,n,i,a)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=qe(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,o,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=We(s)||s),o=C.cssHooks[t]||C.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(a=o.get(e,!1,i))?a:l[t];"string"===(r=typeof n)&&(a=K.exec(n))&&a[1]&&(n=ee(e,t,a),r="number"),null!=n&&n==n&&("number"===r&&(n+=a&&a[3]||(C.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var a,r=C.camelCase(t);return t=C.cssProps[r]||(C.cssProps[r]=We(r)||r),(r=C.cssHooks[t]||C.cssHooks[r])&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=qe(e,t,i)),"normal"===a&&t in Ye&&(a=Ye[t]),""===n||n?(t=parseFloat(a),!0===n||isFinite(t)?t||0:a):a}}),C.each(["height","width"],function(e,r){C.cssHooks[r]={get:function(e,t,n){if(t)return!He.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ge(e,r,n):G(e,Ue,function(){return Ge(e,r,n)})},set:function(e,t,n){var i,a=n&&Fe(e),a=n&&Xe(e,r,n,"border-box"===C.css(e,"boxSizing",!1,a),a);return a&&(i=K.exec(t))&&"px"!==(i[3]||"px")&&(e.style[r]=t,t=C.css(e,r)),Qe(0,t,a)}}}),C.cssHooks.marginLeft=Be(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-G(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(a,r){C.cssHooks[a+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[a+J[t]+r]=i[t]||i[t-2]||i[0];return n}},Re.test(a)||(C.cssHooks[a+r].set=Qe)}),C.fn.extend({css:function(e,t){return U(this,function(e,t,n){var i,a,r={},o=0;if(C.isArray(t)){for(i=Fe(e),a=t.length;o<a;o++)r[t[o]]=C.css(e,t[o],!1,i);return r}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,1<arguments.length)}}),(C.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return(e&&e.get?e:Ke.propHooks._default).get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:Ke.propHooks._default).set(this),this}},Ke.prototype.init.prototype=Ke.prototype,Ke.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},Ke.propHooks.scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=Ke.prototype.init,C.fx.step={};var Je,Ze,et=/^(?:toggle|show|hide)$/,tt=/queueHooks$/;function nt(){Ze&&(x.requestAnimationFrame(nt),C.fx.tick())}function it(){return x.setTimeout(function(){Je=void 0}),Je=C.now()}function at(e,t){var n,i=0,a={height:e};for(t=t?1:0;i<4;i+=2-t)a["margin"+(n=J[i])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function rt(e,t,n){for(var i,a=(ot.tweeners[t]||[]).concat(ot.tweeners["*"]),r=0,o=a.length;r<o;r++)if(i=a[r].call(n,t,e))return i}function ot(a,e,t){var n,r,i=0,o=ot.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Je||it(),e=Math.max(0,c.startTime+c.duration-e),t=1-(e/c.duration||0),n=0,i=c.tweens.length;n<i;n++)c.tweens[n].run(t);return s.notifyWith(a,[c,t,e]),t<1&&i?e:(s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:Je||it(),duration:t.duration,tweens:[],createTween:function(e,t){e=C.Tween(a,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(e),e},stop:function(e){var t=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,e])):s.rejectWith(a,[c,e]),this}}),d=c.props;for(!function(e,t){var n,i,a,r,o;for(n in e)if(a=t[i=C.camelCase(n)],r=e[n],C.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(o=C.cssHooks[i])&&"expand"in o)for(n in r=o.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=a);else t[i]=a}(d,c.opts.specialEasing);i<o;i++)if(n=ot.prefilters[i].call(c,a,d,c.opts))return C.isFunction(n.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=C.proxy(n.stop,n)),n;return C.map(d,rt,c),C.isFunction(c.opts.start)&&c.opts.start.call(a,c),C.fx.timer(C.extend(l,{elem:a,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(ot,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ee(n.elem,e,K.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,a=(e=C.isFunction(e)?(t=e,["*"]):e.match(M)).length;i<a;i++)n=e[i],ot.tweeners[n]=ot.tweeners[n]||[],ot.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,a,r,o,s,l,c,d="width"in t||"height"in t,u=this,p={},h=e.style,f=e.nodeType&&Z(e),m=z.get(e,"fxshow");for(i in n.queue||(null==(o=C._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,C.queue(e,"fx").length||o.empty.fire()})})),t)if(a=t[i],et.test(a)){if(delete t[i],r=r||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=z.get(e,"display")),"none"===(d=C.css(e,"display"))&&(c?d=c:(ne([e],!0),c=e.style.display||c,d=C.css(e,"display"),ne([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(e,"float")&&(l||(u.done(function(){h.display=c}),null==c&&(d=h.display,c="none"===d?"":d)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=z.access(e,"fxshow",{display:c}),r&&(m.hidden=!f),f&&ne([e],!0),u.done(function(){for(i in f||ne([e]),z.remove(e,"fxshow"),p)C.style(e,i,p[i])})),l=rt(f?m[i]:0,i,u),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ot.prefilters.unshift(e):ot.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"==typeof e?C.extend({},e):{complete:n||!n&&t||C.isFunction(e)&&e,duration:e,easing:n&&t||t&&!C.isFunction(t)&&t};return C.fx.off||$.hidden?i.duration=0:i.duration="number"==typeof i.duration?i.duration:i.duration in C.fx.speeds?C.fx.speeds[i.duration]:C.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Z).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var a=C.isEmptyObject(t),r=C.speed(e,n,i),i=function(){var e=ot(this,C.extend({},t),r);(a||z.get(this,"finish"))&&e.stop(!0)};return i.finish=i,a||!1===r.queue?this.each(i):this.queue(r.queue,i)},stop:function(a,e,r){function o(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof a&&(r=e,e=a,a=void 0),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var e=!0,t=null!=a&&a+"queueHooks",n=C.timers,i=z.get(this);if(t)i[t]&&i[t].stop&&o(i[t]);else for(t in i)i[t]&&i[t].stop&&tt.test(t)&&o(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=a&&n[t].queue!==a||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||C.dequeue(this,a)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=z.get(this),n=t[o+"queue"],i=t[o+"queueHooks"],a=C.timers,r=n?n.length:0;for(t.finish=!0,C.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===o&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,i){var a=C.fn[i];C.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(at(i,!0),e,t,n)}}),C.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){C.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(Je=C.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),Je=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Ze=Ze||(x.requestAnimationFrame?x.requestAnimationFrame(nt):x.setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){x.cancelAnimationFrame?x.cancelAnimationFrame(Ze):x.clearInterval(Ze),Ze=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,e){return i=C.fx&&C.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=x.setTimeout(e,i);t.stop=function(){x.clearTimeout(n)}})},t=$.createElement("input"),u=$.createElement("select").appendChild($.createElement("option")),t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=u.selected,(t=$.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value;var st,lt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return U(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?C.prop(e,t,n):(1===r&&C.isXMLDoc(e)||(a=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?st:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(a&&"get"in a&&null!==(i=a.get(e,t)))&&null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,a=t&&t.match(M);if(a&&1===e.nodeType)for(;n=a[i++];)e.removeAttribute(n)}}),st={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=lt[t]||C.find.attr;lt[t]=function(e,t,n){var i,a,r=t.toLowerCase();return n||(a=lt[r],lt[r]=i,i=null!=o(e,t,n)?r:null,lt[r]=a),i}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;C.fn.extend({prop:function(e,t){return U(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,a,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(e)||(t=C.propFix[t]||t,a=C.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var ut=/[\t\r\n\f]/g;function pt(e){return e.getAttribute&&e.getAttribute("class")||""}C.fn.extend({addClass:function(t){var e,n,i,a,r,o,s=0;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,pt(this)))});if("string"==typeof t&&t)for(e=t.match(M)||[];n=this[s++];)if(o=pt(n),i=1===n.nodeType&&(" "+o+" ").replace(ut," ")){for(r=0;a=e[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");o!==(o=C.trim(i))&&n.setAttribute("class",o)}return this},removeClass:function(t){var e,n,i,a,r,o,s=0;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,pt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(M)||[];n=this[s++];)if(o=pt(n),i=1===n.nodeType&&(" "+o+" ").replace(ut," ")){for(r=0;a=e[r++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");o!==(o=C.trim(i))&&n.setAttribute("class",o)}return this},toggleClass:function(a,t){var r=typeof a;return"boolean"==typeof t&&"string"==r?t?this.addClass(a):this.removeClass(a):C.isFunction(a)?this.each(function(e){C(this).toggleClass(a.call(this,e,pt(this),t),t)}):this.each(function(){var e,t,n,i;if("string"==r)for(t=0,n=C(this),i=a.match(M)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==a&&"boolean"!=r||((e=pt(this))&&z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==a&&z.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+pt(t)+" ").replace(ut," ").indexOf(i))return!0;return!1}});var ht=/\r/g,ft=/[\x20\t\r\n\f]+/g;C.fn.extend({val:function(t){var n,e,i,a=this[0];return arguments.length?(i=C.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):a?(n=C.valHooks[a.type]||C.valHooks[a.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(a,"value"))?e:"string"==typeof(e=a.value)?e.replace(ht,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e)).replace(ft," ")}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,a="select-one"===e.type,r=a?null:[],o=a?i+1:n.length,s=i<0?o:a?i:0;s<o;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!C.nodeName(t.parentNode,"optgroup"))){if(t=C(t).val(),a)return t;r.push(t)}return r},set:function(e,t){for(var n,i,a=e.options,r=C.makeArray(t),o=a.length;o--;)((i=a[o]).selected=-1<C.inArray(C.valHooks.option.get(i),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,n,i){var a,r,o,s,l,c,d=[n||$],u=f.call(e,"type")?e.type:e,p=f.call(e,"namespace")?e.namespace.split("."):[],h=r=n=n||$;if(3!==n.nodeType&&8!==n.nodeType&&!mt.test(u+C.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),s=u.indexOf(":")<0&&"on"+u,(e=e[C.expando]?e:new C.Event(u,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[u]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!C.isWindow(n)){for(o=c.delegateType||u,mt.test(o+u)||(h=h.parentNode);h;h=h.parentNode)d.push(h),r=h;r===(n.ownerDocument||$)&&d.push(r.defaultView||r.parentWindow||x)}for(a=0;(h=d[a++])&&!e.isPropagationStopped();)e.type=1<a?o:c.bindType||u,(l=(z.get(h,"events")||{})[e.type]&&z.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&H(h)&&(e.result=l.apply(h,t),!1===e.result&&e.preventDefault());return e.type=u,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!H(n)||s&&C.isFunction(n[u])&&!C.isWindow(n)&&((r=n[s])&&(n[s]=null),n[C.event.triggered=u](),C.event.triggered=void 0,r&&(n[s]=r)),e.result}},simulate:function(e,t,n){e=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(e,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){C.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),g.focusin="onfocusin"in x,g.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function a(e){C.event.simulate(i,e.target,C.event.fix(e))}C.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=z.access(e,i);t||e.addEventListener(n,a,!0),z.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=z.access(e,i)-1;t?z.access(e,i,t):(e.removeEventListener(n,a,!0),z.remove(e,i))}}});var gt=x.location,vt=C.now(),yt=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new x.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var bt=/\[\]$/,wt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function n(e,t){t=C.isFunction(t)?t():t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,a=[];if(C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,a,r){if(C.isArray(e))C.each(e,function(e,t){a||bt.test(i)?r(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,a,r)});else if(a||"object"!==C.type(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],a,r)}(i,e[i],t,n);return a.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&xt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ie.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}});var $t=/%20/g,Ct=/#.*$/,St=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,_t=/^\/\//,At={},Et={},Pt="*/".concat("*"),Lt=$.createElement("a");function It(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,a=e.toLowerCase().match(M)||[];if(C.isFunction(t))for(;n=a[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Ot(t,i,a,r){var o={},s=t===Et;function l(e){var n;return o[e]=!0,C.each(t[e]||[],function(e,t){t=t(i,a,r);return"string"!=typeof t||s||o[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!o["*"]&&l("*")}function Mt(e,t){var n,i,a=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}Lt.href=gt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mt(Mt(e,C.ajaxSettings),t):Mt(C.ajaxSettings,e)},ajaxPrefilter:It(At),ajaxTransport:It(Et),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,c,d,n,u,i,p,h,a,f=C.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=f.statusCode||{},r={},o={},s="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Tt.exec(d);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){if(e)if(p)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),k(0,e),this}};if(v.promise(w),f.url=((e||f.url||gt.href)+"").replace(_t,gt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(M)||[""],null==f.crossDomain){i=$.createElement("a");try{i.href=f.url,i.href=i.href,f.crossDomain=Lt.protocol+"//"+Lt.host!=i.protocol+"//"+i.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ot(At,f,t,w),p)return w;for(a in(h=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Dt.test(f.type),c=f.url.replace(Ct,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace($t,"+")):(e=f.url.slice(c.length),f.data&&(c+=(yt.test(c)?"&":"?")+f.data,delete f.data),!1===f.cache&&(c=c.replace(St,""),e=(yt.test(c)?"&":"?")+"_="+vt+++e),f.url=c+e),f.ifModified&&(C.lastModified[c]&&w.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&w.setRequestHeader("If-None-Match",C.etag[c])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Pt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(!1===f.beforeSend.call(m,w,f)||p))return w.abort();if(s="abort",y.add(f.complete),w.done(f.success),w.fail(f.error),l=Ot(Et,f,t,w)){if(w.readyState=1,h&&g.trigger("ajaxSend",[w,f]),p)return w;f.async&&0<f.timeout&&(u=x.setTimeout(function(){w.abort("timeout")},f.timeout));try{p=!1,l.send(r,k)}catch(e){if(p)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,n,i){var a,r,o,s=t;p||(p=!0,u&&x.clearTimeout(u),l=void 0,d=i||"",w.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(o=function(e,t,n){for(var i,a,r,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}o=o||a}r=r||o}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,w,n)),o=function(e,t,n,i){var a,r,o,s,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=d.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=c[l+" "+r]||c["* "+r]))for(a in c)if(s=a.split(" "),s[1]===r&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[a]:!0!==c[a]&&(r=s[0],d.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(f,o,w,i),i?(f.ifModified&&((n=w.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=n),(n=w.getResponseHeader("etag"))&&(C.etag[c]=n)),204===e||"HEAD"===f.type?s="nocontent":304===e?s="notmodified":(s=o.state,a=o.data,i=!(r=o.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),w.status=e,w.statusText=(t||s)+"",i?v.resolveWith(m,[a,s,w]):v.rejectWith(m,[w,s,r]),w.statusCode(b),b=void 0,h&&g.trigger(i?"ajaxSuccess":"ajaxError",[w,f,i?a:r]),y.fireWith(m,[w,s]),h&&(g.trigger("ajaxComplete",[w,f]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,a){C[a]=function(e,t,n,i){return C.isFunction(t)&&(i=i||n,n=t,t=void 0),C.ajax(C.extend({url:e,type:a,dataType:i,data:t,success:n},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){return this[0]&&(C.isFunction(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return C.isFunction(n)?this.each(function(e){C(this).wrapInner(n.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=C.isFunction(t);return this.each(function(e){C(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(e){}};var Rt={0:200,1223:204},jt=C.ajaxSettings.xhr();g.cors=!!jt&&"withCredentials"in jt,g.ajax=jt=!!jt,C.ajaxTransport(function(a){var r,o;if(g.cors||jt&&!a.crossDomain)return{send:function(e,t){var n,i=a.xhr();if(i.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)i[n]=a.xhrFields[n];for(n in a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(r=o=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Rt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),o=i.onerror=r("error"),void 0!==i.onabort?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&x.setTimeout(function(){r&&o()})},r=r("abort");try{i.send(a.hasContent&&a.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(n){var i,a;if(n.crossDomain)return{send:function(e,t){i=C("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",a=function(e){i.remove(),a=null,e&&t("error"===e.type?404:200,e.type)}),$.head.appendChild(i[0])},abort:function(){a&&a()}}});var Ft=[],Nt=/(=)\?(?=&|$)|\?\?/;function qt(e){return C.isWindow(e)?e:9===e.nodeType&&e.defaultView}C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||C.expando+"_"+vt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var i,a,r,o=!1!==e.jsonp&&(Nt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Nt,"$1"+i):!1!==e.jsonp&&(e.url+=(yt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},e.dataTypes[0]="json",a=x[i],x[i]=function(){r=arguments},n.always(function(){void 0===a?C(x).removeProp(i):x[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ft.push(i)),r&&C.isFunction(a)&&a(r[0]),r=a=void 0}),"script"}),g.createHTMLDocument=((t=$.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=$.implementation.createHTMLDocument("")).createElement("base")).href=$.location.href,t.head.appendChild(i)):t=$),i=!n&&[],(n=D.exec(e))?[t.createElement(n[1])]:(n=de([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)));var i},C.fn.load=function(e,t,n){var i,a,r,o=this,s=e.indexOf(" ");return-1<s&&(i=C.trim(e.slice(s)),e=e.slice(0,s)),C.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),0<o.length&&C.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,n){var i,a,r,o,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=C.css(e,"top"),o=C.css(e,"left"),o=("absolute"===s||"fixed"===s)&&-1<(i+o).indexOf("auto")?(a=(s=l.position()).top,s.left):(a=parseFloat(i)||0,parseFloat(o)||0),C.isFunction(t)&&(t=t.call(e,n,C.extend({},r))),null!=t.top&&(c.top=t.top-r.top+a),null!=t.left&&(c.left=t.left-r.left+o),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect()).width||e.height?(i=qt(n=i.ownerDocument),n=n.documentElement,{top:e.top+i.pageYOffset-n.clientTop,left:e.left+i.pageXOffset-n.clientLeft}):e:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===C.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+C.css(e[0],"borderTopWidth",!0),left:i.left+C.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||ue})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,a){var r="pageYOffset"===a;C.fn[t]=function(e){return U(this,function(e,t,n){var i=qt(e);if(void 0===n)return i?i[a]:e[t];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),C.each(["top","left"],function(e,n){C.cssHooks[n]=Be(g.pixelPosition,function(e,t){if(t)return t=qe(e,n),je.test(t)?C(e).position()[n]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,s){C.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,r){C.fn[r]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),a=i||(!0===e||!0===t?"margin":"border");return U(this,function(e,t,n){var i;return C.isWindow(e)?0===r.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?C.css(e,t,a):C.style(e,t,n,a)},s,n?e:void 0,n)}})}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),C.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var Bt=x.jQuery,Ht=x.$;return C.noConflict=function(e){return x.$===C&&(x.$=Ht),e&&x.jQuery===C&&(x.jQuery=Bt),C},e||(x.jQuery=x.$=C),C}),function(){function r(e,t){return function(){return e.apply(t,arguments)}}var l,c,o,a,n,v,e,d,y,i,s,u,t,p,b,w,h,f,m,g,k,x,C,S,T,D,_,A,E,P,L,I,O,M,R,j,F,N,q,B,H,U,Y,z,V,W,Q=[].slice,X={}.hasOwnProperty,G=function(e,t){for(var n in t)X.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},K=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function J(){}for(f={className:"",catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},D=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},A=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,h=window.cancelAnimationFrame||window.mozCancelAnimationFrame,u=function(e,t,n){return"function"==typeof e.addEventListener?e.addEventListener(t,n,!1):("function"!=typeof e["on"+t]||"object"!=typeof e["on"+t].eventListeners?(i=new a,"function"==typeof e["on"+t]&&i.on(t,e["on"+t]),e["on"+t]=function(e){return i.trigger(t,e)},e["on"+t].eventListeners=i):i=e["on"+t].eventListeners,void i.on(t,n));var i},null==A&&(A=function(e){return setTimeout(e,50)},h=function(e){return clearTimeout(e)}),P=function(t){var n=D(),i=function(){var e=D()-n;return 33<=e?(n=D(),t(e,function(){return A(i)})):setTimeout(i,33-e)};return i()},E=function(){var e=arguments[0],t=arguments[1],n=3<=arguments.length?Q.call(arguments,2):[];return"function"==typeof e[t]?e[t].apply(e,n):e[t]},m=function(){for(var e,t,n,i=arguments[0],a=2<=arguments.length?Q.call(arguments,1):[],r=0,o=a.length;r<o;r++)if(t=a[r])for(e in t)X.call(t,e)&&(n=t[e],null!=i[e]&&"object"==typeof i[e]&&null!=n&&"object"==typeof n?m(i[e],n):i[e]=n);return i},p=function(e){for(var t,n,i=t=0,a=0,r=e.length;a<r;a++)n=e[a],i+=Math.abs(n),t++;return i/t},k=function(e,t){var n,i;if(null==e&&(e="options"),null==t&&(t=!0),i=document.querySelector("[data-pace-"+e+"]")){if(n=i.getAttribute("data-pace-"+e),!t)return n;try{return JSON.parse(n)}catch(e){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",e):void 0}}},J.prototype.on=function(e,t,n,i){var a;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(a=this.bindings)[e]&&(a[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},J.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},J.prototype.off=function(e,t){var n,i,a;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,a=[];n<this.bindings[e].length;)this.bindings[e][n].handler===t?a.push(this.bindings[e].splice(n,1)):a.push(n++);return a}},J.prototype.trigger=function(){var e,t,n,i,a,r,o=arguments[0],s=2<=arguments.length?Q.call(arguments,1):[];if(null!=(i=this.bindings)&&i[o]){for(n=0,r=[];n<this.bindings[o].length;)t=(a=this.bindings[o][n]).handler,e=a.ctx,a=a.once,t.apply(null!=e?e:this,s),a?r.push(this.bindings[o].splice(n,1)):r.push(n++);return r}},W=J,v=window.Pace||{},window.Pace=v,m(v,W.prototype),_=v.options=m({},f,window.paceOptions,k()),B=0,U=(z=["ajax","document","eventLag","elements"]).length;B<U;B++)!0===_[M=z[B]]&&(_[M]=f[M]);function Z(){return Z.__super__.constructor.apply(this,arguments)}function ee(){this.progress=0,this.$body=$("body")}function te(){this.bindings={}}function ne(){var t,r=this;ne.__super__.constructor.apply(this,arguments),t=function(i){var a=i.open;return i.open=function(e,t,n){return O(e)&&r.trigger("request",{type:e,url:t,request:i}),a.apply(i,arguments)}},window.XMLHttpRequest=function(e){e=new q(e);return t(e),e};try{g(window.XMLHttpRequest,q)}catch(e){}if(null!=N){window.XDomainRequest=function(){var e=new N;return t(e),e};try{g(window.XDomainRequest,N)}catch(e){}}if(null!=F&&_.ajax.trackWebSockets){window.WebSocket=function(e,t){var n=null!=t?new F(e,t):new F(e);return O("socket")&&r.trigger("request",{type:"socket",url:e,protocols:t,request:n}),n};try{g(window.WebSocket,F)}catch(e){}}}function ie(){this.complete=r(this.complete,this);var e=this;this.elements=[],x().on("request",function(){return e.watch.apply(e,arguments)})}function ae(e){var t,n,i,a;for(null==e&&(e={}),this.complete=r(this.complete,this),this.elements=[],null==e.selectors&&(e.selectors=[]),n=0,i=(a=e.selectors).length;n<i;n++)t=a[n],this.elements.push(new o(t,this.complete))}function re(e,t){this.selector=e,this.completeCallback=t,this.progress=0,this.check()}function oe(){var e,t,n=this;this.progress=null!=(t=this.states[document.readyState])?t:100,e=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof e?e.apply(null,arguments):void 0}}function se(e){this.source=e,this.last=this.sinceLastUpdate=0,this.rate=_.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=E(this.source,"progress"))}W=Error,G(Z,W),n=Z,ee.prototype.getElement=function(){var e;if(null==this.el){if(!(e=document.querySelector(_.target)))throw new n;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ");var t=""!==_.className?" "+_.className:"";this.el.innerHTML='<div class="pace-progress'+t+'">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=e.firstChild?e.insertBefore(this.el,e.firstChild):e.appendChild(this.el)}return this.el},ee.prototype.finish=function(){var e=this.getElement();return e.className=e.className.replace("pace-active","pace-inactive"),this.$body.removeClass("pace-running").addClass("pace-done"),document.body.className},ee.prototype.update=function(e){return this.progress=e,v.trigger("progress",e),this.render()},ee.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(e){n=e}return this.el=void 0},ee.prototype.render=function(){var e,t,n,i,a,r,o;if(null==document.querySelector(_.target))return!1;for(e=this.getElement(),i="translate3d("+this.progress+"%, 0, 0)",a=0,r=(o=["webkitTransform","msTransform","transform"]).length;a<r;a++)t=o[a],e.children[0].style[t]=i;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(e.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?n="99":(n=this.progress<10?"0":"",n+=0|this.progress),e.children[0].setAttribute("data-progress",""+n)),v.trigger("change",this.progress),this.lastRenderedProgress=this.progress},ee.prototype.done=function(){return 100<=this.progress},c=ee,te.prototype.trigger=function(e,t){var n,i,a,r,o;if(null!=this.bindings[e]){for(o=[],i=0,a=(r=this.bindings[e]).length;i<a;i++)n=r[i],o.push(n.call(this,t));return o}},te.prototype.on=function(e,t){var n;return null==(n=this.bindings)[e]&&(n[e]=[]),this.bindings[e].push(t)},a=te,q=window.XMLHttpRequest,N=window.XDomainRequest,F=window.WebSocket,g=function(e,t){var n,i=[];for(n in t.prototype)try{null==e[n]&&"function"!=typeof t[n]?"function"==typeof Object.defineProperty?i.push(Object.defineProperty(e,n,{get:function(e){return function(){return t.prototype[e]}}(n),configurable:!0,enumerable:!0})):i.push(e[n]=t.prototype[n]):i.push(void 0)}catch(e){0}return i},S=[],v.ignore=function(){var e=arguments[0],t=2<=arguments.length?Q.call(arguments,1):[];return S.unshift("ignore"),t=e.apply(null,t),S.shift(),t},v.track=function(){var e=arguments[0],t=2<=arguments.length?Q.call(arguments,1):[];return S.unshift("track"),t=e.apply(null,t),S.shift(),t},O=function(e){if(null==e&&(e="GET"),"track"===S[0])return"force";if(!S.length&&_.ajax){if("socket"===e&&_.ajax.trackWebSockets)return!0;if(e=e.toUpperCase(),0<=K.call(_.ajax.trackMethods,e))return!0}return!1},G(ne,a),e=ne,H=null,I=function(e){for(var t,n=_.ajax.ignoreURLs,i=0,a=n.length;i<a;i++)if("string"==typeof(t=n[i])){if(-1!==e.indexOf(t))return!0}else if(t.test(e))return!0;return!1},(x=function(){return null==H&&(H=new e),H})().on("request",function(e){var r,o=e.type,s=e.request,t=e.url;if(!I(t))return v.running||!1===_.restartOnRequestAfter&&"force"!==O(o)?void 0:(r=arguments,"boolean"==typeof(t=_.restartOnRequestAfter||0)&&(t=0),setTimeout(function(){var e,t,n,i,a="socket"===o?s.readyState<1:0<(a=s.readyState)&&a<4;if(a){for(v.restart(),i=[],e=0,t=(n=v.sources).length;e<t;e++){if((M=n[e])instanceof l){M.watch.apply(M,r);break}i.push(void 0)}return i}},t))}),ie.prototype.watch=function(e){var t=e.type,n=e.request,e=e.url;if(!I(e))return n=new("socket"===t?i:s)(n,this.complete),this.elements.push(n)},ie.prototype.complete=function(t){return this.elements=this.elements.filter(function(e){return e!==t})},l=ie,s=function(t,n){var e,i,a,r,o=this;if(this.progress=0,null!=window.ProgressEvent)for(u(t,"progress",function(e){return e.lengthComputable?o.progress=100*e.loaded/e.total:o.progress=o.progress+(100-o.progress)/2}),e=0,i=(r=["load","abort","timeout","error"]).length;e<i;e++)u(t,r[e],function(){return n(o),o.progress=100});else a=t.onreadystatechange,t.onreadystatechange=function(){var e;return 0===(e=t.readyState)||4===e?(n(o),o.progress=100):3===t.readyState&&(o.progress=50),"function"==typeof a?a.apply(null,arguments):void 0}},i=function(e,t){for(var n,i=this,a=this.progress=0,r=(n=["error","open"]).length;a<r;a++)u(e,n[a],function(){return t(i),i.progress=100})},ae.prototype.complete=function(t){return this.elements=this.elements.filter(function(e){return e!==t})},k=ae,re.prototype.check=function(){var e=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return e.check()},_.elements.checkInterval)},re.prototype.done=function(){return this.completeCallback(this),this.completeCallback=null,this.progress=100},o=re,oe.prototype.states={loading:0,interactive:50,complete:100},W=oe,G=function(){var t,n,i,a,r,o=this;this.progress=0,r=[],a=0,i=D(),n=setInterval(function(){var e=D()-i-50;return i=D(),r.push(e),r.length>_.eventLag.sampleCount&&r.shift(),t=p(r),++a>=_.eventLag.minSamples&&t<_.eventLag.lagThreshold?(o.progress=100,clearInterval(n)):o.progress=3/(t+3)*100},50)},se.prototype.tick=function(e,t){return null==t&&(t=E(this.source,"progress")),100<=t&&(this.done=!0),t===this.last?this.sinceLastUpdate+=e:(this.sinceLastUpdate&&(this.rate=(t-this.last)/this.sinceLastUpdate),this.catchup=(t-this.progress)/_.catchupTime,this.sinceLastUpdate=0,this.last=t),t>this.progress&&(this.progress+=this.catchup*e),t=1-Math.pow(this.progress/100,_.easeFactor),this.progress+=t*this.rate*e,this.progress=Math.min(this.lastProgress+_.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},y=se,w=t=j=b=L=R=null,v.running=!1,C=function(){if(_.restartOnPushState)return v.restart()},null!=window.history.pushState&&(Y=window.history.pushState,window.history.pushState=function(){return C(),Y.apply(window.history,arguments)}),null!=window.history.replaceState&&(V=window.history.replaceState,window.history.replaceState=function(){return C(),V.apply(window.history,arguments)}),d={ajax:l,elements:k,document:W,eventLag:G},(T=function(){var e,t,n,i,a,r,o,s;for(v.sources=R=[],t=0,i=(r=["ajax","elements","document","eventLag"]).length;t<i;t++)!1!==_[e=r[t]]&&R.push(new d[e](_[e]));for(n=0,a=(s=null!=(o=_.extraSources)?o:[]).length;n<a;n++)M=s[n],R.push(new M(_));return v.bar=b=new c,L=[],j=new y})(),v.stop=function(){return v.trigger("stop"),v.running=!1,b.destroy(),w=!0,null!=t&&("function"==typeof h&&h(t),t=null),T()},v.restart=function(){return v.trigger("restart"),v.stop(),v.start()},v.go=function(){var g;return v.running=!0,b.render(),g=D(),w=!1,t=P(function(e,t){b.progress;for(var n,i,a,r,o,s,l,c,d,u,p=s=0,h=!0,f=l=0,m=R.length;l<m;f=++l)for(M=R[f],o=null!=L[f]?L[f]:L[f]=[],a=c=0,d=(i=null!=(u=M.elements)?u:[M]).length;c<d;a=++c)r=i[a],h&=(r=null!=o[a]?o[a]:o[a]=new y(r)).done,r.done||(p++,s+=r.tick(e));return n=s/p,b.update(j.tick(e,n)),b.done()||h||w?(b.update(100),v.trigger("done"),setTimeout(function(){return b.finish(),v.running=!1,v.trigger("hide")},Math.max(_.ghostTime,Math.max(_.minTime-(D()-g),0)))):t()})},v.start=function(e){m(_,e),v.running=!0;try{b.render()}catch(e){n=e}return document.querySelector(".pace")?(v.trigger("start"),v.go()):setTimeout(v.start,50)},"function"==typeof define&&define.amd?define(function(){return v}):"object"==typeof exports?module.exports=v:_.startOnPageLoad&&v.start()}.call(this),function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e)for(var n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){if(e)for(var n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){for(var n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,i,a){return e&&eachProp(e,function(e,t){!i&&hasProp(n,t)||(!a||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,i,a)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){t=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return t.requireType=e,t.requireModules=i,n&&(t.originalError=n),t}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var a,r=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=i):e=[]),a&&a.context&&(r=a.context),i=(i=getOwn(contexts,r))||(contexts[r]=req.s.newContext(r)),a&&i.configure(a),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(t,n,i){var e,a=t&&t.config||{};if(isBrowser)return(e=req.createNode(a,n,i)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=i,a.onNodeCreated&&a.onNodeCreated(e,a,n,i),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+i,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var i,a;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e=e||i.getAttribute("data-requiremodule"),a=contexts[i.getAttribute("data-requirecontext")]),a?(a.defQueue.push([e,n,t]),a.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(l){var t,e,p,c,n,m={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},d={},u={},i={},h=[],f={},a={},g={},v=1,y=1;function b(e,t,n){var i,a,r,o,s,l,c,d,u,p=t&&t.split("/"),h=m.map,f=h&&h["*"];if(e&&(t=(e=e.split("/")).length-1,m.nodeIdCompat&&jsSuffixRegExp.test(e[t])&&(e[t]=e[t].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),function(e){for(var t,n=0;n<e.length;n++)"."===(t=e[n])?(e.splice(n,1),--n):".."===t&&(0===n||1===n&&".."===e[2]||".."===e[n-1]||0<n&&(e.splice(n-1,2),n-=2))}(e),e=e.join("/")),n&&h&&(p||f)){e:for(r=(a=e.split("/")).length;0<r;--r){if(s=a.slice(0,r).join("/"),p)for(o=p.length;0<o;--o)if(i=getOwn(h,p.slice(0,o).join("/")),i=i&&getOwn(i,s)){l=i,c=r;break e}!d&&f&&getOwn(f,s)&&(d=getOwn(f,s),u=r)}!l&&d&&(l=d,c=u),l&&(a.splice(0,c,l),e=a.join("/"))}return getOwn(m.pkgs,e)||e}function w(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===p.contextName)return e.parentNode.removeChild(e),!0})}function k(e){var t=getOwn(m.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),p.require.undef(e),p.makeRequire(null,{skipMap:!0})([e]),1)}function x(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function $(e,t,n,i){var a,r,o,s=null,l=t?t.name:null,c=e,d=!0,u="";return e||(d=!1,e="_@r"+(v+=1)),s=(o=x(e))[0],e=o[1],s&&(s=b(s,l,i),r=getOwn(f,s)),e&&(s?u=n?e:r&&r.normalize?r.normalize(e,function(e){return b(e,l,i)}):-1===e.indexOf("!")?b(e,l,i):e:(s=(o=x(u=b(e,l,i)))[0],u=o[1],n=!0,a=p.nameToUrl(u))),{prefix:s,name:u,parentMap:t,unnormalized:!!(n=!s||r||n?"":"_unnormalized"+(y+=1)),url:a,originalName:c,isDefine:d,id:(s?s+"!"+u:u)+n}}function C(e){var t=e.id;return getOwn(d,t)||(d[t]=new p.Module(e))}function S(e,t,n){var i=e.id,a=getOwn(d,i);!hasProp(f,i)||a&&!a.defineEmitComplete?(a=C(e)).error&&"error"===t?n(a.error):a.on(t,n):"defined"===t&&n(f[i])}function T(t,e){var n=t.requireModules,i=!1;e?e(t):(each(n,function(e){e=getOwn(d,e);e&&(e.error=t,e.events.error&&(i=!0,e.emit("error",t)))}),i||req.onError(t))}function D(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(p.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function _(e){delete d[e],delete u[e]}function A(){var i,e=1e3*m.waitSeconds,a=e&&p.startTime+e<(new Date).getTime(),r=[],o=[],s=!1,l=!0;if(!t){if(t=!0,eachProp(u,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&a)k(n)?s=i=!0:(r.push(n),w(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return l=!1}),a&&r.length)return(e=makeError("timeout","Load timeout for modules: "+r,null,r)).contextName=p.contextName,T(e),0;l&&each(o,function(e){!function i(a,r,o){var e=a.map.id;a.error?a.emit("error",a.error):(r[e]=!0,each(a.depMaps,function(e,t){var n=e.id,e=getOwn(d,n);!e||a.depMatched[t]||o[n]||(getOwn(r,n)?(a.defineDep(t,f[n]),a.check()):i(e,r,o))}),o[e]=!0)}(e,{},{})}),a&&!i||!s||!isBrowser&&!isWebWorker||n||(n=setTimeout(function(){n=0,A()},50)),t=!1}}function o(e){hasProp(f,e[0])||C($(e[0],null,!0)).init(e[1],e[2])}function r(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function s(e){e=e.currentTarget||e.srcElement;return r(e,p.onScriptLoad,"load","onreadystatechange"),r(e,p.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function E(){var e;for(D();h.length;){if(null===(e=h.shift())[0])return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1])),0;o(e)}p.defQueueMap={}}return c={require:function(e){return e.require||(e.require=p.makeRequire(e.map))},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?f[e.map.id]=e.exports:e.exports=f[e.map.id]={}},module:function(e){return e.module||(e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(m.config,e.map.id)||{}},exports:e.exports||(e.exports={})})}},(e=function(e){this.events=getOwn(i,e.id)||{},this.map=e,this.shim=getOwn(m.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;a[e]||(a[e]=!0,p.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,n,i=this.map.id,a=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=p.execCb(i,o,a,r)}catch(e){t=e}else r=p.execCb(i,o,a,r);if(this.map.isDefine&&void 0===r&&((e=this.module)?r=e.exports:this.usingExports&&(r=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",T(this.error=t)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(f[i]=r,req.onResourceLoad&&(n=[],each(this.depMaps,function(e){n.push(e.normalizedMap||e)}),req.onResourceLoad(p,this.map,n))),_(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,i)||this.fetch()}},callPlugin:function(){var s=this.map,l=s.id,e=$(s.prefix);this.depMaps.push(e),S(e,"defined",bind(this,function(e){var r,t,n=getOwn(g,this.map.id),i=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,o=p.makeRequire(s.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return b(e,a,!0)})||""),S(t=$(s.prefix+"!"+i,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((i=getOwn(d,t.id))&&(this.depMaps.push(t),this.events.error&&i.on("error",bind(this,function(e){this.emit("error",e)})),i.enable()))):n?(this.map.url=p.nameToUrl(n),void this.load()):((r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[l],eachProp(d,function(e){0===e.map.id.indexOf(l+"_unnormalized")&&_(e.map.id)}),T(e)}),r.fromText=bind(this,function(e,t){var n=s.name,i=$(n),a=useInteractive;t&&(e=t),a&&(useInteractive=!1),C(i),hasProp(m.config,l)&&(m.config[n]=m.config[l]);try{req.exec(e)}catch(e){return T(makeError("fromtexteval","fromText eval for "+l+" failed: "+e,e,[l]))}a&&(useInteractive=!0),this.depMaps.push(i),p.completeLoad(n),o([n],r)}),void e.load(s.name,o,r,m))})),p.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(u[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i;if("string"==typeof e){if(e=$(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(c,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,S(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?S(e,"error",bind(this,this.errback)):this.events.error&&S(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=d[n],hasProp(c,n)||!i||i.enabled||p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(d,e.id);t&&!t.enabled&&p.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){(this.events[e]||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(p={config:m,contextName:l,registry:d,defined:f,urlFetched:a,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:$,nextTick:req.nextTick,onError:T,configure:function(e){var n;e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs&&(n=e.urlArgs,e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n});var i=m.shim,a={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){a[t]?(m[t]||(m[t]={}),mixin(m[t],e,!0,!0)):m[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(g[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=p.makeShimExports(e)),i[t]=e}),m.shim=i),e.packages&&each(e.packages,function(e){var t=(e="string"==typeof e?{name:e}:e).name;e.location&&(m.paths[t]=e.location),m.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(d,function(e,t){e.inited||e.map.unnormalized||(e.map=$(t,null,!0))}),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(r,o){function s(e,t,n){var i,a;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?T(makeError("requireargs","Invalid require call"),n):r&&hasProp(c,e)?c[e](d[r.id]):req.get?req.get(p,e,r,s):(i=$(e,r,!1,!0).id,hasProp(f,i)?f[i]:T(makeError("notloaded",'Module name "'+i+'" has not been loaded yet for context: '+l+(r?"":". Use require([])")))):(E(),p.nextTick(function(){E(),(a=C($(null,r))).skipMap=o.skipMap,a.init(e,t,n,{enabled:!0}),A()}),s)}return o=o||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),i=e.split("/")[0];return-1!==n&&(!("."===i||".."===i)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),p.nameToUrl(b(e,r&&r.id,!0),t,!0)},defined:function(e){return hasProp(f,$(e,r,!1,!0).id)},specified:function(e){return e=$(e,r,!1,!0).id,hasProp(f,e)||hasProp(d,e)}}),r||(s.undef=function(n){D();var e=$(n,r,!0),t=getOwn(d,n);t.undefed=!0,w(n),delete f[n],delete a[e.url],delete i[n],eachReverse(h,function(e,t){e[0]===n&&h.splice(t,1)}),delete p.defQueueMap[n],t&&(t.events.defined&&(i[n]=t.events),_(n))}),s},enable:function(e){getOwn(d,e.id)&&C(e).enable()},completeLoad:function(e){var t,n,i,a=getOwn(m.shim,e)||{},r=a.exports;for(D();h.length;){if(null===(n=h.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(p.defQueueMap={},i=getOwn(d,e),!t&&!hasProp(f,e)&&i&&!i.inited){if(!(!m.enforceDefine||r&&getGlobal(r)))return k(e)?void 0:T(makeError("nodefine","No define call for "+e,null,[e]));o([e,a.deps||[],a.exportsFn])}A()},nameToUrl:function(e,t,n){var i,a,r,o,s,l=getOwn(m.pkgs,e);if(l&&(e=l),l=getOwn(g,e))return p.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=m.paths,r=(a=e.split("/")).length;0<r;--r)if(s=getOwn(i,a.slice(0,r).join("/"))){isArray(s)&&(s=s[0]),a.splice(0,r,s);break}o=a.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":m.baseUrl)+o}return m.urlArgs&&!/^blob\:/.test(o)?o+m.urlArgs(e,o):o},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){"load"!==e.type&&!readyRegExp.test((e.currentTarget||e.srcElement).readyState)||(interactiveScript=null,e=s(e),p.completeLoad(e.id))},onScriptError:function(e){var n=s(e);if(!k(n.id)){var i=[];return eachProp(d,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return i.push(t),!0})}),T(makeError("scripterror",'Script error for "'+n.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[n.id]))}}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),function(e){function t(){var e=this;e.sys={core:"busyAdmin",jquery:"jquery",pace:"pace"},e.lib={bootstrap:"bootstrap",layer:"layer"},e.e={},e.plugins={},e.clickIgnore=[],e.autoInitList=[],e.helper=null,e.app=null,e.route=null,e.request=null,e.response=null,e.dialog=null,e.require=require,e.define=define,e.locale={},e.config={root:"/",moduleRoot:"/",version:"1.0.0",configs:{}},e.data={},e.sugars={},e.requireShims={},e.requirePaths={},e.defaultZIndex=1e4}var r;t.prototype={autoInit:function(e,t){this.autoInitList.push({selector:e,callback:t})},regSugar:function(e,t){this.sugars[e]=t},dispatchSugar:function(i,e,a,r){var o;"string"==typeof e&&e&&(o=this,(e=e.split("|@")).map(function(e){var t,n;(e=e.trim())&&-1!==e.indexOf(".")&&(0===e.indexOf("@")&&(e=e.substr(1)),n=e.indexOf("."),t=e.substr(0,n).trim(),e=e.substr(n+1).trim(),n=o.sugars[t],t&&e&&"function"==typeof n&&n.call(o,i,e,a,r))}))},ee:function(e,t){return"busy-admin:"+t+"-"+e.replace(/([A-Z])/g,"_$1").toLowerCase().replace(/_/g,"-").toLowerCase()},addMod:function(e,t,n){return this.lib[e]=e,this.requirePaths[e]=t,n&&(this.requireShims[e]=n),this},init:function(e){var t,n=this;n.config=e||{},a=busyAdmin,t=a.moduleRoot(),e=a.root(),r.addMod("bootstrap","bootstrap/js/bootstrap.min").addMod("layer","layer/layer.min",["css!"+t+"layer/theme/default/layer"]).addMod("moment","moment/moment.min").addMod("marked","marked/marked.min").addMod("vue","vue/vue").addMod("clipboard","clipboard/clipboard.min").addMod("md5","md5/md5.min").addMod("sticky","sticky/jquery.sticky.min").addMod("jqueryUi","jquery-ui/jquery-ui.min").addMod("toastr","toastr/toastr.min",["css!"+t+"toastr/toastr.min"]).addMod("highlight","hijs/highlight.min",{deps:["css!hijs/css.min"],exports:"hljs"}).addMod("colorPicker","bootstrap-colorpicker/js/bootstrap-colorpicker.min",["css!"+t+"bootstrap-colorpicker/css/bootstrap-colorpicker.min"]).addMod("tree","tree/jstree.min",["css!"+t+"tree/themes/default/style.min"]).addMod("uploadConfig",a.getConfig("upload",{}).configUrl).addMod("webUploader","webuploader/webuploader.min",["css!"+t+"webuploader/webuploader"]).addMod("video","video-js/video.min",["css!video-js/video.min"]).addMod("audio","audio-js/audio.min").addMod("imageViewer","image-viewer/viewer.min",["css!image-viewer/viewer.min"]).addMod("sortable","sortable/sortable.min").addMod("dragtable","dragtable/jquery-dragtable.min",["css!"+t+"dragtable/dragtable.min","jqueryUi"]).addMod("treegrid","treegrid/jquery.treegrid.min",["css!"+t+"treegrid/jquery.treegrid.min"]).addMod("bootstrapTable","bootstrap-table/bootstrap-table.min",["css!bootstrap-table/bootstrap-table.min"]).addMod("bootstrapTableReorderColumns","bootstrap-table/reorder-columns/bootstrap-table-reorder-columns.min",["dragtable"]).addMod("bootstrapTableResizable","bootstrap-table/resizable/bootstrap-table-resizable",["css!bootstrap-table/resizable/jquery.resizableColumns","bootstrap-table/resizable/jquery.resizableColumns.min"]).addMod("bootstrapTableReorderRows","bootstrap-table/reorder-rows/bootstrap-table-reorder-rows.min",["css!bootstrap-table/reorder-rows/bootstrap-table-reorder-rows","bootstrap-table/reorder-rows/jquery.tablednd.min"]).addMod("bootstrapTableStickyHeader","bootstrap-table/sticky-header/bootstrap-table-sticky-header.min",["css!bootstrap-table/sticky-header/bootstrap-table-sticky-header"]).addMod("bootstrapTableTree","bootstrap-table/tree/bootstrap-table-treegrid.min",["treegrid"]).addMod("bootstrapTablePrint","bootstrap-table/print/bootstrap-table-print.min").addMod("bootstrapTableFixedColumns","bootstrap-table/fixed-columns/bootstrap-table-fixed-columns.min",["css!bootstrap-table/fixed-columns/bootstrap-table-fixed-columns.min"]).addMod("bootstrapTableExport","bootstrap-table/export/bootstrap-table-export.min",["bootstrap-table/export/tableExport.min"]).addMod("ueditor","ueditor/ueditor.all.min",[a.getConfig("editor",{}).ueConfigUrl]).addMod("zeroClipboard","ueditor/third-party/zeroclipboard/ZeroClipboard.min").addMod("ckEditor5Classic","ckeditor5/classic/ckeditor",[e+"Common.Ueditor/runtime?js=1&noext"]).addMod("select2","select2/select2.min",["css!"+t+"select2/select2.min","css!"+t+"select2/select2-bootstrap.min"]).addMod("autocomplete","autocomplete/auto-complete.min",["css!"+t+"autocomplete/auto-complete.min"]).addMod("artTemplate","art-template/template-web").addMod("treeTable","tree-table/jquery.treetable",["css!"+t+"tree-table/jquery.treetable","css!"+t+"tree-table/jquery.treetable.theme.default"]).addMod("validate","validate/jquery.validate.min").addMod("socketio",t+"socketio/socket.io.min").addMod("json","require/json.min").addMod("depend","require/depend.min").addMod("font","require/font.min").addMod("goog","require/goog.min").addMod("i18n","require/i18n.min").addMod("image","require/image.min").addMod("mdown","require/mdown.min").addMod("noext","require/noext.min").addMod("propertyParser","require/propertyParser.min").addMod("text","require/text.min"),require.config({baseUrl:t,urlArgs:"v="+a.config.version,waitSeconds:0,map:{"*":{css:"require/css"}},paths:r.requirePaths,shim:r.requireShims});var i=$.map(["modal","audio","audioViewer","autocomplete","catalog","changeVerify","checkboxRadio","checkedAll","colorPicker","copy","datePicker","editor","filePicker","form","verify","high","iconPicker","imageViewer","markdown","request","searchBar","selectPicker","shuttle","table","tree","upload","videoViewer","dialog","random","linkagePicker"],function(e){return"./busyAdmin/plugins/"+e}),a=n.config.requires||[];return"string"==typeof a&&a?i.push(a):$.map(a,function(e){i.push(e)}),require(i,function(){n.app.start()}),this},root:function(){return this.config.root||"/"},moduleRoot:function(){return this.config.moduleRoot||"/"},skinRoot:function(){return this.config.skinRoot||"/"},cssRoot:function(){return this.config.cssRoot||"/"},jsRoot:function(){return this.config.jsRoot||"/"},imagesRoot:function(){return this.config.imagesRoot||"/"},getConfig:function(e,t){return this.config.configs[e]||t},ready:function(e){return this.app.ready(e),this},zIndex:function(){return this.defaultZIndex++,this.defaultZIndex}},e.busyAdmin=r=new t,define(r.sys.core,function(){return r}),define(r.sys.jquery,function(){return jQuery}),define(r.sys.pace,function(){return Pace});var n="app",e="route";$.extend(r.e,{appReady:r.ee("ready",n),appBeforeDestroy:r.ee("before-destroy",n),appReadies:r.ee("readies",n),appReqBefore:r.ee("req-before",n),appReqComplete:r.ee("req-complete",n),appReqError:r.ee("req-error",n),appReqSuccess:r.ee("req-success",n),appRenderBefore:r.ee("render-before",n),appRenderSuccess:r.ee("render-success",n),appComplete:r.ee("complete",n),appPluginReady:r.ee("plugin-ready",n),appLoginSucceed:r.ee("login-succeed",n),appLoginOuted:r.ee("login-outed",n),routeBeforeLeave:r.ee("before-leave",e),routePopState:r.ee("pop-state",e),routeNoDispatch:r.ee("no-dispatch",e)})}(this),function(s,l){"use strict";function e(e){return o(r(e))}var d=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},i=m,t=r,n=o,a=f,h=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e){for(var t=[],n=0,i=0,a="";null!=(c=h.exec(e));){var r,o,s,l,c,d=c[0],u=c[1],p=c.index;a+=e.slice(i,p),i=p+d.length,u?a+=u[1]:(a&&(t.push(a),a=""),r=c[2],o=c[3],s=c[4],l=c[5],p=c[6],d=c[7],u="+"===p||"*"===p,c="?"===p||"*"===p,p=r||"/",d=s||l||(d?".*":"[^"+p+"]+?"),t.push({name:o||n++,prefix:r||"",delimiter:p,optional:c,repeat:u,pattern:d.replace(/([=!:$\/()])/g,"\\$1")}))}return i<e.length&&(a+=e.substr(i)),a&&t.push(a),t}function o(l){for(var c=new Array(l.length),e=0;e<l.length;e++)"object"==typeof l[e]&&(c[e]=new RegExp("^"+l[e].pattern+"$"));return function(e){for(var t="",n=e||{},i=0;i<l.length;i++){var a=l[i];if("string"!=typeof a){var r,o=n[a.name];if(null==o){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(d(o)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+o+'"');if(0===o.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var s=0;s<o.length;s++){if(r=encodeURIComponent(o[s]),!c[i].test(r))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+r+'"');t+=(0===s?a.prefix:a.delimiter)+r}}else{if(r=encodeURIComponent(o),!c[i].test(r))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+r+'"');t+=a.prefix+r}}else t+=a}return t}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function c(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t){for(var n=(t=t||{}).strict,i=!1!==t.end,a="",r=e[e.length-1],r="string"==typeof r&&/\/$/.test(r),o=0;o<e.length;o++){var s,l,c=e[o];"string"==typeof c?a+=u(c):(s=u(c.prefix),l=c.pattern,c.repeat&&(l+="(?:"+s+l+")*"),a+=l=c.optional?s?"(?:"+s+"("+l+"))?":"("+l+")?":s+"("+l+")")}return n||(a=(r?a.slice(0,-2):a)+"(?:\\/(?=$))?"),a+=i?"$":n&&r?"":"(?=\\/|$)",new RegExp("^"+a,p(t))}function m(e,t,n){return d(t=t||[])?n=n||{}:(n=t,t=[]),e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return c(e,t)}(e,t):(d(e)?function(e,t,n){for(var i=[],a=0;a<e.length;a++)i.push(m(e[a],t,n).source);return c(new RegExp("(?:"+i.join("|")+")",p(n)),t)}:function(e,t,n){for(var i=r(e),n=f(i,n),a=0;a<i.length;a++)"string"!=typeof i[a]&&t.push(i[a]);return c(n,t)})(e,t,n)}i.parse=t,i.compile=e,i.tokensToFunction=n,i.tokensToRegExp=a;var g,v="undefined"!=typeof document,y="undefined"!=typeof window,b="undefined"!=typeof history,w="undefined"!=typeof process,k=v&&document.ontouchstart?"touchstart":"click",x=y&&!(!window.history.location&&!window.location);function $(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function C(e,t){if("function"==typeof e)return C.call(this,"*",e);if("function"==typeof t)for(var n=new T(e,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function S(e,t,n){var i=this.page=n||C,a=i._window,r=i._hashbang,o=i._getBase();"/"===e[0]&&0!==e.indexOf(o)&&(e=o+(r?"#/":"")+e);n=e.indexOf("?");this.canonicalPath=e;o=new RegExp("^"+o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"));this.path=e.replace(o,"")||"/",r&&(this.path=this.path.replace("#/","")||"/"),this.title=v&&a.document.title,this.state=t||{},this.state.path=e,this.querystring=~n?i._decodeURLEncodedURIComponent(e.slice(n+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~n?e.slice(0,n):e),this.params={},this.hash="",r||~this.path.indexOf("#")&&(r=this.path.split("#"),this.path=this.pathname=r[0],this.hash=i._decodeURLEncodedURIComponent(r[1])||"",this.querystring=this.querystring.split("#")[0])}function T(e,t,n){n=this.page=n||D,t=t||{};t.strict=t.strict||n._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=i(this.path,this.keys=[],t)}$.prototype={configure:function(e){e=e||{};this._window=e.window||y&&window,this._decodeURLComponents=!1!==e.decodeURLComponents,this._popstate=!1!==e.popstate&&y,this._click=!1!==e.click&&v,this._hashbang=!!e.hashbang;e=this._window;this._popstate?e.addEventListener("popstate",this._onpopstate,!1):y&&e.removeEventListener("popstate",this._onpopstate,!1),this._click?e.document.addEventListener(k,this.clickHandler,!1):v&&e.document.removeEventListener(k,this.clickHandler,!1),this._hashbang&&y&&!b?e.addEventListener("hashchange",this._onpopstate,!1):y&&e.removeEventListener("hashchange",this._onpopstate,!1)},base:function(e){if(0===arguments.length)return this._base;this._base=e},_getBase:function(){var e=this._base;if(e)return e;var t=y&&this._window&&this._window.location;return y&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},strict:function(e){if(0===arguments.length)return this._strict;this._strict=e},start:function(e){var t,e=e||{};this.configure(e),!1!==e.dispatch&&(this._running=!0,x&&(t=this._window.location,t=this._hashbang&&~t.hash.indexOf("#/")?t.hash.substr(2)+t.search:this._hashbang?t.search+t.hash:t.pathname+t.search+t.hash),t===s.helper.rtrim(this._base,"/")&&(t=this._base),this.replace(t,null,!0,e.dispatch))},stop:function(){var e;this._running&&(this.current="",this.len=0,this._running=!1,e=this._window,this._click&&e.document.removeEventListener(k,this.clickHandler,!1),y&&e.removeEventListener("popstate",this._onpopstate,!1),y&&e.removeEventListener("hashchange",this._onpopstate,!1))},show:function(e,t,n,i){var a=this._toURL(e),e=new S(e=a.pathname+a.search+a.hash,t,this),t=this.prevContext;return this.prevContext=e,this.current=e.path,!1!==n&&this.dispatch(e,t),!1!==e.handled&&!1!==i&&e.pushState(),e},back:function(e,t){var n,i=this;0<this.len?(n=this._window,b&&n.history.back(),this.len--):e?setTimeout(function(){i.show(e,t)}):setTimeout(function(){i.show(i._getBase(),t)})},redirect:function(e,t){var n,i=this;"string"==typeof e&&"string"==typeof t&&(n=i._toURL(e),C.call(this,n.pathname+n.search+n.hash,function(e){setTimeout(function(){i.replace(t)},0)})),"string"==typeof e&&void 0===t&&setTimeout(function(){i.replace(e)},0)},replace:function(e,t,n,i){var a=this._toURL(e),e=new S(e=a.pathname+a.search+a.hash,t,this),t=this.prevContext;return this.prevContext=e,this.current=e.path,e.init=n,e.save(),!1!==i&&this.dispatch(e,t),e},dispatch:function(t,n){var i=0,a=0,r=this;function o(){var e=r.callbacks[i++];if(t.path===r.current)return e?void e(t,o):function(e){if(e.handled)return;var t,n=this._window;t=this._hashbang?x&&this._getBase()+n.location.hash.replace("#/",""):x&&n.location.pathname+n.location.search;if(t===e.canonicalPath)return;this.stop(),e.handled=!1,x&&(n.location.href=e.canonicalPath)}.call(r,t);t.handled=!1}!1!==s.helper.execCallback(null,document,[r,t,n],l(document),s.e.routeBeforeLeave,!0,!1)&&(n?function e(){var t=r.exits[a++];if(!t)return o();t(n,e)}:o)()},exit:function(e,t){if("function"==typeof e)return this.exit("*",e);for(var n=new T(e,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))},clickHandler:function(e,t){if(1!==this._which(e))return!1;if(e.metaKey||e.ctrlKey||e.shiftKey)return!1;if(e.defaultPrevented)return!1;var n=e.target,i=e.path||(e.composedPath?e.composedPath():null);if(i)for(var a=0;a<i.length;a++)if(i[a].nodeName&&"A"===i[a].nodeName.toUpperCase()&&i[a].href){n=i[a];break}for(;n&&"A"!==n.nodeName.toUpperCase();)n=n.parentNode;if(!n||"A"!==n.nodeName.toUpperCase())return!1;var r="object"==typeof n.href&&"SVGAnimatedString"===n.href.constructor.name;if(n.hasAttribute("download")||"external"===n.getAttribute("rel"))return!1;var o=n.getAttribute("href");if(!this._hashbang&&this._samePath(n)&&(n.hash||"#"===o))return!1;if(o&&-1<o.indexOf("mailto:"))return!1;if(r?n.target.baseVal:n.target)return!1;if(!r&&!this.sameOrigin(n.href))return!1;var s="/"!==(s=r?n.href.baseVal:n.pathname+n.search+(n.hash||""))[0]?"/"+s:s;w&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));o=s,r=this._getBase();return 0===s.indexOf(r)&&(s=s.substr(r.length)),this._hashbang&&(s=s.replace("#/","")),!(r&&o===s&&(!x||"file:"!==this._window.location.protocol))&&(e.preventDefault(),!1!==t&&this.show(o),o)},_onpopstate:(g=!1,y?(v&&"complete"===document.readyState?g=!0:window.addEventListener("load",function(){setTimeout(function(){g=!0},0)}),function(e){var t,n;!g||!1!==s.helper.execCallback(null,document,[this,e],l(document),s.e.routePopState,!0,!1)&&(e.state?(t=e.state.path,n=e.state.popStateDispatch,this.replace(t,e.state,void 0,n),!1===n&&s.helper.execCallback(null,document,[this,e],l(document),s.e.routeNoDispatch)):x&&(e=this._window.location,this.show(e.pathname+e.search+e.hash,void 0,void 0,!1)))}):function(){}),_which:function(e){return null==(e=e||y&&this._window.event).which?e.button:e.which},_toURL:function(e){var t=this._window;if("function"==typeof URL&&x)return new URL(e,t.location.toString());if(v){t=t.document.createElement("a");return t.href=e,t}},sameOrigin:function(e){if(!e||!x)return!1;var t=this._toURL(e),e=this._window.location;return e.protocol===t.protocol&&e.hostname===t.hostname&&(e.port===t.port||""===e.port&&(80==t.port||443==t.port))},_samePath:function(e){if(!x)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},_decodeURLEncodedURIComponent:function(e){return"string"==typeof e&&this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},reload:function(){var e=this._window.location,e=e.pathname+e.search+e.hash;this.replace(e)},parseRespOperate:function(e,t,n){if("string"==typeof t&&(t=t.trim().toLowerCase()).length)switch(t){case"reload":case"refresh":return void this.reload();case"redirect":case"jump":case"go":return void this.show(e.url||this.base());case"replace":return void this.replace(e.url||this.base());case"back":return void this.back();default:"function"==typeof n&&n.call(this,t)}}},S.prototype={pushState:function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,b&&t.history.pushState(this.state,this.title,n&&"/"!==this.path?"#/"+this.path:this.canonicalPath)},save:function(){var e=this.page;b&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#/"+this.path:this.canonicalPath)}},T.prototype={middleware:function(n){var i=this;return function(e,t){if(i.match(e.path,e.params))return e.routePath=i.path,n(e,t);t()}},match:function(e,t){var n=this.keys,i=e.indexOf("?"),e=~i?e.slice(0,i):e,a=this.regexp.exec(decodeURIComponent(e));if(!a)return!1;delete t[0];for(var r=1,o=a.length;r<o;++r){var s=n[r-1],l=this.page._decodeURLEncodedURIComponent(a[r]);void 0===l&&hasOwnProperty.call(t,s.name)||(t[s.name]=l)}return!0}};var D=function e(){var t=new $;function n(){return C.apply(t,arguments)}return n.callbacks=t.callbacks,n.exits=t.exits,n.base=t.base.bind(t),n.strict=t.strict.bind(t),n.start=t.start.bind(t),n.stop=t.stop.bind(t),n.show=t.show.bind(t),n.back=t.back.bind(t),n.redirect=t.redirect.bind(t),n.replace=t.replace.bind(t),n.dispatch=t.dispatch.bind(t),n.exit=t.exit.bind(t),n.configure=t.configure.bind(t),n.sameOrigin=t.sameOrigin.bind(t),n.clickHandler=t.clickHandler.bind(t),n.reload=t.reload.bind(t),n.parseRespOperate=t.parseRespOperate.bind(t),n.create=e,Object.defineProperty(n,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(n,"current",{get:function(){return t.current},set:function(e){t.current=e}}),n.Context=S,n.Route=T,n}();(a=D).default=D,s.route=a,s.regSugar("route",function(e,t,n,i){s.route.parseRespOperate(n,t)})}(window.busyAdmin||{},jQuery),function($,busyAdmin){"use strict";var base64Chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function InvalidCharacterError(e){this.message=e}function base64Encode(e){for(var t,n,i=String(e),a=0,r=base64Chars,o="";i.charAt(0|a)||(r="=",a%1);o+=r.charAt(63&t>>8-a%1*8)){if(255<(n=i.charCodeAt(a+=.75)))throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return o}function base64Decode(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,r=0,o="";i=t.charAt(r++);~i&&(n=a%4?64*n+i:i,a++%4)&&(o+=String.fromCharCode(255&n>>(-2*a&6))))i=base64Chars.indexOf(i);return o}InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError",busyAdmin.helper={parseURL:function(e){var o=document.createElement("a");o.href=e;var t=o.pathname.replace(/^([^\/])/,"/$1"),n=(n=t.substring(0,t.lastIndexOf(".")))||t;return{source:e,protocol:o.protocol.replace(":",""),host:o.hostname,port:o.port,query:o.search,params:function(){for(var e,t,n={},i=o.search.replace(/^\?/,"").split("&"),a=i.length,r=0;r<a;r++)i[r]&&(t=i[r].split("="),e=decodeURIComponent(t[0]),t=decodeURIComponent(t[1]),n.hasOwnProperty(e)?($.isArray(n[e])||(n[e]=[n[e]]),n[e].push(t)):n[e]=t);return n}(),filename:(o.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:o.hash.replace("#",""),path:t,pathNoSuffix:n,relative:(o.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:o.pathname.replace(/^\//,"").split("/")}},checkURL:function(e){return!(0===(e=e||"").indexOf("javascript:")||0===e.indexOf("#"))},getObjectValue:function(e,t,n,i){if(!e.hasOwnProperty(t))return n;t=e[t];return!0!==i||("string"==typeof n&&(t=t.trim()),t)?t:n},onDomChange:function(t){var n=null;window.MutationObserver?new MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&(clearTimeout(n),n=setTimeout(function(){t()},0))}).observe(window.document,{subtree:!0,childList:!0}):window.addEventListener?document.addEventListener("DOMNodeInserted",function(e){clearTimeout(n),n=setTimeout(function(){t()},0)},!1):window.attachEvent&&document.attachEvent("onDOMNodeInserted",function(){clearTimeout(n),n=setTimeout(function(){t()},0)}),$(function(){t()})},onPopState:function(e){window.history&&window.history.pushState&&$(window).on("popstate",e)},parseData:function(n,e,t){e="string"==typeof e?[e]:e,t="string"==typeof t?[t]:t||[];var i,a={};for(i in n)t.map(function(e){0===i.indexOf(e)&&(a[i]=n[i])}),e.map(function(e){var t=e.length;0!==i.indexOf(e)||0!=((t=i.slice(t)).slice(0,1).toLowerCase()+t.slice(1)).length&&(a[t.slice(0,1).toLowerCase()+t.slice(1)]=n[i])});return a},uuid:function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},htmlEncode:function(e){null!=(t=document.createElement("div")).textContent?t.textContent=e:t.innerText=e;var e=t.innerHTML,t=null;return e},htmlDecode:function(e){(t=document.createElement("div")).innerHTML=e;var e=t.innerText||t.textContent,t=null;return e},execCallback:function(e,t,n,i,a,r,o,s){"string"==typeof e&&0<(e=e.trim()).length&&(e=busyAdmin.helper.scope(e));var l=null;if(i&&i.length&&0<i.length){var c,d=[];if($.isArray(i)&&(c=i.shift(),d=i,i=c),d.map(function(e){e.triggerHandler(a,n)}),l=i.triggerHandler(a,n),r)if(s){if(typeof l===o)return l}else if(o===l)return l}return"function"==typeof e?(n=n||[],t=t||this,e.apply(t,n)):l},base64Encode:function(e){return e=unescape(encodeURIComponent(e)),window.btoa?window.btoa(e):base64Encode(e)},base64Decode:function(e){e=window.atob?window.atob(e):base64Decode(e);return decodeURIComponent(escape(e))},int:function(e){return e=parseInt(e),isNaN(e)?0:e},float:function(e){return e=parseFloat(e),isNaN(e)?0:e},getElementBySelector:function(e){e=$(e);return 0<e.length&&"SCRIPT"===e[0].tagName&&(e=$(e.html())),e},camel:function(e){return e.replace(/_(\w)/g,function(e,t){return t.toUpperCase()})},snake:function(e,t){return t=t||"_",(e=e.replace(/\s+/gu,"",e)).replace(/(.)(?=[A-Z])/gu,"$1"+t).toLowerCase()},sprintf:function(){let t=arguments,n=t[0];for(let e=1;e<t.length;e++){var i=arguments[e];n=n.replace("%s",i)}return n},urlPreviewHandler:function(e){switch(e.url.substring(e.url.lastIndexOf(".")+1).trim().toLowerCase()){case"jpeg":case"png":case"gif":case"jpg":"function"==typeof e.image&&e.image();break;case"mp4":case"webm":case"ogv":"function"==typeof e.video&&e.video();break;case"mp3":"function"==typeof e.audio&&e.audio();break;default:"function"==typeof e.file&&e.file()}},arrayRemoveByIndex:function(e,t){return 0===(e=e||[]).length||t<0?e:e.slice(0,n).concat(e.slice(n+1,e.length))},triggerPluginReady:function(e,t,n){$(document).triggerHandler(busyAdmin.e.appPluginReady,[e,t,n])},extends:function(e,t){var n,i={};for(n in t)i[n]=e[n];return $.extend(e,t),i},override:function(e,t,n,i){t=e[t];if("function"==typeof t)return t.apply(n,Array.prototype.slice.call(i));throw t},scope:function(name,defaults){var startDot=name.indexOf(".");if(-1===startDot)return busyAdmin.data[name]||window[name]||defaults;var arr=name.split(".");name=arr.shift();for(var value=busyAdmin.data[name]||window[name]||{},len=arr.length,createCode=function(e,t,n){return"("+e+"."+t+" || "+n+")"},code="",i=0,val,def;i<len;i++){0==i&&(code="value"),code=createCode(code,arr.shift(),i+1==len?"defaults":"{}")}try{return eval(code)}catch(e){return defaults}},getScrollbarWidth:function(){var e=document.createElement("div"),t=document.createElement("div");e.style.overflow="scroll",document.body.appendChild(e),e.appendChild(t);t=e.offsetWidth-t.offsetWidth;return document.body.removeChild(e),t},ltrim:function(e,t){return t=t||"s",e.replace(RegExp("(^"+t+"*)","g"),"")},rtrim:function(e,t){return t=t||"s",e.replace(RegExp("("+t+"*$)","g"),"")},random:function(e,t){e=e||32;for(var n=(t=t||"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678").length,i="",a=0;a<e;a++)i+=t.charAt(Math.floor(Math.random()*n));return i},listToTree:function(e,t,n,i,a){t=t||"id",n=n||"child",i=i||"parent",a=a||"";for(var r=[],o={},s=0,l=(e=e||[]).length;s<l;s++){var c=e[s],d=c[t];d&&(o[d]?c[n]=o[d]:c[n]=o[d]=[],c[i]&&c[i]!=a?(o[d=c[i]]||(o[d]=[]),o[d].push(c)):r.push(c))}return r}}}(jQuery,busyAdmin),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,i,a;if(null==this)throw new TypeError("this is null or not defined");var r,o=new Object(this),s=o>>>0;if("[object Function]"!=Object.prototype.toString.call(e))throw new TypeError(e+"is not a function");for(t&&(n=t),i=new Array(s),a=0;a<s;)a in o&&(r=o[a],r=e.call(n,r,a,o),i[a]=r),a++;return i}),Array.prototype.del||(Array.prototype.del=function(e){return e<0?this:this.slice(0,e).concat(this.slice(e+1,this.length))}),function(o,s){o.fn.busyAdminOnTransEnd=function(e,t){return this[e?"one":"on"]("webkitTransitionEnd msTransitionend oTransitionEnd otransitionend mozTransitionend transitionend",t),this},o.fn.busyAdminOnAnimEnd=function(e,t){return this[e?"one":"on"]("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t),this},o.fn.busyAdminFormVal=function(e,t){var n,i=o(this);for(n in e=t?(e=e||document.URL,s.helper.parseURL(e).params):e||{}){var a=e[n],r=i.find('[name="'+n+'"]');if(0<r.length)switch((r.attr("type")||"").toLowerCase()){case"checkbox":case"radio":r.each(function(){o(this).prop("checked",o(this).val()==a).trigger("change")});break;default:r.val(a).trigger("change")}else i.append('<input type="hidden" name="'+n+'" value="'+a+'"/>')}return this}}(jQuery,busyAdmin),function(u){var n=/\+/g;function p(e){return f.raw?e:encodeURIComponent(e)}function h(e,t){e=f.raw?e:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),f.json?JSON.parse(e):e}catch(e){}}(e);return u.isFunction(t)?t(e):e}var f=u.cookie=function(e,t,n){var i,a;if(void 0!==t&&!u.isFunction(t))return"number"==typeof(n=u.extend({},f.defaults,n)).expires&&(a=n.expires,(i=n.expires=new Date).setTime(+i+864e5*a)),document.cookie=[p(e),"=",(a=t,p(f.json?JSON.stringify(a):String(a))),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("");for(var r=e?void 0:{},o=document.cookie?document.cookie.split("; "):[],s=0,l=o.length;s<l;s++){var c=o[s].split("="),d=(d=c.shift(),f.raw?d:decodeURIComponent(d)),c=c.join("=");if(e&&e===d){r=h(c,t);break}e||void 0===(c=h(c))||(r[d]=c)}return r};f.defaults={},u.removeCookie=function(e,t){return void 0!==u.cookie(e)&&(u.cookie(e,"",u.extend({},t,{expires:-1})),!u.cookie(e))}}(jQuery),function(u,p){var h=function(e,t){this.config={method:h.options.method,cache:h.options.cache,pendingStatus:h.options.pendingStatus,pendingMessage:h.options.pendingMessage,before:h.options.beforeCallback,complete:h.options.completeCallback,success:h.options.successCallback,error:h.options.errorCallback,parse:h.options.parse,parseExec:"",ajaxOptions:{},url:document.URL,params:[],headers:{}},"object"==typeof e?this.config.ajaxOptions=e||{}:"string"==typeof e&&e.length&&(this.url(e),this.config.ajaxOptions=t||{}),this.paramElements=[],this.ajax=null};h.options={root:"",contentType:"application/x-www-form-urlencoded",method:"get",cache:!1,params:{},headers:{},parse:"",pendingStatus:!0,pendingMessage:"è¯·ç¨å...",ajaxOptions:{},beforeCallback:u.noop,completeCallback:u.noop,successCallback:function(e){p.dialog.toastSuccess(e.message||"success")},errorCallback:function(e){p.dialog.toastError(e.message||"error")}},h.prototype={pending:function(e,t){return"string"==typeof e&&e.length&&(t=e,e=!0),this.config.pendingStatus=e,t&&(this.config.pendingMessage=t),this},cache:function(e){return this.config.cache=e,this},url:function(e){return this.config.url=e||document.URL,this},post:function(e){return this.method(e?"post":"get")},method:function(e){return this.config.method=e,this},headers:function(e){return this.config.headers=e,this},addHeader:function(e,t){return this.config.headers[e]=t,this},params:function(e){var t=this;if(t.config.params=[],e instanceof jQuery)t.config.params=e.serializeArray();else if(u.isArray(e))t.config.params=e;else if("object"==typeof e)for(var n in e){var i=e[n];u.isArray(i)?i.map(function(e){t.config.params.push({name:-1!==n.indexOf("[")?n:n+"[]",value:e})}):t.config.params.push({name:n,value:i})}else if("string"==typeof e){var a=p.helper.parseURL("?"+e).params||{};for(n in a){i=a[n];u.isArray(i)?i.map(function(e){t.config.params.push({name:-1!==n.indexOf("[")?n:n+"[]",value:e})}):t.config.params.push({name:n,value:i})}}else console.error("åæ°ç±»åéè¯¯ï¼ä»æ¯æ: object, string, array",e);return this},addParam:function(e,t,n){return(t instanceof jQuery?this.paramElements:this.config.params).push({name:e,value:t,filename:n}),this},clear:function(){return this.config.headers={},this.config.params=[],this.paramElements=[],this},parse:function(e,t){return this.config.parse=e,this.config.parseExec=t,this},before:function(e){return this.config.before="function"==typeof e?e:this.config.before,this},complete:function(e){return this.config.complete="function"==typeof e?e:this.config.complete,this},success:function(e){return this.config.success="function"==typeof e?e:this.config.success,this},error:function(e){return this.config.error="function"==typeof e?e:this.config.error,this},exec:function(){var r=this,n=null,o=u("<form />");this.paramElements.map(function(e){var t=e.value,n=(n=e.name||!1)||t.attr("name");if(0===t.length)return!0;if("INPUT"===t[0].tagName&&"FILE"===t.attr("type").toUpperCase()){var i=t[0].files;if(0<i.length)if(t.attr("multiple"))for(var a=0;a<i.length;a++)r.config.params.push({name:n,value:i[a]});else r.config.params.push({name:n,value:i[0],filename:e.filename})}else t.attr("name",n),o.append(t.clone())}),o.serializeArray().map(function(e){r.config.params.push(e)});var e,t=h.options.params;for(e in t)r.config.params.push({name:e,value:t[e]});var i=!1;r.config.params.map(function(e){e.value instanceof File&&(i=!0)}),r.config.cache||(r.config.headers["Cache-Control"]="no-cache",r.config.headers["If-Modified-Since"]="0");var a,s=u.extend({},u.extend({},{contentType:h.options.contentType,url:h.options.root+r.config.url,headers:u.extend({},r.config.headers,h.options.headers),type:r.config.method,dataType:r.config.parse||"text",jsonpCallback:r.config.parseExec},h.options.ajaxOptions),r.config.ajaxOptions||{});i?(s.cache=!1,s.type="post",s.contentType=!1,s.processData=!1,a=new FormData,r.config.params.map(function(e){e.filename?a.append(e.name,e.value,e.filename):a.append(e.name,e.value)}),s.data=a):s.data=r.config.params;function l(){null!==n&&n.close()}function c(e,t,n){return!1!==r.config.success.call(r,e,t,n)&&h.options.successCallback.call(r,e,t,n)}function d(e,t,n){return!1!==r.config.error.call(r,e,t,n)&&h.options.errorCallback.call(r,e,t,n)}return s.beforeSend=function(e,t){if(!1===r.config.before.call(r,e,t))return!1;r.config.pendingStatus&&(n=p.dialog.pending(r.config.pendingMessage))},s.success=function(e,t,n){var i;l(),r.config.parse?((i=p.response.result).status=!0,i.result=e,!1!==r.config.complete.call(r,i,p.response.type.success,n)&&c(i,p.response.type.success,n)):(this.xhr=n,p.response.parse(e,this,function(e,t){c(e,t,n)},function(e,t){d(e,t,n)},function(e,t){return r.config.complete.call(r,e,t,n)}))},s.error=function(e,t,n){l();var i="parsererror"===t?p.response.type.parse:p.response.type.http,t=p.response.result;t.status=!1,t.message=e.status+" "+n,!1!==r.config.complete.call(r,t,i,e)&&d(t,i,e)},r.ajax=u.ajax(s),r.ajax}},p.request=function(e,t){return new h(e,t)},p.request.setOptions=function(e,t){"string"==typeof e?h.options[e]=t:h.options=u.extend(h.options,e)}}(jQuery,window.busyAdmin||{}),function(u,e){function p(){this.parseCallback=null,this.bindCodeList={}}p.result={status:!1,message:"",url:"",code:0,result:{}},p.type={success:0,http:1,parse:2,logic:3},p.prototype={parse:function(e,t,n,i,a){var r;n="function"==typeof n?n:u.noop,i="function"==typeof i?i:u.noop,a="function"==typeof a?a:u.noop;var o=p.result;if(o.status=!1,"string"!=typeof e&&e)r=e;else if("function"==typeof this.parseCallback)r=this.parseCallback.call(t,e)||{};else{if("{"!==(e=u.trim(e)).charAt(0)||"}"!==e.charAt(e.length-1))return void(!(o.message="è¿åæ°æ®è§£æå¼å¸¸")!==a(o,p.type.parse)&&i(o,p.type.parse));try{r=JSON.parse(e)}catch(e){return o.message="è§£ææ°æ®å¼å¸¸: "+e,void(!1!==a(o,p.type.parse)&&i(o,p.type.parse))}}var s=[];if(["status","code","message","url","result"].map(function(e){r.hasOwnProperty(e)||s.push(e)}),0<s.length)return o.message="è¿åçåæ°ä¸­å¿é¡»åå«é®: "+s.join(","),void(!1!==a(o,p.type.parse)&&i(o,p.type.parse));for(var l=this.bindCodeList[r.code]||[],c=l.length-1;0<=c;c--){var d=l[c].callback||null;if("function"==typeof d&&!1===d(r))return}!1!==a(r,r.status?p.type.success:p.type.logic)&&(r.status?n(r,p.type.success):i(r,p.type.logic))},setParse:function(e){return this.parseCallback=e,this},bindCode:function(e,t){return this.bindCodeList[e]=this.bindCodeList[e]||[],this.bindCodeList[e].push({callback:t}),this}},e.response=new p,e.response.result=p.result,e.response.type=p.type}(jQuery,window.busyAdmin||{}),function(){var e=busyAdmin;define("./busyAdmin/plugins/audioViewer",[e.sys.core,e.sys.jquery],function(t,o){var s=function(e,t){var n=this;n.element=e;n.$element=o(e);n.options=o.extend(true,{},s.DEFAULTS,n.$element.data()||{},t||{});n.init()};function e(n){var i;var a="busy.admin.audio-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={init:function(){var e=this;e.isInit||(e.isInit=!0,e.options.clickHandler&&e.$element.off("click").on("click",function(){e.show()}))},show:function(){var e=layer.open({title:!1,type:1,skin:"busy-audio-viewer-dialog",scrollbar:!1,content:'<div class="busy-audio-viewer-dialog-content"><audio src="'+this.options.src+'"></audio></div>',success:function(e,t){var n=e.find(".busy-audio-viewer-dialog-content");layer.area(t,n.width(),n.height()),this.offset(),e.find("audio").busyAdminAudio()}});o(document).on(t.e.appRenderBefore,function(){layer.close(e)})},destroy:function(){this.isInit&&(this.isInit=!1,this.options.clickHandler&&this.$element.off("click"))}},s.DEFAULTS={src:"",clickHandler:!0},o.fn.busyAdminAudioViewer=e,o.fn.busyAdminAudioViewer.Constructor=s,t.plugins.AudioViewer=s,t.autoInit('[data-toggle="busy-audio-viewer"],[busy-audio-viewer]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/audio",[e.sys.core,e.sys.jquery],function(n,o){var i=false,s=function(e,t){var n=this;n.element=e;n.$element=o(e);n.options=o.extend(true,{},s.DEFAULTS,t||{});n.$wrap=null;n.ready(n.init)};function e(i){var a,r=Array.prototype.slice.call(arguments);return r.shift(),this.each(function(){var e="busy.admin.audio.api",t=o(this),n=t.data(e);n||t.data(e,n=new s(this,"object"==typeof i&&i)),"string"==typeof i&&(a=n[i].apply(n,r))}),"string"!=typeof i?this:a}return s.prototype={ready:function(e){var t=this;i&&audiojs?"function"==typeof e&&e.call(t):require([n.lib.audio],function(){audiojs.events.ready(function(){i=!0,"function"==typeof e&&e.call(t)})})},init:function(){var e=this,t=audiojs.create(e.element,{css:!1});e.$wrap=o(t.wrapper).addClass("busy-admin-audio");t=e.$wrap.find(".play-pause");t.find(".play").addClass("fa fa-play"),t.find(".pause").addClass("fa fa-pause"),t.find(".loading").addClass("fa fa-spinner fa-spin"),t.find(".error").addClass("fa fa-info-circle text-danger"),e.$wrap.find(".error-message").addClass("text-danger"),n.helper.triggerPluginReady(e.$element,"Audio",e)}},s.DEFAULTS={},o.fn.busyAdminAudio=function(i){var a,r=Array.prototype.slice.call(arguments);return r.shift(),this.each(function(){var e="busy.admin.audio.api",t=o(this),n=t.data(e);n||t.data(e,n=new s(this,"object"==typeof i&&i)),"string"==typeof i&&(a=n[i].apply(n,r))}),"string"!=typeof i?this:a},o.fn.busyAdminAudio.Constructor=s,n.plugins.Audio=s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/autocomplete",[e.sys.core,e.sys.jquery],function(o,s){var l=function(e,t){var n=this;n.element=e;n.$element=s(e);n.options=s.extend(true,{},l.DEFAULTS,n.$element.data(),t||{});n.ready(n.init)};function e(n){var i;var a="busy.admin.autocomplete.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return l.prototype={ready:function(e){var t=this;window.autoComplete?"function"==typeof e&&e.call(t):require([o.lib.autocomplete],function(){"function"==typeof e&&e.call(t)})},init:function(){var e=this,r=e.options;e.isInit||(e.isInit=!0,s(document).one(o.e.appRenderBefore,function(){e.destroy()}),e.api=new window.autoComplete({selector:e.element,delay:r.delay,minChars:r.searchMin,menuClass:"busy-admin-autocomplete",source:function(e,a){if(r.url||r.model)o.request("function"==typeof r.url?r.url():r.url).method("POST").addHeader("Busy-Admin-Plugin","Autocomplete").params({model:r.model,extend:r.modelExtend,text_field:r.textField,order:r.order,limit:r.limit,word:e}).pending(!1).success(function(e,t,n){var i=[];return s.each(e.result.results||[],function(){var e=(this.text||"").trim();e&&i.push(e)}),a(i),!1}).error(function(e,t,n){return!1}).exec();else{var t=r.list||[],n=[];for(i=0;i<t.length;i++)-1!==t[i].toLowerCase().indexOf(e)&&n.push(t[i]);a(n)}}}),o.helper.triggerPluginReady(e.$element,"Autocomplete",e))},destroy:function(){this.api.destroy()}},l.DEFAULTS={list:[],searchMin:1,url:!1,textField:"name",order:"id DESC",limit:20,delay:250,model:"",modelExtend:!1},s.fn.busyAdminAutocomplete=e,s.fn.busyAdminAutocomplete.Constructor=l,o.plugins.Autocomplete=l,s.extend(o.e,{}),o.autoInit('[data-toggle="busy-autocomplete"],[busy-autocomplete]',function(){e.call(this)}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/catalog",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(s,l,e){"use strict";var i=false,o=function(e,t){this.$element=l(e);this.options=l.extend(true,{},o.DEFAULTS,this.$element.data()||{},t||{});this.id=s.helper.uuid();this.scrollSelector=null;this.ready(this.render)};function t(n){var i;var a="busy.admin.catalog.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=l(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return o.prototype={ready:function(t){var n=this;i?"function"==typeof t&&t.call(n):require([s.lib.sticky],function(e){i=!0,"function"==typeof t&&t.call(n)})},render:function(){var i=this,e=i.$element;i.options.container&&(e=l(i.options.container)),e.find(i.getId()).remove(),e.append(i.create()),i.options.scroll&&(i.scrollSelector=i.options.scroll,!0===i.options.scroll&&(i.scrollSelector=document.body),l(i.scrollSelector).scrollspy({target:this.getId(),offset:this.options.top})),i.options.sticky&&l(i.scrollSelector).is("body")&&l(i.getId()).sticky({topSpacing:this.options.top||0,bottomSpacing:this.options.bottom||0}),e.find(".nav a").on("click",function(e){e.preventDefault();var t=l(this).attr("href");if(0!==t.indexOf("#"))return!0;var n=l(t),e=l(i.scrollSelector),t=n.position().top;return e.is("body")&&(e=l("body,html"),t=n.offset().top),i.isScrollPending=!0,e.animate({scrollTop:t-(i.options.top||0)},function(){i.isScrollPending=!1}),!1}),l(document).one(s.e.appRenderBefore,l.proxy(i.destroy,i)),s.helper.triggerPluginReady(i.$element,"Catalog",i)},create:function(){var r=this,e=r.$element.find("h1,h2,h3,h4,h5,h6"),o=[];e.each(function(e){var t=l(this);if(r.options.filterSelector&&0<t.closest(r.options.filterSelector).length)return!0;var n=this.tagName.charAt(1),i=(t.attr("id")||"").trim(),a=t.text().trim();if(!a)return!0;i=(i=s.helper.base64Encode(a+":"+n+"_"+e)).replace(/[=\/+]/g,""),t.attr("id",i),o.push({name:a,id:i,level:n})});var t=this.toTree(o),n=function(e){var t='<ul class="nav">';return l.each(e,function(){t+='<li><a href="#'+this.id+'">'+this.name+"</a>"+(this.children?n(this.children):"")+"</li>"}),t+="</ul>"},e=n(t),t="";return this.options.title&&(t='<div class="panel-heading busy-admin-catalog-title">'+this.options.title+"</div>"),'<div class="panel panel-default busy-admin-catalog" id="'+this.id+'">'+t+e+"</div>"},toTree:function(e){var t=[],a=function(e,t){var n=t.shift();for(e.push(n);0<t.length;){if(!n)return;var i=function(e,t){if(e){for(var n=-e.level,i=[],a=0,r=t.length;a<r;a++){var o=t[a];if(!(-o.level<n))break;i.push(o)}return 0<i.length&&t.splice(0,i.length),i}}(n,t,n.level);0!=i.length?(n.children=[],a(n.children,i)):(n=t.shift())&&e.push(n)}};return a(t,e),t},getId:function(){return"#"+this.id},destroy:function(){this.options.scroll&&l(this.scrollSelector).removeData("bs.scrollspy"),this.options.sticky&&l(this.getId()).unstick()}},o.DEFAULTS={title:"ç®å½",container:null,scroll:null,sticky:!1,top:0,bottom:0,filterSelector:null},l.fn.busyAdminCatalog=t,l.fn.busyAdminCatalog.Constructor=o,s.plugins.Catalog=o,s.autoInit('[data-toggle="busy-catalog"],[busy-catalog]',function(){t.call(this)}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/changeVerify",[e.sys.core,e.sys.jquery],function(e,o){"use strict";var s=function(e,t){this.$element=o(e);this.options=o.extend(true,{},s.DEFAULTS,this.$element.data()||{},t||{});this.source=this.$element.attr("src");this.init()};function t(n){var i;var a="busy.admin.changeVerify.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={init:function(){var t=this,e=t.options;t.isInit||(t.isInit=!0,e.clickHandler&&t.$element.on("click.busyAdmin",function(e){return e.preventDefault(),t.change(),!1}))},change:function(){var e=this.source;-1===this.source.indexOf("?")?e+="?":e+="&",this.$element.attr("src",e+"__rand__t="+Math.random())}},s.DEFAULTS={clickHandler:!0},o.fn.busyAdminChangeVerify=t,o.fn.busyAdminChangeVerify.Constructor=s,e.plugins.ChangeVerify=s,o(document).on("click.busyAdmin",'[data-toggle="busy-change-verify"],[busy-change-verify]',function(e){return e.preventDefault(),t.call(o(this),{clickHandler:!1}),t.call(o(this),"change"),!1}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/checkboxRadio",[e.sys.core,e.sys.jquery],function(n,a){var r=function(e,t){var n=this;n.element=e;n.$element=a(e);n.options=a.extend(true,{},r.DEFAULTS,n.$element.data()||{},t||{});n.init()};function e(n){var i="busy.admin.checkbox.api";var e=Array.prototype.slice.call(arguments);e.shift();return this.each(function(){var e=a(this);var t=e.data(i);if(!t)e.data(i,t=new r(this,typeof n==="object"&&n))})}return r.prototype={init:function(){var e,t,i=this;i.isInit||(i.isInit=!0,"input"===i.element.tagName.toLowerCase()&&("checkbox"!==(e=(i.$element.attr("type")||"").toLowerCase())&&"radio"!==e||(i.options.title||(i.options.title=i.$element.attr("title")||""),t=i.$element.attr("id")||"__busy_admin_checkbox_radio_"+r.INDEX++,i.$element.attr("id",t),i.$icon=a('<i class="bicon" />'),i.$text=a("<span />"),i.$label=a('<label for="'+t+'" />'),i.$label.append(i.$icon),i.$label.append(i.$text),i.$template=a('<div class="busy-admin-'+e+" "+(i.$element.attr("class")||"")+'"/>'),i.$template.append(i.$label),i.isSwitch=i.$element.hasClass("switch"),i.switchOn="",i.switchOff="",i.isSwitch?(t=i.options.title||"",a.isArray(t)||-1===t.indexOf(",")||(t=t.split(",")),a.isArray(t)&&(i.switchOn=t[0]||i.options.locale.on,i.switchOff=t[1]||i.options.locale.off),i.$text.html(i.$element.prop("checked")?i.switchOn:i.switchOff)):i.options.title?i.$text.html(i.options.title):i.$text.addClass("hide"),i.requestOptions={},i.options.url&&(a.extend(!0,i.requestOptions,i.options),i.requestOptions.headers=a.extend({},i.requestOptions.headers||{},{"Busy-Admin-Plugin":"checkbox"===e?"Checkbox":"Radio"}),i.requestOptions.params=i.requestOptions.params||{},i.requestOptions.clickHandler=!1,i.$element.on(n.e.requestError,function(){i.$element.prop("checked",!a(this).prop("checked")).trigger(a.Event("change",{__checkboxRadioNoRequest:!0}))})),i.$element.after(i.$template),i.$template.prepend(i.$element),i.$element.on("change.busyAdmin",function(e){i._decorate();var t=this.hasAttribute("value"),n=a(this);i.options.url&&!e.__checkboxRadioNoRequest&&(i.requestOptions.params.status=i.$element.prop("checked")?1:0,i.requestOptions.params.value=t?n.val():"",i.$element.busyAdminRequest(i.requestOptions))}),i._decorate(),n.helper.triggerPluginReady(i.$element,"CheckboxRadio",i))))},_decorate:function(){var e=this,t=e.$element.prop("checked");e.$template.toggleClass("checked",t),e.isSwitch&&e.$text.html(t?e.switchOn:e.switchOff)}},r.INDEX=0,r.DEFAULTS={title:"",url:void 0,locale:a.extend({},{on:"å¼å¯",off:"å³é­"},((n.locale||{}).plugin||{}).checkboxRadio||{})},a.fn.busyAdminCheckboxRadio=e,a.fn.busyAdminCheckboxRadio.Constructor=r,n.plugins.CheckboxRadio=r,n.autoInit('[data-toggle="busy-checkbox"],[data-toggle="busy-radio"],[busy-checkbox],[busy-radio]',function(){e.call(this)}),r})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/checkedAll",[e.sys.core,e.sys.jquery],function(e,c){"use strict";c(document).on("change",'[data-toggle="busy-checked-all"],[busy-checked-all]',function(e){var t=c(this);var n=t.prop("checked");var i=t.data()||{};if(i.child&&e.__CheckedAllChildNoChange!==true)c(i.child).not(":disabled").prop("checked",n).trigger("change");if(i.parent){var a=true;var r=0;var o=0;var s=c(i.parent);var l=s.data()||{};if(!l.child)return;c(l.child).each(function(){var e=c(this);if(e.prop("disabled"))return true;var t=e.prop("checked");if(!t&&!this.indeterminate)a=false;if(t)r++;if(this.indeterminate)o++});if(r===0&&o===0){s.each(function(){this.indeterminate=false;c(this).removeClass("indeterminate")});s.prop("checked",false)}else if(!a||o!==0){s.each(function(){this.indeterminate=true;c(this).addClass("indeterminate")});s.prop("checked",false)}else{s.each(function(){this.indeterminate=false;c(this).removeClass("indeterminate")});s.prop("checked",true)}s.trigger(c.Event("change",{__CheckedAllChildNoChange:true}))}}),e.autoInit('[data-toggle="busy-checked-all"],[busy-checked-all]',function(){var n="busy.admin.checked.all.api";var i=[];var a=[];c(this).each(function(){var e=c(this);if(e.data(n))return true;e.data(n,true);var t=e.data()||{};if(t.parent&&e.prop("checked")&&-1===i.indexOf(t.parent)){e.trigger(c.Event("change",{__CheckedAllChildNoChange:true}));i.push(t.parent)}if(t.child&&e.prop("checked")&&-1===a.indexOf(t.child)){e.trigger("change");a.push(t.child)}})})})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/colorPicker",[e.sys.core,e.sys.jquery],function(i,o){"use strict";var a="color-picker",n=false,s=function(e,t){var n=this;n.$element=o(e);n.options=o.extend(true,{},s.DEFAULTS,n.$element.data()||{},t||{});n.options.hexNumberSignPrefix=n.options.hexPrefix;n.options.colorSelectors=n.options.selectors;n.options.customClass="busy-admin-color-picker"+(n.options.className||"");if(n.options.inline)n.options.container=true;n.options.sliders={saturation:{maxLeft:150,maxTop:150},hue:{maxTop:150},alpha:{maxTop:150}};n.api=null;n.ready(n.init)};function e(n){var i;var a="busy.admin.color-picker";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={ready:function(e){var t=this;n?"function"==typeof e&&e.call(t):require([i.lib.colorPicker],function(){n||Object.keys(o.colorpicker.prototype).map(function(e){-1===["constructor","destroy"].indexOf(e)&&(s.prototype[e]=function(){if(this.api)return this.api[method].apply(this.api,Array.prototype.slice.call(arguments))})}),n=!0,"function"==typeof e&&e.call(t)})},init:function(){var n=this;n.isInit||(n.isInit=!0,n.$element.colorpicker(n.options),n.api=n.$element.data("colorpicker"),n.$element.on("create showPicker hidePicker changeColor disable enable destroy",function(e){var t=[n];"changeColor"===e.type&&(t=[n,n.api.color]),n.$element.triggerHandler(i.ee(e.type,a),t)}),o(document).one(i.e.appRenderBefore,function(){n.destroy()}),i.helper.triggerPluginReady(n.$element,"ColorPicker",n))},destroy:function(){this.api&&this.api.destroy()}},s.DEFAULTS={format:"hex",color:!1,component:".add-on, .input-group-addon",input:"input",hexPrefix:!0,inline:!1,container:!1,align:"left",selectors:null,className:""},o.fn.busyAdminColorPicker=e,o.fn.busyAdminColorPicker.Constructor=s,i.plugins.ColorPicker=s,o.extend(i.e,{colorPickerCreate:i.ee("create",a),colorPickerShow:i.ee("show-picker",a),colorPickerHide:i.ee("hide-picker",a),colorPickerChange:i.ee("change-color",a),colorPickerDisable:i.ee("disable",a),colorPickerEnable:i.ee("enable",a),colorPickerDestroy:i.ee("destroy",a)}),i.autoInit('[data-toggle="busy-color-picker"],[busy-color-picker]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/copy",[e.sys.core,e.sys.jquery],function(i,o){var a=null,s=function(e,t){var n=this;n.element=e;n.$element=o(e);n.options=o.extend(true,{},s.DEFAULTS,n.$element.data()||{},t||{});n.ready(n.init)};function e(n){var i;var a="busy.admin.copy.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={ready:function(t){var n=this;a?"function"==typeof t&&t.call(n):require([i.lib.clipboard],function(e){a=e,"function"==typeof t&&t.call(n)})},init:function(){var n=this,e={action:function(){return n.options.action||"copy"},text:function(e){var t="",e=o(e);return n.options.content?t=n.options.content:n.options.target&&(t=!0===n.options.target?n.getText(e):n.getText(o(n.options.target))),"html"===n.options.onDecode?t=i.helper.htmlDecode(t):"string"==typeof(e=i.helper.execCallback(n.options.onDecode,n.element,[t],n.$element,i.e.copyDecode,!0,"string",!0))&&(t=e),t}};n.options.target&&!0!==n.options.target&&(e.target=function(e){return o(n.options.target)[0]});e=new a(n.element,e);e.on("success",function(e){e.clearSelection(),"cut"===n.options.action&&n.options.target&&(!0===n.options.target?n.$element:o(n.options.target)).val(""),!1!==i.helper.execCallback(n.options.onSuccess,n.element,[],n.$element,i.e.copySuccess,!0,!1)&&i.dialog.toast("cut"===n.options.action?n.options.locale.cutSuccess:n.options.locale.copySuccess)}),e.on("error",function(){!1!==i.helper.execCallback(n.options.onError,n.element,[],n.$element,i.e.copyError,!0,!1)&&i.dialog.toast("cut"===n.options.action?n.options.locale.cutError:n.options.locale.copyError)}),i.helper.triggerPluginReady(n.$element,"Copy",n)},getText:function(e){e=e.is(":text")?e.val():e.html();return e}},s.DEFAULTS={target:null,onDecode:null,onSuccess:null,onError:null,locale:o.extend({copySuccess:"å¤å¶æå",copyError:"å¤å¶å¤±è´¥",cutSuccess:"åªåæå",cutError:"åªåå¤±è´¥"},((i.locale||{}).plugin||{}).copy||{})},o.fn.busyAdminCopy=e,o.fn.busyAdminCopy.Constructor=s,i.plugins.Copy=s,o.extend(i.e,{copySuccess:i.ee("success","copy"),copyError:i.ee("error","copy"),copyDecode:i.ee("decode","copy")}),i.autoInit('[data-toggle="busy-copy"],[busy-copy]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/datePicker",[e.sys.core,e.sys.jquery],function(S,T){"use strict";var D,i=function(e,t,n){this.parentEl="body";this.element=T(e);this.minDate=false;this.maxDate=false;this.maxSpan=false;this.singleDatePicker=false;this.showDropdowns=true;this.showWeekNumbers=false;this.showISOWeekNumbers=false;this.showCustomRangeLabel=true;this.timePicker=false;this.timePicker24Hour=true;this.timePickerIncrement=1;this.timePickerSeconds=true;this.timePickerMinute=true;this.linkedCalendars=false;this.autoUpdateInput=false;this.alwaysShowCalendars=false;this.pickerType="date";this.ranges={};this.moveTimer=null;this.valueTarget=null;this.hideClearBtn=false;this.force=false;this.sourceContent="";this.startTarget=null;this.endTarget=null;this.callback=typeof n==="function"?n:T.noop;this.isShowing=false;this.leftCalendar={};this.rightCalendar={};this.opens="right";if(this.element.hasClass("pull-right"))this.opens="left";this.drops="down";if(this.element.hasClass("dropup"))this.drops="up";this.buttonClasses="btn btn-sm";this.applyButtonClasses="btn-primary";this.nowButtonClasses="btn-default";this.clearButtonClasses="btn-default";this.options=T.extend(true,{},i.DEFAULTS,this.element.data()||{},t||{});this.locale=this.options.locale;this.ready(this.init)};function e(n){return this.each(function(){var e=T(this);var t=e.data("busy.admin.date.picker");if(!t)t=new i(this,typeof n==="object"&&n);t.ready(t.show)})}return i.prototype={constructor:i,init:function(){var e,t,n,i,a,r,o,s,l,c,d,u,p,h=this.options;if(this.startDate=this.getInitStartDate(),this.endDate=this.getInitEndDate(),this.minYear=D().subtract(100,"year").format("YYYY"),this.maxYear=D().add(100,"year").format("YYYY"),this.locale.firstDay=D.localeData().firstDayOfWeek(),h.format&&(this.locale.format=h.format,e="date",t=-1!==(l=h.format).indexOf("Y"),n=-1!==l.indexOf("M"),i=-1!==l.indexOf("D"),a=-1!==l.indexOf("H"),r=-1!==l.indexOf("m"),o=-1!==l.indexOf("s"),l=s=!0,t&&n&&i?(a||r||o)&&(e="datetime"):t&&n?e="month":t?e="year":(a||r||o)&&(e="time"),r?o||(l=!1):l=s=!1,h.pickerType=e,h.timePickerSeconds=l,h.timePickerMinute=s),h.range){if(!(h.singleDatePicker=!1)!==h.range&&(this.locale.separator=h.range),"string"!=typeof h.ranges&&!1!==h.ranges?"year"===h.pickerType?(g=(v=D().startOf("year")).clone().subtract(1,"year"),h.ranges={},h.ranges[this.locale.thisYear]=[v,v],h.ranges[this.locale.lastYear]=[g,g],h.ranges[S.helper.sprintf(this.locale.lastNYear,"2")]=[g,v],h.ranges[S.helper.sprintf(this.locale.lastNYear,"3")]=[g.clone().subtract(2,"year"),v],h.ranges[S.helper.sprintf(this.locale.lastNYear,"6")]=[g.clone().subtract(5,"year"),v]):"month"===h.pickerType?(y=(b=D().startOf("month")).clone().subtract(1,"month"),h.ranges={},h.ranges[this.locale.thisMonth]=[b,b],h.ranges[this.locale.lastMonth]=[y,y],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"2")]=[y.clone(),b],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"3")]=[y.clone().subtract(2,"month"),b],h.ranges[S.helper.sprintf(this.locale.lastNMonth,"6")]=[y.clone().subtract(5,"month"),b]):"time"===h.pickerType?(h.ranges={},h.ranges[this.locale.todayToNow]=[D().startOf("days"),D()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"1")]=[D().subtract(1,"hours"),D()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"2")]=[D().subtract(2,"hours"),D()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"3")]=[D().subtract(3,"hours"),D()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"6")]=[D().subtract(6,"hours"),D()],h.ranges[S.helper.sprintf(this.locale.lastNHours,"12")]=[D().subtract(12,"hours"),D()],h.ranges[this.locale.forenoon]=[D().startOf("days"),D().startOf("days").add(12,"hours")],h.ranges[this.locale.afternoon]=[D().startOf("days").add(12,"hours"),D().endOf("days")],h.ranges[this.locale.allDay]=[D().startOf("days"),D().endOf("days")]):(h.ranges={},h.ranges[this.locale.today]=[D().startOf("days"),D().endOf("days")],h.ranges[this.locale.yesterday]=[D().startOf("days").subtract(1,"days"),D().endOf("days").subtract(1,"days")],h.ranges[S.helper.sprintf(this.locale.lastNDay,"7")]=[D().startOf("days").subtract(6,"days"),D().endOf("days")],h.ranges[S.helper.sprintf(this.locale.lastNDay,"30")]=[D().startOf("days").subtract(29,"days"),D().endOf("days")],h.ranges[this.locale.thisMonth]=[D().startOf("month"),D().endOf("month")],h.ranges[this.locale.lastMonth]=[D().subtract(1,"month").startOf("month"),D().subtract(1,"month").endOf("month")]):!1!==h.ranges&&(h.ranges=window[h.ranges]||!1),"string"==typeof h.span&&h.span){for(var f=(h.span||"").split(","),m=0;m<f.length;m++)f[m]=f[m].trim();var g=S.helper.int((f[0]||"0").trim()),v=S.helper.int((f[1]||"0").trim()),y=S.helper.int((f[2]||"0").trim()),b=S.helper.int((f[3]||"0").trim()),m=S.helper.int((f[4]||"0").trim()),w=S.helper.int((f[5]||"0").trim());h.span={},0<g&&(h.span.year=g-1),0<v&&(h.span.month=v-1),0<y&&(h.span.days=y-1),0<b&&(h.span.hours=b-1),0<m&&(h.span.minute=m-1),0<w&&(h.span.secoud=w-1)}}else h.singleDatePicker=!0;if("string"==typeof h.template||h.template instanceof T||(h.template='<div class="busy-admin-date-picker">    <div class="ranges"></div>    <div class="drp-calendar left">        <div class="calendar-table"></div>        <div class="calendar-time"></div>    </div>    <div class="drp-calendar right">        <div class="calendar-table"></div>        <div class="calendar-time"></div>    </div>    <div class="drp-buttons">        <span class="drp-selected"></span>        <div class="btn-group">            <button class="clearBtn" type="button"></button>            <button class="nowBtn" type="button"></button>            <button class="applyBtn" disabled="disabled" type="button"></button>        </div>    </div>    <div class="arrow"></div></div>'),h.container?"@modal"===h.container?this.parentEl=this.element.closest(".modal"):this.parentEl=T(h.container):(u=this.element.closest(".modal")).length?this.parentEl=u:this.parentEl=h.parentEl&&T(h.parentEl).length?T(h.parentEl):T(this.parentEl),this.container=T(h.template).appendTo(this.parentEl),this.$arrow=this.container.find(".arrow"),this.container.addClass(this.locale.direction),"string"==typeof h.valueTarget&&(this.valueTarget=h.valueTarget),"string"==typeof h.startDate&&(this.startDate=D(h.startDate,this.locale.format)),"string"==typeof h.endDate&&(this.endDate=D(h.endDate,this.locale.format)),"string"==typeof h.minDate&&(this.minDate=D(h.minDate,this.locale.format)),"string"==typeof h.maxDate&&(this.maxDate=D(h.maxDate,this.locale.format)),"object"==typeof h.startDate&&(this.startDate=D(h.startDate)),"object"==typeof h.endDate&&(this.endDate=D(h.endDate)),"object"==typeof h.minDate&&(this.minDate=D(h.minDate)),"object"==typeof h.maxDate&&(this.maxDate=D(h.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof h.applyButtonClasses&&(this.applyButtonClasses=h.applyButtonClasses),"string"==typeof h.applyClass&&(this.applyButtonClasses=h.applyClass),"string"==typeof h.nowButtonClasses&&(this.nowButtonClasses=h.nowButtonClasses),"string"==typeof h.nowClass&&(this.nowButtonClasses=h.nowClass),"string"==typeof h.clearButtonClasses&&(this.clearButtonClasses=h.clearButtonClasses),"string"==typeof h.clearClass&&(this.nowButtonClasses=h.clearClass),"object"==typeof h.span&&(this.maxSpan=h.span),"string"==typeof h.opens&&(this.opens=h.opens),"string"==typeof h.drops&&(this.drops=h.drops),"boolean"==typeof h.showWeekNumbers&&(this.showWeekNumbers=h.showWeekNumbers),"boolean"==typeof h.showISOWeekNumbers&&(this.showISOWeekNumbers=h.showISOWeekNumbers),"string"==typeof h.buttonClasses&&(this.buttonClasses=h.buttonClasses),"object"==typeof h.buttonClasses&&(this.buttonClasses=h.buttonClasses.join(" ")),"boolean"==typeof h.showDropdowns&&(this.showDropdowns=h.showDropdowns),"number"==typeof h.minYear&&(this.minYear=h.minYear),"number"==typeof h.maxYear&&(this.maxYear=h.maxYear),"boolean"==typeof h.custom&&(this.showCustomRangeLabel=h.custom),"boolean"==typeof h.singleDatePicker&&(this.singleDatePicker=h.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof h.timePicker&&(this.timePicker=h.timePicker),"boolean"==typeof h.timePickerMinute&&(this.timePickerMinute=h.timePickerMinute),"boolean"==typeof h.timePickerSeconds&&(this.timePickerSeconds=h.timePickerSeconds),"number"==typeof h.timePickerIncrement&&(this.timePickerIncrement=h.timePickerIncrement),"boolean"==typeof h.timePicker24Hour&&(this.timePicker24Hour=h.timePicker24Hour),"boolean"==typeof h.input&&(this.autoUpdateInput=h.input),"boolean"==typeof h.link&&(this.linkedCalendars=h.link),"function"==typeof h.isInvalidDate&&(this.isInvalidDate=h.isInvalidDate),"function"==typeof h.isCustomDate&&(this.isCustomDate=h.isCustomDate),"boolean"==typeof h.alwaysShowCalendars&&(this.alwaysShowCalendars=h.alwaysShowCalendars),"boolean"==typeof h.clear&&(this.hideClearBtn=!h.clear),"boolean"==typeof h.force&&(this.force=h.force,this.sourceContent=this.element.html()),0!=this.locale.firstDay)for(var k=this.locale.firstDay;0<k;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),k--;if(void 0===h.startDate&&void 0===h.endDate&&T(this.element).is(":text")&&(p=c=null,2==(u=(w=T(this.element).val()).split(this.locale.separator)).length?(p=D(u[0],this.locale.format),c=D(u[1],this.locale.format)):this.singleDatePicker&&""!==w&&(p=D(w,this.locale.format),c=D(w,this.locale.format)),null!==p&&null!==c&&(this.setStartDate(p),this.setEndDate(c))),"string"==typeof h.startTarget&&(this.startTarget=h.startTarget,h.ranges=!1),"string"==typeof h.endTarget&&(this.endTarget=h.endTarget),"object"==typeof h.ranges){var x="day";for(d in this.timePicker&&this.timePickerMinute&&this.timePickerSeconds?x="second":this.timePicker&&this.timePickerMinute?x="minute":this.timePicker?x="hours":"month"!==this.pickerType&&"year"!==this.pickerType||(x=this.pickerType),h.ranges){p="string"==typeof h.ranges[d][0]?D(h.ranges[d][0],this.locale.format):D(h.ranges[d][0]),c="string"==typeof h.ranges[d][1]?D(h.ranges[d][1],this.locale.format):D(h.ranges[d][1]),this.minDate&&p.isBefore(this.minDate)&&(p=this.minDate.clone());var $=this.maxDate;this.maxSpan&&$?p.clone().add(this.maxSpan).isAfter($)&&($=p.clone().add(this.maxSpan)):this.maxSpan&&($=p.clone().add(this.maxSpan)),$&&c.isAfter($,x)||this.minDate&&c.isBefore(this.minDate,x)||$&&p.isAfter($,x)||(($=document.createElement("textarea")).innerHTML=d,$=$.value,this.ranges[$]=[p,c])}var C="<ul>";for(d in this.ranges)C+='<li data-range-key="'+d+'">'+d+"</li>";this.showCustomRangeLabel&&(C+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),this.hideClearBtn||(C+='<li data-range-key="'+this.locale.clearLabel+'">'+this.locale.clearLabel+"</li>"),C+="</ul>",this.container.find(".ranges").prepend(C)}"string"==typeof h.pickerType&&h.pickerType.length&&(this.pickerType=h.pickerType,"datetime"!==h.pickerType&&"time"!==h.pickerType||(this.timePicker=!0)),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),"object"==typeof h.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide()),(void 0===h.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .nowBtn, .clearBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.nowButtonClasses.length&&this.container.find(".nowBtn").addClass(this.nowButtonClasses),this.clearButtonClasses.length&&this.container.find(".clearBtn").addClass(this.clearButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".nowBtn").html(this.locale.nowLabel),this.container.find(".clearBtn").html(this.locale.clearLabel),(this.autoUpdateInput||this.hideClearBtn)&&this.container.find(".clearBtn").remove(),this.container.find(".drp-calendar").on("click.busy-admin-date-picker",".prev",T.proxy(this.clickPrev,this)).on("click.busy-admin-date-picker",".next",T.proxy(this.clickNext,this)).on("click.busy-admin-date-picker","td.available,span.col-xs-4.available",T.proxy(this.clickDate,this)).on("mouseenter.busy-admin-date-picker","td.available,span.col-xs-4.available",T.proxy(this.hoverDate,this)).on("click.busy-admin-date-picker","span.year-select",T.proxy(this.showYearView,this)).on("click.busy-admin-date-picker","span.month-select",T.proxy(this.showMonthView,this)).on("change.busy-admin-date-picker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",T.proxy(this.timeChanged,this)).on("click.busy-admin-date-picker","span.available.time-picker-item",T.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.busy-admin-date-picker","li",T.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.busy-admin-date-picker","button.applyBtn",T.proxy(this.clickApply,this)).on("click.busy-admin-date-picker","button.clearBtn",T.proxy(this.clickClear,this)).on("click.busy-admin-date-picker","button.nowBtn",T.proxy(this.clickNow,this)),this.element.is(":text")||this.element.is("button")?this.element.on({"click.busy-admin-date-picker":T.proxy(this.show,this),"focus.busy-admin-date-picker":T.proxy(this.show,this),"keyup.busy-admin-date-picker":T.proxy(this.elementChanged,this),"keydown.busy-admin-date-picker":T.proxy(this.keydown,this)}):(this.element.on("click.busy-admin-date-picker",T.proxy(this.toggle,this)),this.element.on("keydown.busy-admin-date-picker",T.proxy(this.toggle,this))),this.element.data("busy.admin.date.picker",this),this.updateElement()},ready:function(t){var n=this;D?"function"==typeof t&&t.call(n):require([S.lib.moment],function(e){D=e,"function"==typeof t&&t.call(n)})},getTopWrap:function(e){return e.parents(".drp-calendar")},isLeft:function(e){return e.hasClass("left")},isYearPicker:function(e){return 0<e.closest(".table-year-view").length},isMonthPicker:function(e){return 0<e.closest(".table-month-view").length},isAvailable:function(e){return e.hasClass("available")},setStartDate:function(e){"string"==typeof e&&(this.startDate=D(e,this.locale.format)),"object"==typeof e&&(this.startDate=D(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=D(e,this.locale.format)),"object"==typeof e&&(this.endDate=D(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},updateMonthsInView:function(){if("year"!==this.pickerType&&"month"!==this.pickerType){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}else{if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.year()==this.leftCalendar.month.year()||this.startDate.year()==this.rightCalendar.month.year())&&(this.endDate.year()==this.leftCalendar.month.year()||this.endDate.year()==this.rightCalendar.month.year()))return;this.leftCalendar.month=this.startDate.clone().startOf("year"),this.linkedCalendars||this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().startOf("year").add(1,"year"):this.rightCalendar.month=this.endDate.clone().startOf("year")}else this.leftCalendar.month.year()!=this.startDate.year()&&this.rightCalendar.month.year()!=this.startDate.year()&&(this.leftCalendar.month=this.startDate.clone().startOf("year"),this.rightCalendar.month=this.startDate.clone().startOf("year").add(1,"year"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.year()>this.maxDate.year()&&(this.rightCalendar.month=this.maxDate.clone().startOf("year"),this.leftCalendar.month=this.maxDate.clone().startOf("year").subtract(1,"year"))}},updateCalendars:function(){var e,t,n,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),n=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(n)&&(n=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),n=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(n)&&(n=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(n).second(e),this.rightCalendar.month.hour(t).minute(n).second(e)),this.renderCalendar("left"),this.renderCalendar("right"),"year"===this.pickerType?(this.renderYearOrMonth(!0,!0),this.renderYearOrMonth(!1,!0)):"month"===this.pickerType&&(this.renderYearOrMonth(!0,!1),this.renderYearOrMonth(!1,!1)),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,n=t.month.month(),i=t.month.year(),a=t.month.hour(),r=t.month.minute(),o=t.month.second(),s=D([i,n]).daysInMonth(),l=D([i,n,1]),c=D([i,n,s]),d=D(l).subtract(1,"month").month(),i=D(l).subtract(1,"month").year(),n=D([i,d]).daysInMonth(),s=l.day();(t=[]).firstDay=l,t.lastDay=c;for(var u=0;u<6;u++)t[u]=[];c=n-s+this.locale.firstDay+1;n<c&&(c-=7),s==this.locale.firstDay&&(c=n-6);for(var p=D([i,d,c,12,r,o]),u=0,h=0,f=0;u<42;u++,h++,p=D(p).add(24,"hour"))0<u&&h%7==0&&(h=0,f++),t[f][h]=p.clone().hour(a).minute(r).second(o),p.hour(12),this.minDate&&t[f][h].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[f][h].isBefore(this.minDate)&&"left"==e&&(t[f][h]=this.minDate.clone()),this.maxDate&&t[f][h].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[f][h].isAfter(this.maxDate)&&"right"==e&&(t[f][h]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var c="left"==e?this.minDate:this.startDate,m=this.maxDate,g='<table class="table-condensed">';g+="<thead>",g+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+="<th></th>"),c&&!c.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?g+="<th></th>":g+='<th class="prev available"><span></span></th>';c=t[1][1].format("YYYY"+this.locale.yearName)+" "+this.locale.monthNames[t[1][1].month()];this.showDropdowns&&(c='<span class="year-select">'+t[1][1].format("YYYY"+this.locale.yearName)+'</span><span class="month-select">'+this.locale.monthNames[t[1][1].month()]+"</span>"),g+='<th colspan="5" class="month">'+c+"</th>",m&&!m.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?g+="<th></th>":g+='<th class="next available"><span></span></th>',g+="</tr>",g+='<tr class="week-bar">',(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+='<th class="week">'+this.locale.weekLabel+"</th>"),T.each(this.locale.daysOfWeek,function(e,t){g+="<th>"+t+"</th>"}),g+="</tr>",g+="</thead>",g+="<tbody>",null==this.endDate&&this.maxSpan&&(c=this.startDate.clone().add(this.maxSpan).endOf("day"),m&&!c.isBefore(m)||(m=c));for(f=0;f<6;f++){g+="<tr>",this.showWeekNumbers?g+='<td class="week">'+t[f][0].week()+"</td>":this.showISOWeekNumbers&&(g+='<td class="week">'+t[f][0].isoWeek()+"</td>");for(h=0;h<7;h++){var v=[];t[f][h].isSame(new Date,"day")&&v.push("today"),5<t[f][h].isoWeekday()&&v.push("weekend"),t[f][h].month()!=t[1][1].month()&&v.push("off","ends"),this.minDate&&t[f][h].isBefore(this.minDate,"day")&&v.push("off","disabled"),m&&t[f][h].isAfter(m,"day")&&v.push("off","disabled"),this.isInvalidDate(t[f][h])&&v.push("off","disabled"),t[f][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&v.push("active","start-date"),null!=this.endDate&&t[f][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&v.push("active","end-date"),null!=this.endDate&&t[f][h]>this.startDate&&t[f][h]<this.endDate&&v.push("in-range");var y=this.isCustomDate(t[f][h]);!1!==y&&("string"==typeof y?v.push(y):Array.prototype.push.apply(v,y));for(var b="",w=!1,u=0;u<v.length;u++)b+=v[u]+" ","disabled"==v[u]&&(w=!0);w||(b+="available"),g+='<td class="'+b.replace(/^\s+|\s+$/g,"")+'" data-date="'+t[f][h].date()+'" data-title="r'+f+"c"+h+'">'+t[f][h].date()+"</td>"}g+="</tr>"}g+="</tbody>",g+="</table>",this.container.find(".drp-calendar."+e+" .calendar-table").html(g)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,i=this.maxDate;!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(i=this.startDate.clone().add(this.maxSpan)),"left"==e?(t=this.startDate.clone(),n=this.minDate):"right"==e&&(t=this.endDate.clone(),n=this.startDate,""!=(f=this.container.find(".drp-calendar.right .calendar-time")).html()&&(t.hour(isNaN(t.hour())?f.find(".hourselect option:selected").val():t.hour()),t.minute(isNaN(t.minute())?f.find(".minuteselect option:selected").val():t.minute()),t.second(isNaN(t.second())?f.find(".secondselect option:selected").val():t.second()),this.timePicker24Hour||("PM"===(m=f.find(".ampmselect option:selected").val())&&t.hour()<12&&t.hour(t.hour()+12),"AM"===m&&12===t.hour()&&t.hour(0))),t.isBefore(this.startDate)&&(t=this.startDate.clone()),i&&t.isAfter(i)&&(t=i.clone()));for(var a=["show-hour"],r='<div class="time-picker time-picker-hour"><div class="time-picker-title">'+this.locale.hourName+'</div><div class="time-picker-list">',o='<select class="hourselect">',s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var d=c;this.timePicker24Hour||(d=12<=t.hour()?12==c?12:c+12:12==c?0:c);var u=t.clone().hour(d),p=!1;n&&u.minute(59).isBefore(n)&&(p=!0),i&&u.minute(0).isAfter(i)&&(p=!0);var h=c<10?"0"+c:c;d!=t.hour()||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+h+"</option>",r+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+h+"</span>"):(o+='<option value="'+c+'">'+h+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available">'+h+"</span>"):(o+='<option value="'+c+'" selected="selected">'+h+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available active">'+h+"</span>")}o+="</select> ",r+="</div></div>",o+=': <select class="minuteselect" '+(this.timePickerMinute?"":" disabled")+">";for(var f,m,g='<div class="time-picker time-picker-minute"><div class="time-picker-title">'+this.locale.minuteName+'</div><div class="time-picker-list">',c=0;c<60;c+=this.timePickerIncrement){var v=c<10?"0"+c:c,u=t.clone().minute(c),p=!1;n&&u.second(59).isBefore(n)&&(p=!0),i&&u.second(0).isAfter(i)&&(p=!0),t.minute()!=c||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+v+"</option>",g+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+v+"</span>"):(o+='<option value="'+c+'">'+v+"</option>",g+='<span data-value="'+c+'" class="time-picker-item available">'+v+"</span>"):(o+='<option value="'+c+'" selected="selected">'+v+"</option>",g+='<span data-value="'+c+'" class="time-picker-item available active">'+v+"</span>")}if(o+="</select> ",g+="</div></div>",r+=this.timePickerMinute?g:"",this.timePickerMinute&&a.push("show-minute"),this.timePickerSeconds){a.push("show-second"),o+=': <select class="secondselect">',r+='<div class="time-picker time-picker-second"><div class="time-picker-title">'+this.locale.secondName+'</div><div class="time-picker-list">';for(c=0;c<60;c++){v=c<10?"0"+c:c,u=t.clone().second(c),p=!1;n&&u.isBefore(n)&&(p=!0),i&&u.isAfter(i)&&(p=!0),t.second()!=c||p?p?(o+='<option value="'+c+'" disabled="disabled" class="disabled">'+v+"</option>",r+='<span data-value="'+c+'" disabled="disabled" class="time-picker-item disabled">'+v+"</span>"):(o+='<option value="'+c+'">'+v+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available">'+v+"</span>"):(o+='<option value="'+c+'" selected="selected">'+v+"</option>",r+='<span data-value="'+c+'" class="time-picker-item available active">'+v+"</span>")}o+="</select> ",r+="</div></div>"}this.timePicker24Hour||(a.push("show-amp"),r+='<div class="time-picker time-picker-amp"><div class="time-picker-title">A/PM</div><div class="time-picker-list">',o+='<select class="ampmselect">',y=f="",s=m=" available",n&&t.clone().hour(12).minute(0).second(0).isBefore(n)&&(f=' disabled="disabled" class="disabled"',m=" disabled"),i&&t.clone().hour(0).minute(0).second(0).isAfter(i)&&(y=' disabled="disabled" class="disabled"',s=" disabled"),12<=t.hour()?(r+='<span data-value="AM" class="time-picker-item'+m+'"'+m+">"+this.locale.am+"</span>",r+='<span data-value="PM" class="time-picker-item active'+s+'"'+s+">"+this.locale.pm+"</span>",o+='<option value="AM"'+f+">"+this.locale.am+'</option><option value="PM" selected="selected"'+y+">"+this.locale.pm+"</option>"):(r+='<span data-value="AM" class="time-picker-item active'+m+'"'+m+">"+this.locale.am+"</span>",r+='<span data-value="PM" class="time-picker-item'+s+'"'+s+">"+this.locale.pm+"</span>",o+='<option value="AM" selected="selected"'+f+">"+this.locale.am+'</option><option value="PM"'+y+">"+this.locale.pm+"</option>"),o+="</select>",r+="</div></div>");var y=this.container.find(".drp-calendar."+e+" .calendar-time");y.html(o),"time"===this.pickerType&&(y.hide(),y=this.singleDatePicker?this.locale.timeChoose:"left"==e?this.locale.timeStartChoose:this.locale.timeEndChoose,(e=this.container.find(".drp-calendar."+e+" .calendar-table")).find(".select-box").remove(),e.append('<div class="select-box"><table class="table-time-view '+a.join(" ")+'"><thead><tr><th>'+y+"</th></tr></thead><tbody><tr><td>"+r+"</td></tr></tbody></table></div>"),this.container.find(".time-picker-item.active").each(function(){var e=T(this),t=e.closest(".time-picker-list"),n=e.offset().top-t.offset().top+t.scrollTop(),e=(t.height()-e.height())/2;e<n&&t.animate({scrollTop:n-e},0)}))}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var e,t,n={top:0,left:0},i=this.drops,a=T(window).width();switch(this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},a=this.parentEl[0].clientWidth+this.parentEl.offset().left),t=this.container.outerHeight(),i){case"auto":(e=this.element.offset().top+this.element.outerHeight()-n.top)+t>=this.parentEl[0].scrollHeight&&this.element.offset().top>t&&(e=this.element.offset().top-t-n.top,i="up");break;case"up":e=this.element.offset().top-t-n.top;break;default:e=this.element.offset().top+this.element.outerHeight()-n.top}this.container.css({top:0,left:0,right:"auto"});var r,o=this.container.outerWidth();this.container.toggleClass("drop-up","up"==i),"left"==this.opens?(o+(a=a-this.element.offset().left-this.element.outerWidth())>T(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:a,left:"auto"}),this.$arrow.css({marginLeft:this.element.offset().left})):"center"==this.opens?(r=this.element.offset().left-n.left+this.element.outerWidth()/2-o/2)<0?this.container.css({top:e,right:"auto",left:9}):r+o>T(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:r,right:"auto"}):((r=this.element.offset().left-n.left)+o>T(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:r,right:"auto"}),this.$arrow.css({left:this.element.offset().left-this.container.offset().left}));var s=this;clearTimeout(s.moveTimer),s.moveTimer=setTimeout(function(){t!=s.container.outerHeight()&&s.move()})},show:function(e){this.isShowing||(this._outsideClickProxy=T.proxy(function(e){this.outsideClick(e)},this),T(document).on("mousedown.busy-admin-date-picker",this._outsideClickProxy).on("touchend.busy-admin-date-picker",this._outsideClickProxy).on("click.busy-admin-date-picker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.busy-admin-date-picker",this._outsideClickProxy),T(window).on("resize.busy-admin-date-picker",T.proxy(function(e){this.move(e)},this)),T(document).one(S.e.appRenderBefore,T.proxy(this.remove,this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.elementChanged(),this.container.show(),this.move(),"time"===this.pickerType&&this.container.find(".drp-calendar.left .hourselect").trigger("change"),S.helper.execCallback(this.options.onShow,this.element[0],[this],this.element,S.e.datePickerShow),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),T(document).off(".busy-admin-date-picker"),T(window).off(".busy-admin-date-picker"),this.container.hide(),S.helper.execCallback(this.options.onHide,this.element[0],[this],this.element,S.e.datePickerHide),this.isShowing=!1,this.leftCalendar.viewYear=!1,this.rightCalendar.viewYear=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=T(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||(S.helper.execCallback(this.options.onOutsideClick,this.element[0],[this],this.element,S.e.datePickerOutsideClick),this.hide())},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),S.helper.execCallback(this.options.onShowCalendar,this.element[0],[this],this.element,S.e.datePickerShowCalendar)},hideCalendars:function(){this.container.removeClass("show-calendar"),S.helper.execCallback(this.options.onHideCalendar,this.element[0],[this],this.element,S.e.datePickerHideCalendar)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");(this.chosenLabel=t)==this.locale.customRangeLabel?this.showCalendars():t==this.locale.clearLabel?this.clickClear(e):(t=this.ranges[t],this.startDate=t[0],this.endDate=t[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(e){var t=T(e.target),n=this.getTopWrap(t),i=this.isLeft(n),e="year"===this.pickerType,n="month"===this.pickerType;if(this.isYearPicker(t)){if(i?this.leftCalendar.viewYear.subtract(15,"year"):(this.rightCalendar.viewYear.subtract(15,"year"),this.linkedCalendars&&e&&this.leftCalendar.viewYear.subtract(15,"year")),!e)return void this.renderYearOrMonth(i,!0)}else if(this.isMonthPicker(t)){if(i?this.leftCalendar.viewYear.subtract(1,"year"):(this.rightCalendar.viewYear.subtract(1,"year"),this.linkedCalendars&&n&&this.leftCalendar.viewYear.subtract(1,"year")),!n)return void this.renderYearOrMonth(i,!1)}else i?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(e){var t=T(e.target),n=this.getTopWrap(t),i=this.isLeft(n),e="year"===this.pickerType,n="month"===this.pickerType;if(this.isYearPicker(t)){if(i?this.leftCalendar.viewYear.add(15,"year"):(this.rightCalendar.viewYear.add(15,"year"),this.linkedCalendars&&e&&this.leftCalendar.viewYear.add(15,"year")),!e)return void this.renderYearOrMonth(i,!0)}else if(this.isMonthPicker(t)){if(i?this.leftCalendar.viewYear.add(1,"year"):(this.rightCalendar.viewYear.add(1,"year"),this.linkedCalendars&&n&&this.leftCalendar.viewYear.add(1,"year")),!n)return void this.renderYearOrMonth(i,!1)}else i?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(e){var i,a,r,t,o,s,l,c,n=T(e.target),d=this;d.isAvailable(n)&&(t=d.getTopWrap(n),e=d.isLeft(t),d.isYearPicker(n)||d.isMonthPicker(n)?"year"===d.pickerType?(i=d.startDate.year(),a=n.data("year"),d.endDate||d.container.find(".table-year-view .col-xs-4").each(function(e,t){var n=T(t),t=n.data("year");i<=t&&t<=a?n.addClass("in-range"):n.removeClass("in-range")})):"month"===d.pickerType&&(r=D([n.data("year"),n.data("month")]),d.endDate||d.container.find(".table-month-view .col-xs-4").each(function(e,t){var n=T(t),t=D([n.data("year"),n.data("month")]);t.isSameOrAfter(d.startDate,"month")&&t.isSameOrBefore(r)?n.addClass("in-range"):n.removeClass("in-range")})):(n=(t=n.attr("data-title")).substr(1,1),t=t.substr(3,1),o=(e?d.leftCalendar:d.rightCalendar).calendar[n][t],s=d.leftCalendar,l=d.rightCalendar,c=d.startDate,d.endDate||d.container.find(".drp-calendar tbody td").each(function(e,t){var n,i,a=T(t);a.hasClass("week")||(n=(i=a.attr("data-title")).substr(1,1),t=i.substr(3,1),i=d.getTopWrap(a),(t=(d.isLeft(i)?s:l).calendar[n][t]).isAfter(c)&&t.isBefore(o)||t.isSame(o,"day")?a.addClass("in-range"):a.removeClass("in-range"))})))},clickDate:function(e){var t,n,i,a=T(e.target);this.isAvailable(a)&&(this.isYearPicker(a)||this.isMonthPicker(a)?"year"===this.pickerType||"month"===this.pickerType?this.setSelectedDate(D([a.data("year"),a.data("month")])):this.monthOrYearChanged(e):(t=this.getTopWrap(a),n=(i=a.attr("data-title")).substr(1,1),i=i.substr(3,1),a.hasClass("active")&&this.singleDatePicker?this.clickApply():this.setSelectedDate((this.isLeft(t)?this.leftCalendar:this.rightCalendar).calendar[n][i])),e.stopPropagation())},setSelectedDate:function(e){var t,n,i,a;this.endDate||e.isBefore(this.startDate,"day")?(this.timePicker&&(t=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(n=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)),i=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,e=e.clone().hour(t).minute(i).second(a)),this.endDate=null,this.setStartDate(e.clone())):!this.endDate&&e.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(t=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(n=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)),i=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(i)&&(i=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,e=e.clone().hour(t).minute(i).second(a)),this.setEndDate(e.clone()),this.timePicker||(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()},calculateChosenLabel:function(){var e,t=!0,n=0;for(e in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[e][0].format(i)&&this.endDate.format(i)==this.ranges[e][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+n+")").addClass("active").attr("data-range-key");break}n++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find('.ranges li[data-range-key="'+this.locale.customRangeLabel+'"]').addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){var t;this.updateElement(!0),S.helper.execCallback(this.options.onApply,this.element[0],[this],this.element,S.e.datePickerApply),this.hide(),this.endTarget&&((t=T(this.endTarget)).is(":text")?t.val("").trigger("focus.busy-admin-date-picker"):t.html("").trigger("click.busy-admin-date-picker"))},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,S.helper.execCallback(this.options.onCancel,this.element[0],[this],this.element,S.e.datePickerCancel),this.hide()},clickNow:function(e){this.startDate=this.getInitStartDate(),this.endDate=this.getInitEndDate(),this.clickApply()},clickClear:function(e){this.triggerElementChange(this.force?this.sourceContent:""),S.helper.execCallback(this.options.onClear,this.element[0],[this],this.element,S.e.datePickerClear),this.hide()},monthOrYearChanged:function(e){var t=T(e.target),n=this.isLeft(this.getTopWrap(t)),e=parseInt(t.data("month"),10),t=parseInt(t.data("year"));n||(t<this.startDate.year()||t==this.startDate.year()&&e<this.startDate.month())&&(e=this.startDate.month(),t=this.startDate.year()),this.minDate&&(t<this.minDate.year()||t==this.minDate.year()&&e<this.minDate.month())&&(e=this.minDate.month(),t=this.minDate.year()),this.maxDate&&(t>this.maxDate.year()||t==this.maxDate.year()&&e>this.maxDate.month())&&(e=this.maxDate.month(),t=this.maxDate.year()),n?(this.leftCalendar.month.month(e).year(t),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(e).year(t),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},updateRightViewYear:function(e){this.rightCalendar.viewYear=this.leftCalendar.viewYear.clone().add(e,"year")},showYearView:function(e){this.renderYearOrMonth(this.isLeft(this.getTopWrap(T(e.target))),!0)},renderYearOrMonth:function(e,t){var n=this.container.find((e?".left ":".right ")+".calendar-table"),i=e?this.leftCalendar:this.rightCalendar,a="year"===this.pickerType||"month"===this.pickerType,r=a||e?this.minDate:this.startDate,o=this.maxDate;a&&null==this.endDate&&this.maxSpan&&(f=this.startDate.clone().add(this.maxSpan).endOf(this.pickerType),o&&!f.isBefore(o)||(o=f));var s=o&&o.year()||this.maxYear,l=r&&r.year()||this.minYear,c=i.month.year(),d=i.month.month(),u=c==l,p=c==s,h='<div class="select-box">    <table class="table-condensed table-'+(t?"year":"month")+'-view">        <thead>            <tr>                '+(!e&&this.linkedCalendars&&a&&!this.singleDatePicker?"<th></th>":'<th class="prev"><span></span></th>')+'                <th class="month">_name_</th>                '+(e&&this.linkedCalendars&&a&&!this.singleDatePicker?"<th></th>":'<th class="next"><span></span></th>')+'            </tr>         </thead>        <tbody><tr><td colspan="3">_list_</td></tr></tbody>    </table></div>',f=null;i.viewYear&&(f=i.viewYear.clone());var m=(f=f||i.month.clone()).year(),g="",a="";if(t){for(var t=m-7,v=m+7,y=t;y<=v;y++){var b=[];l<=y&&y<=s?b.push("available"):b.push("disabled"),"year"===this.pickerType?(y==this.startDate.year()&&b.push("start-date","active"),null!=this.endDate&&y==this.endDate.year()&&b.push("end-date","active"),null!=this.endDate&&y>=this.startDate.year()&&y<=this.endDate.year()&&b.push("in-range")):y==c&&b.push("active"),g+='<span data-year="'+y+'" data-month="'+d+'" class="col-xs-4 '+b.join(" ")+'">'+y+this.locale.yearName+"</span>"}a=t+this.locale.yearName+" - "+v+this.locale.yearName}else{for(var w=f.clone().startOf("year"),k=0;k<12;k++){b=[];(!u||r&&w.isSameOrAfter(r,"month"))&&(!p||o&&w.isSameOrBefore(o,"month"))?b.push("available"):b.push("disabled"),"month"===this.pickerType?(w.isSame(this.startDate,"month")&&b.push("start-date","active"),null!=this.endDate&&w.isSame(this.endDate,"month")&&b.push("end-date","active"),null!=this.endDate&&w.isSameOrAfter(this.startDate,"month")&&w.isSameOrBefore(this.endDate,"month")&&b.push("in-range")):w.isSame(i.month,"month")&&b.push("active"),g+='<span data-year="'+m+'" data-month="'+k+'" class="col-xs-4 '+b.join(" ")+'">'+this.locale.monthNames[k]+"</span>",w.add(1,"month")}a=m+this.locale.yearName}h=(h=h.replace("_list_",g)).replace("_name_",a),n.find(".select-box").remove(),n.append(h),e?this.leftCalendar.viewYear=f:this.rightCalendar.viewYear=f},showMonthView:function(e){this.renderYearOrMonth(T(e.target).closest(".drp-calendar").hasClass("left"),!1)},timeChanged:function(e){var t,n=T(e.target),i=this.getTopWrap(n),a=this.isLeft(i),r=i.find(".hourselect"),o=i.find(".minuteselect"),e=i.find(".secondselect"),i=i.find(".ampmselect");0<n.parents(".time-picker-hour").length?r.val(n.data("value")).trigger("change"):0<n.parents(".time-picker-minute").length?o.val(n.data("value")).trigger("change"):0<n.parents(".time-picker-second").length?e.val(n.data("value")).trigger("change"):0<n.parents(".time-picker-amp").length?i.val(n.data("value")).trigger("change"):(n=parseInt(r.val(),10),r=parseInt(o.val(),10),isNaN(r)&&(r=parseInt(o.find("option:last").val(),10)),e=this.timePickerSeconds?parseInt(e.val(),10):0,this.timePicker24Hour||("PM"===(i=i.val())&&n<12&&(n+=12),"AM"===i&&12===n&&(n=0)),a?((t=this.startDate.clone()).hour(n),t.minute(r),t.second(e),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&((t=this.endDate.clone()).hour(n),t.minute(r),t.second(e),this.setEndDate(t)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right"))},parseValue:function(e){if(e.length<=0)return!1;var t=e.split(this.locale.separator),n=null,i=null;return 2===t.length&&(n=D(t[0],this.locale.format),i=D(t[1],this.locale.format)),!this.singleDatePicker&&null!==n&&null!==i||(i=n=D(e,this.locale.format)),!(!n.isValid()||!i.isValid())&&[n,i]},elementChanged:function(){var e;this.startTarget&&(e=((t=T(this.startTarget)).is(":text")?t.val():t.html()).trim(),t=t.data("busy.admin.date.picker"),!1!==(e=this.parseValue(e))&&(this.singleDatePicker?this.minDate=e[0]:this.minDate=e[1]),t&&(this.maxDate=t.maxDate));var t=this.parseValue(this.getValue());if(!1!==t)return this.setStartDate(t[0]),this.setEndDate(t[1]),void this.updateView();this.setStartDate(this.getInitStartDate()),this.setEndDate(this.getInitEndDate()),this.updateView()},getInitStartDate:function(){return D()},getInitEndDate:function(){return D().endOf("days")},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(e){!this.autoUpdateInput&&!0!==e||(e=this.startDate.format(this.locale.format),this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.getValue()&&this.triggerElementChange(e))},getValue:function(){return(this.element.is(":text")?this.element.val():this.force?this.element.html():this.element.data("value")||"").trim()},triggerElementChange:function(t){var n=this;t=void 0!==t&&t,n.element.is(":text")?(!1!==t&&n.element.val(t),n.element.trigger("change")):(!1!==t&&(this.force?n.element.html(t):n.element.data("value",t)),S.helper.execCallback(this.options.onChange,this.element[0],[this],this.element,S.e.datePickerChange)),this.valueTarget&&T(this.valueTarget).each(function(){var e=T(this);e.is(":text")?(!1!==t&&e.val(t),e.trigger("change")):(!1!==t&&e.html(t),S.helper.execCallback(n.options.onChange,this,[n],e,S.e.datePickerChange))})},remove:function(){this.container.remove(),this.element.off(".busy-admin-date-picker")}},i.DEFAULTS={format:"",range:null,startDate:void 0,endDate:void 0,minDate:null,maxDate:null,force:null,valueTarget:null,clear:!0,applyClass:null,nowClass:null,clearClass:null,span:null,drops:"auto",opens:"right",input:!1,link:!1,custom:null,ranges:void 0,endTarget:null,startTarget:null,locale:T.extend({direction:"ltr",format:"YYYY-MM-DD",separator:" - ",applyLabel:"ç¡®å®",nowLabel:"ç°å¨",clearLabel:"æ¸ç©º",weekLabel:"W",customRangeLabel:"èªå®ä¹",daysOfWeek:["æ¥","ä¸","äº","ä¸","å","äº","å­"],monthNames:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],yearName:"å¹´",yearChoose:"è¯·éæ©å¹´ä»½",monthChoose:"è¯·éæ©æä»½",timeChoose:"è¯·éæ©æ¶é´",timeStartChoose:"éæ©å¼å§æ¶é´",timeEndChoose:"éæ©ç»ææ¶é´",secondName:"ç§",hourName:"æ¶",minuteName:"å",am:"ä¸å",pm:"ä¸å",thisYear:"ä»å¹´",lastYear:"å»å¹´",lastNYear:"æè¿%så¹´",thisMonth:"æ¬æ",lastMonth:"ä¸ä¸ªæ",lastNMonth:"æè¿%sä¸ªæ",todayToNow:"ä»å¤©å°ç°å¨",lastNHours:"æè¿%så°æ¶",forenoon:"ä¸å",afternoon:"ä¸å",allDay:"æ´å¤©",lastNDay:"æè¿%så¤©",today:"ä»å¤©",yesterday:"æ¨å¤©"},((S.locale||{}).plugin||{}).datePicker||{})},T.fn.busyAdminDatePicker=e,T.fn.busyAdminDatePicker.Constructor=i,S.plugins.DatePicker=i,T.extend(S.e,{datePickerShow:S.ee("show","date-picker"),datePickerHide:S.ee("hide","date-picker"),datePickerOutsideClick:S.ee("outside-click","date-picker"),datePickerShowCalendar:S.ee("show-calendar","date-picker"),datePickerHideCalendar:S.ee("hide-calendar","date-picker"),datePickerApply:S.ee("apply","date-picker"),datePickerCancel:S.ee("cancel","date-picker"),datePickerClear:S.ee("clear","date-picker"),datePickerChange:S.ee("change","date-picker")}),T(document).on("focus.busy-date-picker",'[data-toggle="busy-date-picker"],[busy-date-picker]',function(){(T(this).is(":text")||T(this).is("button"))&&e.call(T(this))}),T(document).on("click.busy-date-picker",'[data-toggle="busy-date-picker"],[busy-date-picker]',function(){T(this).is(":text")||T(this).is("button")||e.call(T(this))}),i})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/dialog",[e.sys.core,e.sys.jquery,e.lib.layer],function(h,f){var a,m=h.helper.extends(layer.Constructor.pt,{vessel:function(e,o){var t=this;var n=t.config;var i=n.success;var a=n.yes;var r=n.cancel;var s=n.end;var l=n.min;var c=n.full;var d=n.restore;var u=n.moveEnd;n.success=function(){typeof i==="function"&&i.apply(t,arguments)};n.yes=function(){typeof a==="function"&&a.apply(t,arguments)};n.cancel=function(){typeof r==="function"&&r.apply(t,arguments)};n.end=function(){typeof s==="function"&&s.apply(t,arguments)};n.min=function(){typeof l==="function"&&l.apply(t,arguments)};n.full=function(){typeof c==="function"&&c.apply(t,arguments)};n.restore=function(){typeof d==="function"&&d.apply(t,arguments)};n.moveEnd=function(){typeof u==="function"&&u.apply(t,arguments)};var p=function(e,t,n){var i=f(e[1]);var a=i.find(".layui-layer-btn");var r=a.find("a[class*=layui-layer-btn]");r.each(function(){var e=f(this);if(e.hasClass("layui-layer-btn0"))e.addClass("btn btn-primary");else e.addClass("btn btn-default")});e[1]=i[0].outerHTML;o(e,t,n)};h.helper.override(m,"vessel",t,[e,p]);return t}});layer.ready=function(e){e()},layer.config({anim:0,isOutAnim:false,zIndex:h.defaultZIndex+1e5}),layer.area=function(e,t,n){layer.style(e,{width:t,height:n})},layer.width=function(e,t){layer.style(e,{width:t})},layer.height=function(e,t){layer.style(e,{height:t})};var t=function(e){e=(e||"").trim();var n=this;this.message=e;this.messageElement=null;this.layer=null;this.index=layer.open({type:1,resize:false,title:false,closeBtn:false,btn:false,area:"auto",skin:"busy-admin-pending"+(this.message.length?"":" busy-admin-pending-empty"),content:'<div class="busy-admin-pending-icon"></div><div class="busy-admin-pending-message">'+this.message+"</div>",success:function(e,t){n.messageElement=e.find(".busy-admin-pending-message");n.layer=this}})};t.prototype={update:function(e){e=(e||"").trim();if(this.layer===null)return this;if(e.length>0){this.layer.layero.removeClass("busy-admin-pending-empty");this.messageElement.html(e)}else this.layer.layero.addClass("busy-admin-pending-empty");if(this.message!==e){this.message=e;this.layer.offset()}return this},close:function(){if(this.index!==null){layer.close(this.index);this.index=null}}};var i=function(e,t,n){var a={};if(typeof t==="function")n=t;else if(f.isArray(t)){var i=t[0]||500;var r=t[1]||500;i=typeof i==="number"?i+"px":i;r=typeof r==="number"?r+"px":r;a.area=[i,r]}else a=t||{};if(f.isArray(e)){a.title=e[0];a.content=e[1]}else a.content=e;this.data=null;this.layerApi=null;var o=this;var s=a.success||null;a.success=function(e,t){var n=e.find("iframe");var i=n[0].contentWindow;o.layerApi=this;i.layer=window.layer;i.busyAdmin.dialog=window.busyAdmin.dialog;a.title=a.title||"";if(a.title.length===0){layer.title(n[0].contentWindow.document.title,t);this.offset()}if(typeof i.busyAdmin.dialogIframeReady==="function"){i.busyAdmin.dialogIframeReady.call(o,t);o.update()}typeof s==="function"&&s.call(o,e,t,n)};a.end=function(){typeof n==="function"&&n(o.data)};a.type=2;a.skin="busy-admin-dialog";this.index=layer.open(a)};i.prototype={setData:function(e){this.data=e;return this},setTitle:function(e){layer.title(e,this.index);return this},setSize:function(e,t){layer.style(this.index,{width:e,height:t});return this},setWidth:function(e){layer.style(this.index,{width:e});return this},setHeight:function(e){layer.style(this.index,{height:e});return this},update:function(){if(this.layerApi!==null)this.layerApi.offset();return this},getLayerApi:function(){return this.layerApi},close:function(){layer.close(this.index)}};var r=function(e,t,n,i){var a={title:false,scrollbar:false,skin:typeof t==="string"?t:"",closeBtn:0,move:false,anim:-1,shadeClose:true,isOutAnim:true};if(typeof t==="object")a=f.extend({},a,t);a.success=function(e,t){typeof n==="function"&&n.call(this,t,this,e)};a.end=function(){typeof i==="function"&&i.call(this)};a.type=1;a.content=e;this.index=layer.open(a)};r.prototype={close:function(){layer.close(this.index)}};var o=function(e){var t=this;t.options=f.extend({},{closeButton:true,timeOut:2500},e||{});t.options.toastClass="toast busy-admin-notify";t.ready()};o.prototype={ready:function(t){var n=this;if(a)typeof t==="function"&&t.call(n);else require([h.lib.toastr],function(e){a=e;typeof t==="function"&&t.call(n)});return this}};var n=function(){};return n.prototype={alert:function(e,t,n){var i={},a=this;return"function"==typeof t?(n=t,i.icon=0):"object"!=typeof t?i.icon=this.parseIcon(t,0):(i=t).icon=this.parseIcon(i.hasOwnProperty("icon")?i.icon:"w",0),i.closeBtn=!1,i.resize=!1,i.skin="busy-admin-dialog",layer.alert(e,f.extend({},{btn:["ç¡®å®"]},i),function(e,t){"function"==typeof n&&!1===n.call(a,e,this,t)||layer.close(e)})},alertSuccess:function(e,t){return this.alert(e,"success",t)},alertError:function(e,t){return this.alert(e,"error",t)},confirm:function(e,t,n,i){var a={},r=this;return"function"==typeof t?(i=n,n=t,a.icon=this.parseIcon(3)):"object"!=typeof t?a.icon=this.parseIcon(t,3):(a=t).icon=this.parseIcon(a.hasOwnProperty("icon")?a.icon:3,3),a.closeBtn=!1,a.resize=!1,a.skin="busy-admin-dialog",layer.confirm(e,f.extend({},{btn:["ç¡®è®¤","åæ¶"],title:"ç¡®è®¤æç¤º"},a),function(e,t){"function"==typeof n&&!1===n.call(r,e,this,t)||layer.close(e)},function(e,t){return("function"!=typeof i||!1!==i.call(r,e,this,t))&&void layer.close(e)})},prompt:function(e,t,n,a,i){var r={},o=this;"function"==typeof n?(i=a,a=n,r.formType=0):"object"!=typeof n?r.formType=n:r=n,r.placeholder=r.placeholder||e,r.value=t;var s,l=r.success||null;r.success=function(e,t){(s=e.find(".form-control")).val(r.value||"").focus(),"function"==typeof l&&l.call(this,e,t)},r.cancel=function(e,t){if("function"==typeof i&&!1===i.call(o,e,this,t))return!1;layer.close(e)},r.btn2="select"===r.formType&&0<r.rows?function(){return s.find(":selected").prop("selected",!1),o.toast("å·²æ¸ç©º"),!1}:r.cancel,r.yes=function(e,t){var n=s.val();if("number"==r.formType){var i=h.helper.float(n);if(0<r.maxlength&&i>r.maxlength)return o.toast("æå¤§ä¸è½è¶è¿"+r.maxlength),s.focus(),!1;if(0<r.minlength&&i<r.minlength)return o.toast("ä¸è½å°äº"+r.minlength),s.focus(),!1}else if("select"==r.formType){if(r.rows){if(n=f.isArray(n)?n:[],0<r.maxlength&&n.length>r.maxlength)return o.toast("æå¤åè®¸éæ©"+r.maxlength+"é¡¹"),s.focus(),!1;if(0<r.minlength&&n.length<r.minlength)return o.toast("è³å°éè¦éæ©"+r.minlength+"é¡¹"),s.focus(),!1}else if(0<r.minlength&&!h.helper.float(n))return o.toast("è¯·éæ©"),s.focus(),!1}else{if(n=n.trim(),0<r.maxlength&&n.length>r.maxlength)return o.toast("æå¤åè®¸è¾å¥"+r.maxlength+"ä¸ªå­ç¬¦"),s.focus(),!1;if(0<r.minlength&&n.length<r.minlength)return o.toast("è³å°éè¦è¾å¥"+r.minlength+"ä¸ªå­ç¬¦"),s.focus(),!1}if("function"==typeof a&&!1===a.call(o,s.val(),e,this,s,t))return!1;layer.close(e)};var c="";r.area&&(c='style="width: '+(t=r.area)[0]+"; height: "+t[1]+';"',delete r.area);var d="";switch(r.formType){case"textarea":d='<textarea class="form-control"'+c+' placeholder="'+(r.placeholder||e)+'" rows="'+(r.rows||2)+'"></textarea>';break;case"select":var u=r.selectOptions;f.isArray(r.selectOptions)&&(u="",r.selectOptions.map(function(e){u+="object"!=typeof e?'<option value="'+e+'">'+e+"</option>":'<option value="'+e.value+'">'+e.name+"</option>"})),d='<select class="form-control" '+(r.rows?'multiple size="'+r.rows:"")+'">'+u+"</select>",r.rows&&(d+='<div class="space-10"></div><div class="text-gray text-center size-12">è¯·æ<code>CTRL+é¼ æ å·¦é®</code> æ <code>ææ½é¼ æ </code>å¤é</div>');break;default:d='<input type="'+(r.formType||"text")+'" placeholder="'+(r.placeholder||e)+'" '+(r.numberStep?' step="'+r.numberStep+'"':"")+' class="form-control">'}return layer.open(f.extend({type:1,title:e,skin:"layui-layer-prompt busy-admin-dialog",btn:["ç¡®è®¤",0<r.rows?"æ¸ç©º":"åæ¶"],content:d,maxWidth:f(window).width(),resize:!1},r))},toast:function(e,t,n){var i={};return"function"==typeof t?n=t:"object"!=typeof t?i.time=t?2500:1500:i=t,-1!==i.icon&&i.icon?i.skin="layui-layer-msg busy-admin-dialog":i.skin="layui-layer-hui layui-layer-msg busy-admin-dialog",layer.msg(e,f.extend({},{time:1500},i),n)},toastSuccess:function(e,t){return this.toast(e,{shade:.1,shadeClose:!0,icon:1},t)},toastError:function(e,t){return this.toast(e,{shade:.1,shadeClose:!0,icon:2},t)},pending:function(e){return new t(e)},iframe:function(e,t,n){return new i(e,t,n)},fullRight:function(e,t,n,i){return new r(e,{skin:"busy-admin-layer-full-right busy-admin-anim busy-admin-anim-rl"+(t=" "+t),offset:"r"},n,i)},parseIcon:function(e,t){if("string"!=typeof e)return null===e?-1:e||t;switch(e.trim().toLowerCase()){case"success":case"s":case"y":case"yes":return 1;case"e":case"error":case"n":case"no":return 2;case"a":case"ask":case"q":case"question":return 3;case"l":case"lock":return 4;case"f":case"frown":return 5;case"sm":case"smile":return 6;case"w":case"warn":case"warning":default:return 0}}},f.map(["Success","Warning","Info","Error"],function(e){var i=e.toLowerCase();o.prototype[i]=function(e,t){return a.options=this.options,a[i](e,t),this},n.prototype["notify"+e]=function(e,t,n){return n=n||{},"object"==typeof t?(n=t,t=e,e=void 0):"function"==typeof t?(n.onHidden=t,t=void 0):"function"==typeof n&&(n={onHidden:n}),new o(n||{}).ready(function(){this[i](t,e)})}}),h.dialog=new n,h.dialogIframeReady=null,n})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/editor",[e.sys.core,e.sys.jquery],function(o,s){var a,l=function(e,t){var n=this;n.element=e;n.$element=s(e);n.options=s.extend(true,{},l.DEFAULTS,n.$element.data(),t||{});if(n.$element.is(":input")){var i=n.$element.attr("placeholder");if(i)n.options.placeholder=i;var a=n.$element.attr("name");if(a)n.options.name=a}n.ready(n.init)};function e(n){var i;var a="busy.admin.editor.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return l.prototype={ready:function(n){var e,i=this;window.UEDITOR_CONFIG||a?"function"==typeof n&&n.call(i):"ck"===i.options.type?(e=(e=o.requirePaths[o.lib.ckEditor5Classic].split("/"))[0]+"/"+e[1]+"/translations/"+i.options.locale,require([o.lib.ckEditor5Classic,e],function(e){a=e,"function"==typeof n&&n.call(i)})):require([o.lib.ueditor,o.lib.zeroClipboard],function(e,t){window.ZeroClipboard=t,window.UEDITOR_CONFIG.UEDITOR_HOME_URL=o.moduleRoot()+"ueditor/","function"==typeof n&&n.call(i)})},init:function(){var e=this,t=e.options;e.isInit||(e.isInit=!0,s(document).one(o.e.appRenderBefore,function(){e.destroy()}),e.elementId=e.$element.attr("id")||"",e.editorId=e.elementId+"__busyAdminEditor_"+l.INDEX++,e.$element.removeAttr("class",""),e.$element.attr("id",e.editorId),"ck"===t.type?e._initCkEditor():e._initUEditor())},_initCkEditor:function(){var e,t=this,n=t.options,i=l.CKEDITOR_TYPES[n.ckType||"small"]||{};!1===n.ckType&&(i={}),n.ckToolbar&&((e=[]).push(s.map(n.ckToolbar.split(","),function(e){return(e=e.trim())||null})),i.toolbar=e);i=s.extend({},s.extend({},{language:n.locale},n.ckOptions||{}),i);a.create(t.element,i).then(function(e){t.ckEditor=e,console.log(Array.from(t.ckEditor.ui.componentFactory.names()))}).catch(function(e){console.log(e)})},_initUEditor:function(){var n=this,e=n.options,t=l.UEDITOR_TYPES[e.ueType||"small"]||{},i={};!1===e.ueType&&(t={}),s.extend(!0,i,{charset:"utf-8",wordCount:e.showCount,enableAutoSave:e.autoSave,zIndex:s.isNumeric(e.zindex)?e.zindex:o.zIndex(),catchRemoteImageEnable:e.catchRemoteImage,autoHeightEnabled:e.autoHeight,elementPathEnabled:e.elementPath,whitList:e.whitList,lang:e.locale,xssFilterRules:!0,inputXssFilter:!0,outputXssFilter:!0,insertorderedlist:{decimal:"","decimal-leading-zero":"01,02,03...","lower-alpha":"","upper-alpha":"","lower-roman":"","upper-roman":"","cjk-ideographic":"ä¸,äº,ä¸..."},insertunorderedlist:{circle:"",disc:"",square:""},showImageOnlineManager:e.imageManager,showAttachmentOnlineManage:e.fileManager,showVideoOnlineManage:e.videoManager,allowVideoUpload:e.videoUpload,autoFloatEnabled:e.stickyToolbar,topOffset:"auto"===e.stickyTopOffset?0:e.stickyTopOffset,toolbarTopOffset:"auto"===e.stickyTopOffset?0:e.stickyTopOffset,textarea:e.name},e.ueOptions||{},t),"auto"===e.stickyTopOffset&&o.app.isInContent(n.$element)&&(r=o.app.getContentFrame(),i.topOffset=r.top,i.toolbarTopOffset=r.top);var a,r=window.UEDITOR_CONFIG.busyFileConfig[e.classImage]||null;r&&(i.iimageMaxSize=r.size,i.imageAllowFiles=s.map(r.suffix,function(e){return"."+e})),e.ueToolbar&&((a=[]).push(s.map(e.ueToolbar.split(","),function(e){return(e=e.trim())||null})),i.toolbars=a),0<n.$element.closest(".modal").length&&(-1!=(a=(r=i.toolbars[0]||[]).indexOf("fullscreen"))&&(r=r.del(a)),i.toolbars=[r]),n.$element.css("width","100%"),n.$element.on(o.e.verifyErrorPlacement,function(e,t){return s("#"+n.ueditor.key).after(t),!1}),n.ueditor=UE.getEditor(n.editorId,i),n.ueditor.on("beforefullscreenchange",function(e,t){this.options.topOffset=t?0:i.topOffset}),n.ueditor.on("fullscreenchanged",function(e,t){s(this.container).toggleClass("edui-fullscreen",t)}),n.ueditor.addListener("contentchange",function(){n.$element.val(n.getContent("html")),n.$element.trigger("change"),n.$element.trigger("input")}),n.ueditor.addListener("blur",function(){n.$element.trigger("blur")}),n.ueditor.addListener("focus",function(){n.$element.trigger("focus")}),n.ueditor.ready(function(){n.$element.attr("id",n.elementId),n.ueditor.execCommand("serverparam",{class_file_type:e.classFile||"file",class_image_type:e.classImage||"image",class_video_type:e.classVideo||"video",class_audio_type:e.classAudio||"audio",class_value:e.classValue}),n.ueditor.getOpt("enableAutoSave")&&(n.ueditor.getContent()||n.ueditor.execCommand("drafts")),o.helper.triggerPluginReady(n.$element,"Editor",n)})},getContent:function(e){switch(e){case"html":return this.ueditor.getContent();case"text":return this.ueditor.getContentTxt();default:return this.ueditor.getPlainTxt()}},setContent:function(e){this.ueditor.setContent(e+"")},append:function(e){this.ueditor.setContent(e+"",!0)},hasContent:function(){return this.ueditor.hasContents()},setFocus:function(e){e?this.ueditor.focus():this.ueditor.blur()},setDisabled:function(e){e?this.ueditor.setDisabled():this.ueditor.setEnabled()},exec:function(e){var t=Array.prototype.slice.call(arguments);return this.ueditor.execCommand.apply(this.ueditor,t)},destroy:function(){"ck"===this.options.type||(UE.delEditor(this.editorId),s("#edui_fixedlayer").remove())}},l.DEFAULTS={type:"ue",name:"content",placeholder:"",classImage:"",classVideo:"",classAudio:"",classFile:"",classValue:"",imageManager:!1,videoManager:!1,fileManager:!1,showCount:!1,autoSave:!1,zindex:null,catchRemoteImage:!0,videoUpload:!1,autoHeight:!1,elementPath:!1,stickyToolbar:!1,stickyTopOffset:"auto",ueType:"",ueToolbar:"",ueOptions:{},ckType:"",ckToolbar:"",ckOptions:{},whitList:{a:["target","href","title","class","style"],abbr:["title","class","style"],address:["class","style"],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src","class","style"],b:["class","style"],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite","class","style"],br:[],caption:["class","style"],center:[],cite:[],code:["class","style"],col:["align","valign","span","width","class","style"],colgroup:["align","valign","span","width","class","style"],dd:["class","style"],del:["datetime"],details:["open"],div:["class","style"],dl:["class","style"],dt:["class","style"],em:["class","style"],font:["color","size","face"],footer:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],header:[],hr:[],i:["class","style"],img:["src","alt","title","width","height","id","_src","loadingclass","class","data-latex"],ins:["datetime"],li:["class","style"],mark:[],nav:[],ol:["class","style"],p:["class","style"],pre:["class","style"],s:[],section:[],small:[],span:["class","style"],sub:["class","style"],sup:["class","style"],strong:["class","style"],table:["width","border","align","valign","class","style"],tbody:["align","valign","class","style"],td:["width","rowspan","colspan","align","valign","class","style"],tfoot:["align","valign","class","style"],th:["width","rowspan","colspan","align","valign","class","style"],thead:["align","valign","class","style"],tr:["rowspan","align","valign","class","style"],tt:[],u:[],ul:["class","style"],video:["autoplay","controls","loop","preload","src","height","width","class","style"]},locale:"zh-cn"},l.INDEX=0,l.UEDITOR_TYPES={default:{toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","attachment","insertvideo","scrawl","|","wordimage","insertcode","pagebreak","map","horizontal","date","time","spechars","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","|","print","preview","searchreplace"]]},small:{toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","|","paragraph","fontsize","|","indent","justifyleft","justifycenter","justifyright","justifyjustify","|","link","unlink","anchor","|","simpleupload","insertimage","scrawl","|","horizontal","spechars","|","inserttable","deletetable","|","print","preview","searchreplace"]]},text:{toolbars:[["source","undo","redo","|","bold","italic","underline","removeformat","formatmatch","autotypeset","forecolor","link","unlink"]],enableContextMenu:!1,pasteplain:!0,filterTxtRules:function(){function e(e){e.tagName="p",e.setAttr("style",""),e.setAttr("class","")}return{"-":"script style object iframe embed input select textarea",p:{$:{}},a:{$:{href:"",target:"",title:""}},br:{$:{}},div:{$:{}},li:{$:{}},caption:e,th:e,tr:e,h1:e,h2:e,h3:e,h4:e,h5:e,h6:e,td:function(e){e.innerText()&&e.parentNode.insertAfter(UE.uNode.createText(" &nbsp; &nbsp;"),e),e.parentNode.removeChild(e,e.innerText())}}}()}},l.CKEDITOR_TYPES={default:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","fontColor","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed"]},small:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},text:{}},s.fn.busyAdminEditor=e,s.fn.busyAdminEditor.Constructor=l,o.plugins.Editor=l,s.extend(o.e,{}),o.autoInit('[data-toggle="busy-editor"],[busy-editor]',function(){e.call(this)}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/filePicker",[e.sys.core,e.sys.jquery],function(o,s){var e=false,i=null,l=function(e,t){var n=this;n.element=e;n.$element=s(e);n.options=s.extend(true,{},l.DEFAULTS,n.$element.data()||{},t||{});n.modal=null;n.$deleteBtn=null;n.deleteIds=[];n.selectData=[];n.ready(n.init)};function t(n){var i;var a="busy.admin.filePicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r);else t.ready(t.show)});if(typeof n==="string")return i;return this}return l.prototype={ready:function(t){var n=this;i?"function"==typeof t&&t.call(n):require([o.lib.uploadConfig],function(e){i=e,"function"==typeof t&&t.call(n)})},init:function(){var r=this,n=r.options;r.isInit||(r.isInit=!0,r.$element.busyAdminModal({keyboard:!1,title:n.title,type:"page",padding:0,className:"busy-admin-file-picker",url:i.picker.replace("_type_",encodeURIComponent(n.classType)).replace("_value_",encodeURIComponent(n.classValue)).replace("_extensions_",encodeURIComponent(n.extensions)),onReady:function(t){t.$fileBody=t.$dialogBody.find(".file-list"),t.$imageBody=t.$dialogBody.find(".image-list"),t.$fileTable=t.$fileBody.find("table"),t.$fieldType=t.$dialogBody.find(".field-type"),t.$searchBar=t.$dialogBody.find(".search-bar"),t.$selectRange=t.$dialogBody.find('[name="range"]'),t.$searchForm=t.$searchBar.find("form"),t.$searchReset=t.$searchBar.find(".btn-default"),r.setConfirmBtn(0),t.$selectRange.on("change",function(){"0"===s(this).val()?(t.$fieldType.hide(),t.$searchBar.removeClass("has-type")):(t.$fieldType.show(),t.$searchBar.addClass("has-type"))}).trigger("change"),t.$searchForm.on("submit",function(){var e=s(this).attr("action"),t=s(this).serialize();return r.reload(e+"?"+t),!1}),t.$searchReset.on("click",function(e){return e.preventDefault(),r.reload(s(this).attr("href")),!1}),r.$deleteBtn||(r.$deleteBtn=s('<button class="btn btn-danger pull-left"><i class="fa fa-trash"></i> '+n.locale.delete+"</button>"),t.$dialogFooter.append(r.$deleteBtn)),r.$deleteBtn.off("click").on("click",function(){0!==r.deleteIds.length?o.dialog.confirm(o.helper.sprintf(n.locale.confirmDeleteSelectFile,"<code>"+r.deleteIds.length+"</code>"),function(){o.request(o.root()+"system_file/delete.html").method("post").params({id:r.deleteIds.join(",")}).success(function(e){return o.dialog.toastSuccess(e.message),0<t.$fileTable.length&&(t.$fileTable.busyAdminTable("remove",{field:"id",values:s.map(r.deleteIds,function(e){return e+""})}),r.getSelectData(),t.$fileTable.busyAdminTable("getData").length<=0&&r.reload()),0<t.$imageBody.length&&(s.map(r.deleteIds,function(e){t.$imageBody.find(".item-"+e).remove()}),r.resetImageView(),r.getSelectData(),t.$imageBody.find(".item").length<=0&&r.reload()),!1}).exec()}):o.dialog.toast(n.locale.pleaseSelectDeleteFile)}),r.$deleteBtn.hide(),t.$dialogBody.find(".busy-admin-pagination").find("ul").addClass("pagination-sm").on("click","a",function(e){return e.preventDefault(),-1===s(this).attr("href").indexOf("javascript:")&&r.reload(s(this).attr("href")),!1}),0<t.$fileTable.length&&(t.$fileTable.on(o.e.tableDataInit,function(e,a){a.columns[4].events={"click .btn-default":function(e,t,n){var i=n._data.item;o.helper.urlPreviewHandler({url:i.url,image:function(){s(e.currentTarget).busyAdminImageViewer({src:i.url,alt:i.name,clickHandler:!1}).busyAdminImageViewer("show")},video:function(){s(e.currentTarget).busyAdminVideoViewer({src:i.url,clickHandler:!1}).busyAdminVideoViewer("show")},audio:function(){s(e.currentTarget).busyAdminAudioViewer({src:i.url,clickHandler:!1}).busyAdminAudioViewer("show")},file:function(){window.open(i.url)}})},"click .btn-danger":function(e,t,n,i){s(e.currentTarget).busyAdminRequest({clickHandler:!1,onSuccess:function(){return a.remove({field:"$index",values:[i]}),r.getSelectData(),!0}})}}}).on(o.e.tableCheck+" "+o.e.tableUncheck+" "+o.e.tableCheckAll+" "+o.e.tableUncheckAll,function(){r.getSelectData()}),t.$fileTable.busyAdminTable({search:!1,clickToSelect:!0,height:t.$fileBody,pagination:!1,noDataText:n.locale.noFile})),0<t.$imageBody.length&&(t.$imageBody.on("click","input",function(e){e.stopPropagation();e=s(this);e.prop("checked")?e.closest(".item").addClass("active"):e.closest(".item").removeClass("active"),r.getSelectData()}),t.$imageBody.on("click",".tool-box",function(){s(this).find("input").trigger("click")}),t.$imageBody.on("click","a.preview",function(e){return s(this).closest(".thumb").find("img").trigger("click"),!1}),t.$imageBody.on("click","a.delete",function(e){var t=s(this).closest(".item");return s(this).busyAdminRequest({clickHandler:!1,onSuccess:function(){return t.remove(),r.resetImageView(),r.getSelectData(),!0}}),!1}),r.resetImageView()),r.getSelectData()},onShown:function(e){0<e.$fileTable.length&&e.$fileTable.busyAdminTable("ready",function(){this.resetView()})},onHide:function(){r.$deleteBtn&&(r.$deleteBtn.remove(),r.$deleteBtn=null),r.deleteIds=[],r.selectData=[]},onOk:function(e){if(r.selectData.length<=0)return o.dialog.toast(n.locale.pleaseSelectFile),!1;var t=n.multiple?n.count:1;return r.selectData.length>t&&0<t?(o.dialog.toast(o.helper.sprintf(n.locale.maxSelectAllowed,t)),!1):(o.helper.execCallback(n.success,r.element,[r.selectData],r.$element,o.e.filePickerSuccess),!0)}}),r.$element.busyAdminModal(),r.modal=r.$element.data("busy.admin.modal.api"))},getSelectData:function(){var t=this;t.selectData=[],t.deleteIds=[];function e(){0<t.selectData.length?t.$deleteBtn.show():t.$deleteBtn.hide(),t.setConfirmBtn()}0<t.modal.$fileTable.length?t.modal.$fileTable.busyAdminTable("ready",function(){s.map(this.api.getSelections(),function(e){t.deleteIds.push(e._data.item.id),t.selectData.push(e._data.item)}),e()}):0<t.modal.$imageBody.length&&(t.modal.$imageBody.find(":checked").each(function(){var e=s(this).closest(".item").data("item");t.deleteIds.push(e.id),t.selectData.push(e)}),e())},setConfirmBtn:function(){var e=this.selectData.length,t=this.options,n=e,i=t.count;t.multiple?0<i?n+="/"+t.count:(n+="",i=0):(n+="/1",i=1),this.modal.$okBtn.html('<span class="badge">'+n+"</span> "+t.locale.confirm),i<e&&0<i||e<=0?this.modal.$okBtn.removeClass("btn-primary").addClass("btn-secondary"):this.modal.$okBtn.removeClass("btn-secondary").addClass("btn-primary")},resetImageView:function(){this.modal.$imageBody.find(".image-list-body .item").length<=0&&this.modal.$imageBody.html('<div class="empty-info">'+this.options.locale.noPicture+"</div>")},show:function(){this.modal&&this.modal.show()},reload:function(e){this.modal&&this.modal.reload(e)}},l.DEFAULTS={title:"",classType:"file",classValue:"",multiple:!1,extensions:"",count:9,success:s.noop,locale:s.extend({noPicture:"ææ å¾ç",noFile:"ææ æä»¶",delete:"å é¤",pleaseSelectDeleteFile:"è¯·éæ©è¦å é¤çæä»¶",confirmDeleteSelectFile:"ç¡®è®¤è¦å é¤éä¸­ç%sä¸ªæä»¶åï¼",confirm:"ç¡®å®",pleaseSelectFile:"è¯·éæ©æä»¶",maxSelectAllowed:"æå¤åè®¸éæ©%sä¸ªæä»¶"},((o.locale||{}).plugin||{}).filePicker||{})},s.fn.busyAdminFilePicker=t,s.fn.busyAdminFilePicker.Constructor=l,o.plugins.FilePicker=l,s.extend(o.e,{filePickerSuccess:o.ee("success","file-picker")}),s(document).on("click.busyAdmin",'[data-toggle="busy-file-picker"],[busy-file-picker]',function(){t.call(s(this))}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/verify",[e.sys.core,e.sys.jquery],function(d,u){"use strict";var r=false,o=function(e,t,n,i){var a=u(t);var r=a.closest(".form-group");if(r.length>0)r.toggleClass("has-error",!e)},s=function(e,t){var n=this;n.element=e;n.$element=u(e);n.options=u.extend(true,{},s.DEFAULTS,n.$element.data()||{},t||{});n.ready(n.init)};function e(n){var i;var a="busy.admin.verify.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=u(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}s.prototype={ready:function(n){var a=this;if(r)typeof n==="function"&&n.call(a);else require([d.lib.validate],function(){if(!r){u.validator.messages=a.options.locale;u.validator.addMethod("phone",function(e,t){return this.optional(t)||/^(\+?86-?)?(18|15|13|14|17|16|19)[0-9]{9}$/.test(e)},a.options.locale.phone);u.validator.addMethod("tel",function(e,t){return this.optional(t)||/^(010|02\d{1}|0[3-9]\d{2})-\d{7,9}(-\d+)?$/.test(e)},a.options.locale.tel);u.validator.addMethod("decimal",function(e,t){return this.optional(t)||/^\d+(\.\d+)?$/.test(e)},a.options.locale.decimal);u.validator.addMethod("zip",function(e,t){return this.optional(t)||/^\d{6}$/.test(e)},a.options.locale.zip);u.validator.addMethod("en",function(e,t){return this.optional(t)||/^[A-Za-z]+$/.test(e)},a.options.locale.en);u.validator.addMethod("enNumLine",function(e,t){return this.optional(t)||/^[A-Za-z0-9_]+$/.test(e)},a.options.locale.enNumLine);var e=d.helper.extends(u.validator.prototype,{init:function(){d.helper.override(e,"init",this,arguments);var r=this.currentForm;u(this.currentForm).on("change.validate","input,select,textarea",function(e){var t=typeof u(this).attr("contenteditable")!=="undefined"&&u(this).attr("contenteditable")!=="false";if(!this.form&&t){this.form=u(this).closest("form")[0];this.name=u(this).attr("name")}if(r!==this.form)return;var n=u.data(this.form,"validator"),i="on"+e.type.replace(/^validate/,""),a=n.settings;if(a[i]&&!u(this).is(a.ignore))a[i].call(n,this,e)})},idOrName:function(e){var t=u(e);var n="busy-verify-id";var i=t.data(n);if(!i){i="__busy_verify_element_"+s.INDEX++;t.data(n,i)}return i}});var i=d.helper.extends(u.validator.defaults,{highlight:function(e,t,n){if(false===o(false,e,t,n))return;d.helper.override(i,"highlight",this,arguments)},unhighlight:function(e,t,n){if(false===o(true,e,t,n))return;d.helper.override(i,"unhighlight",this,arguments)}});var t=d.helper.extends(u.validator.methods,{remote:function(r,o,e,s){if(this.optional(o))return"dependency-mismatch";s=typeof s==="string"&&s||"remote";var l=this.previousValue(o,s),t,n;if(!this.settings.messages[o.name])this.settings.messages[o.name]={};l.originalMessage=l.originalMessage||this.settings.messages[o.name][s];this.settings.messages[o.name][s]=l.message;e=typeof e==="string"&&{url:e}||e;n=u.param(u.extend({data:r},e.data));if(l.old===n)return l.valid;l.old=n;this.startRequest(o);t={};t[o.name]=r;var c=this;if(c._ajaxTask){c._ajaxTask.abort();c._ajaxTask=null}c._ajaxTask=d.request(e.url).addHeader("Busy-Admin-Plugin","VerifyRemote").params(t).pending(false).before(function(e,t){t.context=c.currentForm}).complete(function(e,t,n){c.settings.messages[o.name][s]=l.originalMessage}).success(function(e,t,n){var i=c.formSubmitted;c.resetInternals();c.toHide=c.errorsFor(o);c.formSubmitted=i;c.successList.push(o);c.invalid[o.name]=false;c.showErrors();l.valid=false;c.stopRequest(o,true);return false}).error(function(e,t,n){if(t===1)return false;var i={};var a=e.message||c.defaultMessage(o,{method:s,parameters:r});i[o.name]=l.message=a;c.invalid[o.name]=true;c.showErrors(i);l.valid=false;c.stopRequest(o,false);return false}).exec();return"pending"}})}r=true;typeof n==="function"&&n.call(a)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;u(document).one(d.e.appRenderBefore,function(){e.destroy()});var a={};e.$element.find(":input").each(function(){var e=u(this);var t=e.data();var n=e.attr("placeholder");var i=e.attr("name");if(!n||!i||t.msg)return true;a[i]={required:n}});e.$element.validate({messages:a,errorClass:"busy-form-verify-error text-danger",ignoreTitle:true,ignore:"",errorElement:"span",onkeyup:false,onchange:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e)))this.element(e)},errorPlacement:function(e,t){e.addClass("help-block");if(false===d.helper.execCallback(null,t[0],[e],t,d.e.verifyErrorPlacement,true,false))return;var n=t.data();var i=n.verifyMsgTarget;if(i){if(typeof i==="function")i(e);else u(i).append(e);return}if(t.is(":checkbox")||t.is(":radio")){var a=t.closest(".checkbox-inline,.checkbox,.radio-inline,.radio");if(a.length)a.parent().append(e)}else{var r=t.closest(".input-group");if(r.length)e.insertAfter(r);else e.insertAfter(t)}}})},valid:function(){if(!r)return false;return this.$element.valid()},rules:function(e,t){if(!r)return undefined;return this.$element.rules(e,t)},destroy:function(){}},s.INDEX=0,s.DEFAULTS={locale:u.extend({required:"å¿éé¡¹",remote:"è¯·æ£æµè¯¥é¡¹",email:"è¯·è¾å¥ææé®ä»¶",url:"è¯·è¾å¥ææçç½å",date:"è¯·è¾å¥ææçæ¥æ",dateISO:"è¯·è¾å¥ææçæ¥æ(ISO)",number:"è¯·è¾å¥æ°å­",digits:"è¯·è¾å¥æ´æ°",equalTo:"è¯·åæ¬¡è¾å¥ç¸åçå¼",maxlength:"æå¤åè®¸è¾å¥{0}ä¸ªå­ç¬¦",minlength:"è³å°éè¦è¾å¥{0}ä¸ªå­ç¬¦",rangelength:"è¾å¥çå­ç¬¦é¿åº¦å¿é¡»å¨{0}~{1}ä¸ªå­ç¬¦å",range:"è¾å¥çæ°å­å¿é¡»å¨{0}~{1}ä¹é´",max:"ä¸è½è¶è¿{0}",min:"ä¸è½å°äº{0}",step:"è¾å¥çæ°å¼å¿é¡»æ¯{0}çåæ°",phone:"è¯·è¾å¥ææçææºå·",decimal:"è¯·è¾å¥ææçæ°å¼(å¯åæ¶µå°æ°)",zip:"è¯·è¾å¥ææçé®ç¼",en:"åªè½åæ¶µè±æå­æ¯",enNumLine:"åªè½åæ¶µè±æãæ°å­ãä¸åçº¿",tel:"è¯·è¾å¥ææççµè¯å·ç "},((d.locale||{}).plugin||{}).formVerify||{})};var t="form-verify";return u.fn.busyAdminVerify=e,u.fn.busyAdminVerify.Constructor=s,d.plugins.Verify=s,u.extend(d.e,{verifyErrorPlacement:d.ee("verify-error-placement","form-verify")}),d.autoInit('[data-toggle="busy-verify"],[busy-verify]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/form",[e.sys.core,e.sys.jquery],function(r,o){"use strict";var s=function(e){return Array.prototype.slice.call(e)},l="busy.admin.form.api",c=function(e,t){var n=this;n.element=e;n.$element=o(e);n.options=o.extend(true,{},c.DEFAULTS,n.$element.data()||{},t||{});var i=n.$element.attr("action");var a=n.$element.attr("method");if(!n.options.action&&i)n.options.action=i;if(!n.options.method&&a)n.options.method=a;if(!n.options.action)n.options.action=document.URL;if(!n.options.method)n.options.method=c.DEFAULTS.method;n.init()};function e(n){var i;var a=s(arguments);a.shift();this.each(function(){var e=o(this);var t=e.data(l);if(!t)e.data(l,t=new c(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,a)});if(typeof n==="string")return i;return this}c.prototype={init:function(){var e=this;var t=e.options;if(e.isInit)return;e.isInit=true;if(t.submitHandler)e.$element.on("submit.busyAdmin",function(){e.submit();return false});if(t.verify)e.$element.busyAdminVerify(r.helper.parseData(e.options,"verify"))},submit:function(){var e=this;if(e.options.verify&&!e.$element.busyAdminVerify("valid"))return;if(false===r.helper.execCallback(e.options.onCheck,e.element,[],e.$element,r.e.formCheck,true,false))return;var t=e.options.confirm;if(t)r.dialog.confirm(t,function(){e.request()});else e.request()},request:function(){var i=this;var a=i.options;return r.request(a.action).pending(a.pending,a.pendingMessage).method(a.method).params(i.$element).before(function(e,t){return false!==r.helper.execCallback(a.onBefore,i.element,s(arguments),i.$element,r.e.formBefore,true,false)}).complete(function(e,t,n){return false!==r.helper.execCallback(a.onComplete,i.element,s(arguments),i.$element,r.e.formComplete,true,false)}).success(function(e,t,n){if(false===r.helper.execCallback(a.onSuccess,i.element,s(arguments),i.$element,r.e.formSuccess,true,false))return false;if(a.onSuccess===false)return false;r.dialog.toastSuccess(e.message);r.dispatchSugar(i.element,a.onSuccess,e,[]);return false}).error(function(e,t,n){if(false===r.helper.execCallback(a.onError,i.element,s(arguments),i.$element,r.e.formError,true,false))return false;if(a.onError===false)return false;r.dialog.toastError(e.message);r.dispatchSugar(i.element,a.onError,e,[]);return false}).exec()},reset:function(){this.element.reset();this.$element.trigger("reset")},destroy:function(){this.$element.off("submit.busyAdmin");if(this.options.verify)this.$element.busyAdminVerify("destroy")}},c.DEFAULTS={confirm:"",pending:true,pendingMessage:"",method:"post",action:"",verify:true,submitHandler:true,onCheck:o.noop,onBefore:o.noop,onSuccess:o.noop,onError:o.noop,onComplete:o.noop},o.fn.busyAdminForm=e,o.fn.busyAdminForm.Constructor=c,r.plugins.Form=c,r.regSugar("form",function(e,t,n,i){var a=o(e).data(l);if(a instanceof c){a[t].apply(a,i);return}a=o(e).data(r.plugins.Modal.KEY);if(a instanceof r.plugins.Modal){a=a.$form.data(l);if(a instanceof c)a[t].apply(a,i)}});var t="form";return o.extend(r.e,{formCheck:r.ee("check",t),formBefore:r.ee("before",t),formComplete:r.ee("complete",t),formSuccess:r.ee("success",t),formError:r.ee("error",t)}),r.autoInit('[data-toggle="busy-form"],[busy-form]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/high",[e.sys.core,e.sys.jquery],function(s,r){"use strict";var l=null,c=function(e,t){this.$element=r(e);this.$wrap=null;this.options=r.extend(true,{},c.DEFAULTS,this.$element.data()||{},t||{});this.ready(this.init)};function e(n){var i="busy.admin.highlight.api";var a=Array.prototype.slice.call(arguments);a.shift();return this.each(function(){var e=r(this);var t=e.data(i);if(!t)e.data(i,t=new c(this,typeof n==="object"&&n));if(typeof n==="string")if(n==="ready")t.ready.apply(t,a);else t.ready(function(){this[n].apply(this,a)})})}return c.prototype={ready:function(t){var n=this;l?"function"==typeof t&&t.call(n):require([s.lib.highlight],function(e){l=e,"function"==typeof t&&t.call(n)})},init:function(){this.$wrap=r(c.parse(this.$element.html(),this.options.type,"",this.options.locale.copy)),this.$element.hide().after(this.$wrap),s.helper.triggerPluginReady(this.$element,"High",this)},reload:function(){this.$wrap&&this.$wrap.remove(),this.init()}},c.DEFAULTS={type:"auto",locale:r.extend({copy:"å¤å¶"},((s.locale||{}).plugin||{}).highCode||{})},c.highlight=null,c.parse=function(e,t,n,i){var a;null===l&&(l=c.highlight);var r="",o=s.helper.uuid();return e=(e||"").trim(),"string"==typeof t&&t&&"auto"!==t?(a=l.highlight(t,e).value,r=t):(t="code",a=l.highlightAuto(e).value),'<div class="busy-admin-high-code '+(n||"")+'"><div class="busy-admin-high-code-title"><a href="javascript:void(0)" class="pull-right" data-toggle="busy-copy" data-target="#'+o+'" data-on-decode="html">'+(i||"å¤å¶")+"</a>"+t+'</div><pre><code class="hljs '+r+'">'+(a="<ol><li>"+a.replace(/\n/g,"</li><li>")+"</li></ol>")+'</code></pre><script type="text/plain" id="'+o+'">'+s.helper.htmlEncode(e)+"<\/script></div>"},r.fn.busyAdminHighCode=e,r.fn.busyAdminHighCode.Constructor=c,s.plugins.High=c,s.autoInit('[data-toggle="busy-high-code"],[busy-high-code]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/iconPicker",[e.sys.core,e.sys.jquery],function(c,d){"use strict";var u,o=function(e,t){var n=this;n.element=e;n.$element=d(e);n.options=d.extend(true,{},o.DEFAULTS,n.$element.data()||{},t||{});n.ready(n.init)};function t(n){var i;var a="busy.admin.iconPicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=d(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}o.prototype={ready:function(t){var n=this;if(u)typeof t==="function"&&t.call(n);else require(["bicon/busy-icon-data"],function(e){u=e;typeof t==="function"&&t.call(n)})},init:function(){var a=this;var r=a.options;if(a.isInit)return;a.isInit=true;if(r.clickHandler)a.$element.on("click.busyAdmin",function(e){e.preventDefault();a.show();return false});var e="";var n="";var t=0;for(var i in u){var o=u[i];var s=t===0?" active":"";var l="__busy_admin_icon_tab"+t;e+='<li class="'+s+'"><a href="#'+l+'" data-toggle="tab">'+o.name+' <span class="badge badge-primary">'+o.list.length+"</span></a></li>";n+='<div class="tab-pane'+s+'" id="'+l+'"><ul>';o.list.map(function(e){var t=i+" "+i+"-"+e;n+='<li><span class="keyword hide">'+e+'</span><a href="javascript:void(0);" icon="'+t+'"><i class="'+t+'"></i><span>'+e+"</span></a></li>"});n+="</ul></div>";t++}a.$content=d('<div><ul class="nav nav-lines nav-justified">'+e+'</ul><div class="form-horizontal"><input type="text" class="form-control" placeholder="'+r.locale.search+'"/></div><div class="tab-content">'+n+"</div></div>");a.$element.busyAdminModal({type:"page",content:a.$content,title:r.locale.title,className:"busy-admin-icon-picker",cancel:r.locale.clear,onCancel:function(){a._setValue("");a.$element.busyAdminModal("hide");c.helper.execCallback(a.options.onClear,a.element,[],a.$element,c.e.iconPickerClear)},padding:0,onShown:function(){a.$content.on("click","[icon]",function(){var e=d(this).attr("icon");a._setValue(e);a.$element.busyAdminModal("hide")});a.$content.on("input",".form-control",function(){var e=d(this);var t=e.val().trim();if(!t){a.$content.find(".keyword").parent().show();return}a.$content.find(".keyword:contains("+t+")").parent().show();a.$content.find(".keyword:not(:contains("+t+"))").parent().hide()});var t;if(a.$element.is(":input"))t=a.$element.val().trim();if(!t&&r.target)d(r.target).each(function(){var e=d(this);if(e.is(":input"))t=e.val().trim();else t=e.attr("class");if(t)return false});a.$content.find(".active[icon]").removeClass("active");var e=a.$content.find('[icon="'+t+'"]').addClass("active");var n=e.closest(".tab-pane").attr("id");if(n){var i=e.closest(".tab-content");a.$content.find('[href="#'+n+'"]').trigger("click");i.scrollTop(e.offset().top-i.offset().top+i.scrollTop())}}})},_setValue:function(t){var e=this;if(e.$element.is(":input"))e.$element.val(t).trigger("change");if(e.options.target)d(e.options.target).each(function(){var e=d(this);if(e.is(":input"))e.val(t).trigger("change");else e.removeAttr("class").addClass(t||"icon-placeholder")});c.helper.execCallback(e.options.onSelect,e.element,[t],e.$element,c.e.iconPickerSelect)},show:function(){var e=this;e.ready(function(){e.$element.busyAdminModal("show")})}},o.DEFAULTS={clickHandler:true,target:null,locale:d.extend({},{title:"å¾æ éæ©å¨",clear:"æ¸ç©º",search:"æç´¢å¾æ "},((c.locale||{}).plugin||{}).iconPicker||{})},d.fn.busyAdminIconPicker=t,d.fn.busyAdminIconPicker.Constructor=o,c.plugins.IconPicker=o;var e="icon-picker";return d.extend(c.e,{iconPickerSelect:c.ee("select",e),iconPickerClear:c.ee("clear",e)}),d(document).on("focus.busyAdmin",':input[data-toggle="busy-icon-picker"],:input[busy-icon-picker]',function(){var e=d(this);t.call(e,{clickHandler:!1}),t.call(e,"show")}),d(document).on("click.busyAdmin",'[data-toggle="busy-icon-picker"]:not(:input),[busy-icon-picker]:not(:input)',function(){var e=d(this);t.call(e,{clickHandler:!1}),t.call(e,"show")}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/imageViewer",[e.sys.core,e.sys.jquery],function(n,o){var s=function(e,t){var n=this;n.element=e;n.isSingle=false;n.$element=o(e);n.$img=null;n.options=o.extend(true,{},s.DEFAULTS,n.$element.data()||{},t||{});n.api=null;n.$body=o("body");n.ready(n.init)};function e(n){var i;var a="busy.admin.image-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={ready:function(e){var t=this;o.fn.viewer?e.call(t):require([n.lib.imageViewer],function(){e.call(t)})},init:function(){var e=this;e.isInit||(e.isInit=!0,o(document).on(n.e.appRenderBefore,function(){e.destroy()}),e.options.button=e.options.showClose,e.options.navbar=e.options.thumbs,e.options.url="data-src",e.options.zIndex=19900521,e.options.src?(e.$img=o('<img data-src="'+e.options.src+'" style="display: none;" alt="'+e.options.alt+'"/>'),e.$element.append(e.$img),e.isSingle=!0):e.isSingle="img"===e.element.tagName.toLowerCase(),e.isSingle?(e.options.navbar=!1,"boolean"==typeof e.options.control?e.options.toolbar=e.options.control:e.options.toolbar=!1):"boolean"==typeof e.options.control?e.options.toolbar=e.options.control:e.options.toolbar=!0,e.$element.viewer(e.options),e.api=e.$element.data("viewer"),e.options.src&&e.options.clickHandler&&e.$element.off("click").on("click",function(){e.show()}),n.helper.triggerPluginReady(e.$element,"ImageViewer",e))},show:function(e){this.api.view(e||0)},hide:function(){this.api.hide()},update:function(e){this.options=o.extend({},this.options,e||{}),this.options.src&&this.$img.attr("src",this.options.src).attr("alt",this.options.alt),this.api.update()},destroy:function(){this.isInit&&(this.isInit=!1,this.$img&&this.$img.remove(),this.api&&this.$element.viewer("destroy"),this.options.src&&this.options.clickHandler&&this.$element.off("click"))}},s.DEFAULTS={backdrop:!0,showClose:!1,fullscreen:!0,keyboard:!0,loading:!0,loop:!0,movable:!0,rotatable:!0,scalable:!0,title:!0,alt:"",control:void 0,transition:!0,zoomable:!0,thumbs:!0,src:"",clickHandler:!0},o.fn.busyAdminImageViewer=e,o.fn.busyAdminImageViewer.Constructor=s,n.plugins.ImageViewer=s,n.autoInit('[data-toggle="busy-image-viewer"],[busy-image-viewer]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/linkagePicker",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(o,u){var p=function(e){return"busy-linkage-picker"+e},a=function(e){return"busy-linkage-input"+e},s=function(e,t){var n=this;n.showing=false;n.uuid=n.getUID("linkage_picker");n.wrapId="__busy_"+n.uuid;n.selectData=[];n.selectIndex=[];n.pickerData=[];n.$value=u(e).hide().removeClass("form-control").wrap('<div class="'+a("")+'" id="'+n.wrapId+'"/>');n.placeholder=n.$value.attr("placeholder")||"è¯·éæ©";n.$wrap=u("#"+n.wrapId);n.$caret=u('<i class="fa fa-angle-down" />');n.$clear=u('<i class="bicon bicon-close-o" />');n.$loading=u('<i class="fa fa-spinner fa-spin" />');n.$input=u('<input type="text" readonly class="form-control"/>').attr("placeholder",n.placeholder);n.$wrap.append(n.$input);n.$wrap.append(n.$caret);n.$wrap.append(n.$clear);n.$wrap.append(n.$loading);n.init("linkagePicker",n.$wrap[0],t);n.values=[];n.$value.val().trim().split(n.options.idSpace).map(function(e){var t=e.trim();if(t!=="")n.values.push(t)});n.$content=n.tip().find(".popover-content");n.childField=n.options.childField||"child";n.idField=n.options.idField||"id";n.nameField=n.options.nameField||"name";n.parentField=n.options.parentField||"parent";n.parentRoot=n.options.parentRoot||"";n.initEvent();n.setList(n.options.list);if(n.values.length>0&&(n.options.model||n.options.url)){n.$wrap.addClass(a("-load"));n.$input.attr("placeholder",n.options.locale.loading);n.request(function(e){if(!e){n.$input.attr("placeholder",n.placeholder);n.$wrap.removeClass(a("-load"))}else n.initDefault()})}else n.initDefault();n.setDisabled(n.$value.prop("disabled"));o.helper.triggerPluginReady(n.$value,"LinkagePicker",n)};function e(n){var i;var a="busy.admin.linkagePicker.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=u(this);var t=e.data(a);if(!t)e.data(a,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}s.prototype=u.extend({},u.fn.popover.Constructor.prototype,{initEvent:function(){var r=this;if(!r.options.strict&&!r.options.multiple)r.$content.on("click","label",function(e){r.handleClick(u(this).closest("li"));r.selectComplete()});r.$content.on("click","li",function(e){if(e.target.tagName==="LABEL")return;if(r.handleClick(u(this)))r.selectComplete()});var e=o.app.$doc;var t=o.app.$win;e.on("click.busy-admin-linkage-picker",function(e){var t=u(e.target);if(t.closest(r.tip()).length||t.closest(r.$element).length||t.closest(r.$wrap).length)return;if(r.showing)r.hide()}).one(o.e.appRenderBefore,function(){e.off("click.busy-admin-linkage-picker");t.off("resize.busy-admin-linkage-picker");r.destroy()});t.on("resize.busy-admin-linkage-picker",function(){if(r.showing)r.autoPosition()});if(r.options.clear){r.$wrap.addClass(a("-has-clear"));r.$clear.on("click",function(e){e.preventDefault();r.selectData=[];r.selectIndex=[];r.setValue();r.$wrap.removeClass(a("-has-value"));if(r.showing)r.hide();o.helper.execCallback(r.options.onClear,r.$value[0],[r],r.$value,o.e.linkagePickerClear)})}r.$wrap.on("click",function(e){var t=u(this);if(u(e.target).closest(r.$clear).length||t.hasClass(a("-load"))||t.hasClass("disabled")||r.showing)return;if(t.hasClass("focus")){r.hide();return}r.show()}).on("shown.bs.linkagePicker",function(){r.selectIndex.map(function(e,t){var n=r.$content.find("."+p("-wrap-"+t));var i=n.find("li.active");if(i.length>0){var a=(n.outerHeight(true)-i.outerHeight(true))/2;n.scrollTop(i.offset().top-(n.offset().top+a)+n.scrollTop())}});o.helper.execCallback(r.options.onShown,r.$value[0],[r],r.$value,o.e.linkagePickerShown)}).on("show.bs.linkagePicker",function(){r.showing=true;r.$wrap.addClass("focus");o.helper.execCallback(r.options.onShow,r.$value[0],[r],r.$value,o.e.linkagePickerShow)}).on("hide.bs.linkagePicker",function(){r.$wrap.removeClass("focus");r.showing=false;o.helper.execCallback(r.options.onHide,r.$value[0],[r],r.$value,o.e.linkagePickerHide)}).on("hidden.bs.linkagePicker",function(){o.helper.execCallback(r.options.onHided,r.$value[0],[r],r.$value,o.e.linkagePickerHided)});r.$value.on(o.e.verifyErrorPlacement,function(e,t){r.$wrap.after(t);return false})},getDefaults:function(){return u.extend({},s.DEFAULTS,{trigger:"manual",template:'<div class="popover '+p("")+'" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',placement:"autobottom",viewport:"body"})},getOptions:function(e){var t=this;e=u.extend({},t.getDefaults(),t.$value.data(),e);if(!e.container){var n=t.$value.closest(".modal");if(n.length)e.container=n;else e.container="body"}if(e.delay&&typeof e.delay=="number")e.delay={show:e.delay,hide:e.delay};return e},getCalculatedOffset:function(e,t,n,i){if(e=="bottom")return{top:t.top+t.height,left:t.left};else return{top:t.top-i,left:t.left}},autoPosition:function(){var e=this;var t=e.tip();var n="bottom";var i=e.getPosition();var a=t[0].offsetWidth;var r=t[0].offsetHeight;var o=e.getPosition(e.$viewport);if(i.bottom+r>o.bottom)n="top";t.removeClass("top bottom").addClass(n);e.applyPlacement(e.getCalculatedOffset(n,i,a,r),n)},replaceArrow:function(e,t,n){this.arrow().css("left",this.$wrap.offset().left-this.tip().offset().left+45+"px")},hasContent:function(){return true},setContent:function(){var a=this;var e=a.options;var t=function(){var i=a.selectIndex.length;if(i>0){a.$content.html("");a.selectIndex.map(function(e,t){var n=a.createPicker(a.pickerData[t],t,e);a.$content.append(n);if(!a.options.strict&&!a.options.multiple&&t===i-1)n.find("li.active").find("input").prop("checked",true)})}else if(a.pickerData.length)a.$content.html(a.createPicker(a.pickerData[0],0,-1));else a.$content.html('<div style="width: '+(a.$wrap.width()-2)+'px" class="'+p("-empty")+'">'+e.emptyText+"</div>")};if((e.model||e.url)&&!e.list.length){var n=u('<div style="width: '+(a.$wrap.width()-2)+'px" class="'+p("-load")+'"><i class="fa fa-spinner fa-spin"></i> <span>'+e.locale.loading+"</span></div>");a.$content.html(n);a.request(function(e){if(!e)n.remove();else{a.initDefault();t()}});return}t()},request:function(i){var a=this;var e=a.options;o.request(typeof e.url==="function"?e.url():e.url).method(e.method).addHeader("Busy-Admin-Plugin","LinkagePicker").pending(false).params({model:e.model,extend:e.modelExtend}).complete(function(e,t,n){i(false)}).error(function(e,t,n){return false}).success(function(e,t,n){a.setList(e.result.data);i(true);return false}).exec()},setList:function(e){e=e||[];if(!e.length)return;var t=this;if(e.length>0&&(e[0]||{}).hasOwnProperty(t.childField))t.options.list=e;else t.options.list=o.helper.listToTree(e,t.idField,t.childField,t.parentField,t.parentRoot)},createPicker:function(e,r,o){var s=this;var l="";var c=s.options.strict;var d=s.options.multiple;e.map(function(e,t){var n=e[s.childField]||[];var i="";var a=s.uuid+"_"+r+"_"+t;if(!c||d)if(d)i='<div class="'+p("-checkbox")+'"><input type="checkbox" id="__checkbox_'+a+'"/><label class="bicon" for="__checkbox_'+a+'"></label></div>';else i='<div class="'+p("-radio")+'"><input type="radio" id="__radio_'+a+'" name="__radio_'+s.uuid+'"/><label class="bicon" for="__radio_'+a+'"></label></div>';else i='<div class="'+p("-check")+'"><i class="bicon bicon-check"></i></div>';l+='<li class="'+(o===t?"active":"")+'" data-index="'+t+'" data-picker-index="'+r+'">                    '+i+"                    <span>"+e[s.nameField]+'</span>                    <i class="angle-right fa fa-angle-right '+(n.length>0?"":"hide")+'"></i>                </li>'});return u('<div class="'+p("-wrap")+" "+p("-wrap-"+r)+'"><ul>'+l+"</ul></div>")},handleClick:function(e){var t=this;var n=e.data();var i=n.index;var a=n.pickerIndex;var r=(t.pickerData[a]||[])[i]||null;var o=r[t.childField]||[];var s=t.pickerData.length;for(var l=s;l>a;l--){t.$content.find(".busy-linkage-picker-wrap-"+l).remove();t.pickerData=t.pickerData.del(l);t.selectData=t.selectData.del(l-1);t.selectIndex=t.selectIndex.del(l-1)}e.siblings().removeClass("active");e.addClass("active");t.selectData.push(r);t.selectIndex.push(i);if(o.length>0){t.pickerData.push(o);t.$content.append(t.createPicker(o,a+1,-1));t.autoPosition();return false}else return true},selectComplete:function(){var e=this;e.hide();e.setValue();o.helper.execCallback(e.options.onChanged,e.$value[0],[e,e.selectData,e.selectIndex],e.$value,o.e.linkagePickerChanged)},setValue:function(){var t=this;var n=[];var i=[];t.selectData.map(function(e){n.push(e[t.nameField]);i.push(e[t.idField])});if(t.options.nameAllPath)t.$input.val(n.join(t.options.nameSpace));else t.$input.val(n[n.length-1]);t.$value.val(i.join(t.options.idSpace));t.$value.trigger("change");t.$value.trigger("input");if(i.length>0)t.$wrap.addClass(a("-has-value"))},initDefault:function(){var n=this;var e=0;var t=n.options.list||[];do{var i=n.values[e]||null;if(i===null)break;var a=null;var r=-1;u.each(t,function(e,t){if(t[n.idField]==i){a=t;r=e;return false}});if(!a||r==-1)break;n.selectData.push(a);n.pickerData.push(t);n.selectIndex.push(r);t=a[n.childField]||[];e++}while(true);t=n.options.list||[];if(!n.pickerData.length&&t.length>0)n.pickerData=[t];n.setValue()},setDisabled:function(e){this.$wrap.toggleClass("disabled",e)}}),s.DEFAULTS={list:[],idField:"id",nameField:"name",childField:"child",parentField:"parent",parentRoot:"",strict:true,multiple:false,clear:false,url:"",model:"",method:"get",idSpace:",",nameSpace:"/",nameAllPath:true,container:"",onChanged:u.noop,onClear:u.noop,onShow:u.noop,onShown:u.noop,onHide:u.noop,onHidden:u.noop,emptyText:"æ éé¡¹",locale:u.extend({},{loading:"è¯·ç¨å..."},((o.locale||{}).plugin||{}).linkagePicker||{})};var t="linkage-picker";return u.fn.busyAdminLinkagePicker=e,u.fn.busyAdminLinkagePicker.Constructor=s,o.plugins.LinkagePicker=s,u.extend(o.e,{linkagePickerShow:o.ee("show",t),linkagePickerShown:o.ee("shown",t),linkagePickerHide:o.ee("hide",t),linkagePickerHided:o.ee("hidden",t),linkagePickerChanged:o.ee("changed",t),linkagePickerClear:o.ee("clear",t)}),o.autoInit('[data-toggle="busy-linkage-picker"]',function(){e.call(u(this))}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/markdown",[e.sys.core,e.sys.jquery],function(r,o){"use strict";var s=null,l=null,c=function(e,t){this.$element=o(e);this.$wrap=null;this.options=o.extend(true,{},c.DEFAULTS,this.$element.data()||{},t||{});this.ready(this.init)};function e(n){var i;var a="busy.admin.markdown.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new c(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return c.prototype={ready:function(n){var a=this;s&&o.fn.busyAdminHighCode.Constructor.highlight?"function"==typeof n&&n.call(a):require([r.lib.marked,r.lib.highlight],function(e,t){(s=new(l=e).Renderer).paragraph=function(e){return'<p class="markdown-paragraph">'+e+"</p>"},s.blockquote=function(e){return'<blockquote class="markdown-blockquote">'+e+"</blockquote>"},s.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+' class="markdown-'+i+'" '+(t&&n?'start="'+n+'"':"")+">"+e+"</"+i+">"},s.table=function(e,t){t=o('<div class="table-responsive markdown-table-responsive"><table class="table table-hover table-striped table-bordered markdown-table"><thead> '+e+" </thead> <tbody> "+t+" </tbody></table></div>");return t.find("thead th").each(function(){var e=o(this).addClass("text-center"),t=e.text().trim();t.indexOf(":")&&(t=t.split(":"),e.attr("width",(t[1]||"").trim()),e.html((t[0]||"").trim()))}),t.find("tbody td").each(function(){var t,e=o(this).addClass("text-vtop"),n=e.html().trim();!n.indexOf(":")||"title"===((t=n.split(":"))[1]||"").trim()&&(n=e.closest("tr").addClass("info text-bold").find("td"),e.attr("colspan",n.length),n.each(function(e){0<e?o(this).remove():o(this).html((t[0]||"").trim())}))}),t[0].outerHTML},s.code=function(e,t){if(0!==t.indexOf("demo"))return'<div class="markdown-code">'+o.fn.busyAdminHighCode.Constructor.parse(e,t,"",a.options.locale.copy)+"</div>";var n=t.split(":")[1]||"å®ä¾",t=e.split("\n"),i={};t.map(function(e){-1!==(e=e.trim()).indexOf(":")&&(e=e.split(":"),i[e[0].trim()]=(e[1]||"").trim())});t=o(e.trim()),e=t.html().trim();return t.is("textarea")&&(e=r.helper.htmlDecode(e)),'<div class="busy-demo panel panel-default"><div class="busy-demo-title panel-heading"><h3 class="panel-title">'+n+'</h3></div><div class="panel-body busy-demo-content">'+e+'</div><div class="busy-demo-code">'+o.fn.busyAdminHighCode.Constructor.parse(e,"html","",a.options.locale.copy)+'</div><div class="panel-footer busy-demo-control"><a href="javascript:void(0)"><i class="fa fa-caret-down"></i> '+a.options.locale.showCode+"</a></div></div>"},s.heading=function(e,t){return"<h"+t+' class="markdown-heading" id="'+r.helper.base64Encode(e+":"+t).replace(/([=\/+])/g,"")+'">'+e+"</h"+t+">"},s.link=function(e,t,n){return'<a class="markdown-link" href="'+e+'" target="_blank" title="'+(t||n)+'">'+n+"</a>"},o.fn.busyAdminHighCode.Constructor.highlight=t,"function"==typeof n&&n.call(a)})},init:function(){var n=this,e=l(n.$element.html(),{renderer:s}),t=o('<div class="row" />'),i=o('<div class="col-sm-12 busy-admin-markdown-content" />'),a=o('<div class="col-sm-3 col-sm-push-9 busy-admin-markdown-catalog" />');n.options.catalog&&(i=o('<div class="col-sm-9 col-sm-pull-3 busy-admin-markdown-content"/>'),t.append(a)),t.append(i),i.html(e),n.$wrap=o('<div class="busy-admin-markdown" />').append(t),n.$element.hide().after(n.$wrap),i.find(".busy-demo-control a").on("click",function(){var e=o(this),t=e.parent(".busy-demo-control").prev();t.data("opened")?t.slideUp(function(){t.data("opened",!1),e.html('<i class="fa fa-caret-down"></i> '+n.options.locale.showCode+"</a>")}):t.slideDown(function(){t.data("opened",!0),e.html('<i class="fa fa-caret-up"></i> '+n.options.locale.hideCode+"</a>")})}),n.options.catalog&&n.catalog(i,a),r.helper.triggerPluginReady(n.$element,"Markdown",n)},catalog:function(e,t){var n=o(document.body).offset().top+o(document.body).outerHeight(!0),e=e.offset().top+e.outerHeight(!0);this.$wrap.busyAdminCatalog({container:t,filterSelector:".busy-demo",scroll:this.options.catalogScroll,sticky:!r.app.isMobileSize()&&this.options.catalogSticky,top:r.app.getContentFrame().top+this.options.catalogTop,bottom:n-e+this.options.catalogBottom})},reload:function(){null!==this.$wrap&&this.$wrap.remove(),this.init()}},c.DEFAULTS={catalog:!0,catalogScroll:!0,catalogSticky:!0,catalogTop:15,catalogBottom:15,locale:o.extend({showCode:"æ¾ç¤ºä»£ç ",hideCode:"éèä»£ç ",copy:"å¤å¶"},((r.locale||{}).plugin||{}).markdown||{})},o.fn.busyAdminMarkdown=e,o.fn.busyAdminMarkdown.Constructor=c,r.plugins.Markdown=c,r.autoInit('[data-toggle="busy-markdown"],script[type="text/x-markdown"],[busy-markdown]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/modal",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(o,s){"use strict";var l=o.helper.extends(s.fn.modal.Constructor.prototype,{adjustDialog:function(){o.helper.override(l,"adjustDialog",this,arguments);if(!this.$element.hasClass("busy-admin-modal"))return;if(!this.$win)this.$win=s(window);if(!this.$content)this.$content=this.$dialog.find(".modal-content");var e=this.$content.height();var t=this.$win.height();var n=this.$win.width();var i=n<=767;var a=i?10:30;if(e+a*2>=t)if(i)this.$dialog.css("margin",a+"px");else this.$dialog.css("margin",a+"px auto");else{var r=(t-e)/2-1;if(i)this.$dialog.css("margin",r+"px "+a+"px");else this.$dialog.css("margin",r+"px auto")}},show:function(){this.noFix=this.$body.hasClass("modal-open");o.helper.override(l,"show",this,arguments);var e=o.zIndex();this.$element.css("z-index",e);this.$backdrop&&this.$backdrop.addClass("busy-admin-modal-backdrop").css("z-index",e-1)},hideModal:function(){var e=this;if(!e.$element.hasClass("busy-admin-modal")){o.helper.override(l,"hideModal",e,arguments);return}e.$element.hide();e.backdrop(function(){if(!e.noFix){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar()}e.$element.trigger("hidden.bs.modal")})}}),i=function(e){if(!e)return"";if(-1===e.indexOf(" "))e="fa "+e;return'<i class="'+e+'"></i> '},r=function(e,t){var n=this;n.element=e;n.$element=s(e);var i=n.$element.data()||{};n.options=s.extend(true,{},r.DEFAULTS,i,t||{});n.sourceOptions=s.extend(true,{},r.DEFAULTS,i,t||{});n.$documentBody=s(document.body);n.api=null;if(!n.options.url){n.options.url=n.$element.attr("href");n.sourceOptions.url=n.options.url}n.init()};function t(n){var i;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=s(this);var t=e.data(r.KEY);if(!t)e.data(r.KEY,t=new r(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,a)});if(typeof n==="string")return i;return this}r.prototype={init:function(){var e=this;if(e.isInit)return;e.isInit=true;s(document).one(o.e.appRenderBefore,function(){e.destroy()});e._listenResize()},_listenResize:function(){var e=this;s(window).one("resize",function(){e.resetView();e._listenResize()})},_create:function(){var t=this;var e=t.options;t.$container=s(r.TEMPLATE).addClass(e.className);t.$dialog=t.$container.find(".modal-dialog");t.$dialogContent=t.$container.find(".modal-content");t.$dialogHeader=t.$container.find(".modal-header");t.$dialogTitle=t.$container.find(".modal-title");t.$dialogBody=t.$container.find(".modal-body");t.$dialogFooter=t.$container.find(".modal-footer");t.$dialogClose=t.$container.find(".close");t.$okBtn=s('<button class="btn"></button>');t.$cancelBtn=s('<button class="btn"></button>');if(e.size)t.$dialog.addClass("modal-"+e.size);if(e.padding!==undefined&&e.padding!==null){if(typeof e.padding==="number")e.padding=e.padding+"px";t.$dialogBody.css({padding:e.padding})}if(!e.borderTop)t.$dialogHeader.css("border-bottom-width",0);if(!e.borderBottom)t.$dialogFooter.css("border-top-width",0);if(e.height){if(typeof e.height==="number")e.height=e.height+"px";t.$dialogBody.css("height",e.height);t.$dialog.addClass("modal-fixed-height")}t.setTitle(e.title);if(e.footer===false)t.$dialogFooter.hide();else{t.leftButtons=[];t.rightButtons=[];var n=typeof e.buttons==="string"?o.helper.scope(e.buttons,[]):e.buttons;s.map(n||[],function(e){e=e||{};if(e.align==="left")t.leftButtons.push(e);else t.rightButtons.push(e)});s.map(t.leftButtons,function(e){t.$dialogFooter.append(t._createBtn(e))});if(e.cancel!==false){t.$cancelBtn.html(i(e.cancelIcon)+(e.cancel?e.cancel:e.locale.cancel));t.$cancelBtn.addClass(e.cancelSkin);t.$dialogFooter.append(t.$cancelBtn)}if(e.ok!==false){t.$okBtn.html(i(e.okIcon)+(e.ok?e.ok:e.locale.confirm));t.$okBtn.addClass(e.okSkin);t.$dialogFooter.append(t.$okBtn)}s.map(t.rightButtons,function(e){t.$dialogFooter.append(t._createBtn(e))});if(e.footerAlign)t.$dialogFooter.addClass("text-"+e.footerAlign);t.$dialogFooter.show()}return t.$container},setContent:function(e,t){this.$content=s("<div />").append(s(e));if(t)this.setTitle(t);this.$dialogBody.empty().append(this.$content)},setTitle:function(e){if(e===false)this.$dialogHeader.hide();else{this.$dialogHeader.show();this.$dialogTitle.html(e?e:this.options.locale.title)}},render:function(){var t=this;var n=t.options;if(n.content&&!n.url){var e;if(n.text)e="<div>"+n.content+"</div>";else{e=s(n.content);if(e.length)if(e[0].tagName.toLowerCase()==="script"||e[0].tagName.toLowerCase()==="template")e="<div>"+s(n.content).html()+"</div>"}t.setContent(s(e))}s.map(t.leftButtons||[],function(e){t._btnEvent(e)});s.map(t.rightButtons||[],function(e){t._btnEvent(e)});var i=false;switch(t.options.type){case"page":i=true;break;default:if(!t.$content||t.$content.length===0)i=true;else t.renderForm()}if(i){t.$okBtn.off("click").on("click",function(e){if(false===o.helper.execCallback(n.onOk,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalOk,{relatedTarget:this}),true,false))return;t.hide()});t.$cancelBtn.off("click").on("click",function(){if(false===o.helper.execCallback(n.onCancel,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalCancel,{relatedTarget:this}),true,false))return;t.hide()})}o.helper.execCallback(n.onReady,t.element,[t],[t.$element,o.app.$doc],o.e.modalReady);if(t.api.isShown)return;t.api.show()},submit:function(){var e=this;if(!e.$form||e.$form.length===0)return false;e.$form.submit();return true},reset:function(){var e=this;if(!e.$form||e.$form.length===0)return false;e.$form[0].reset();return true},renderForm:function(){var t=this;var n=t.options;var e=t.$content.find("form");if(e.length===0){t.$content.wrap("<form />");t.$content=t.$content.parent("form");e=t.$content}else{n.formAction=e.attr("action")||n.url;n.formMethod=e.attr("method")||n.formMethod}t.$form=e;if(e.find(":submit").length===0)e.append('<button type="submit" style="position: absolute; left: -9999px;">submit</button>');var i=o.helper.parseData(n,"form","verify");i.action=i.action||n.url;i.method=i.method||"post";var a=i.onSuccess;if(a&&typeof a==="string"&&0===a.indexOf("@"))i.onSuccess=function(e){o.dispatchSugar(t.element,a,e,[])};e.busyAdminForm(i);t.$okBtn.off("click").on("click",function(e){if(false===o.helper.execCallback(n.onOk,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalOk,{relatedTarget:this}),true,false))return;t.submit()});t.$cancelBtn.off("click").on("click",function(){if(false===o.helper.execCallback(n.onCancel,t.element,[t],[t.$element,o.app.$doc],s.Event(o.e.modalCancel,{relatedTarget:this}),true,false))return;t.hide()})},show:function(){var t=this;var n=t.options;t.result=null;t.$documentBody.append(t._create());t.$container.modal({show:false,backdrop:n.backdrop,keyboard:n.keyboard});t.$container.on("show.bs.modal shown.bs.modal hide.bs.modal hidden.bs.modal",function(e){if(e.namespace!=="bs.modal")return;o.helper.execCallback(n[o.helper.camel("on_"+e.type)],t.element,[t],[t.$element,o.app.$doc],o.ee(e.type,"modal"));if(e.type==="hidden")t.$container.remove();if(e.type==="hide"){if(t.$form)t.$form.busyAdminForm("destroy");t.options=s.extend(true,{},t.options,t.sourceOptions)}});t.api=t.$container.data("bs.modal");if(n.url)t.load();else t.render()},hide:function(){this.$container.modal("hide")},load:function(n){var i=this;o.request(i.options.url).method("get").addHeader("Busy-Admin-Plugin","Modal").parse("html").success(function(e){o.app.responseToHtml(e,function(e){var t=o.app.extractContainer(e);i.setContent(t.content,t.appTitle);i.render();if(n){o.helper.execCallback(i.options.show,i.element,[i],[i.$element,o.app.$doc],o.e.modalShow);o.helper.execCallback(i.options.shown,i.element,[i],[i.$element,o.app.$doc],o.e.modalShown)}});return false}).exec()},reload:function(e){var t=this;if(e)t.options.url=e;t.load(true)},resetView:function(){this.$container.modal("adjustDialog")},_createBtn:function(e){var t=this;e.$element=s('<button type="button" class="btn"/>').addClass(e.classes||"").html(e.text);return e.$element},_btnEvent:function(e){var t=this;if(typeof e.events==="function")e.$element.off("click.busy.modal").on("click.busy.modal",function(){e.events.call(this,t)});else{e.events=e.events||{};for(var n in e.events){var i=e.events[n];e.$element.off(n).on(n,function(){i.call(this,t)})}}},destroy:function(){s("body").removeClass("modal-open");this.$container.modal("removeBackdrop");this.$container.modal("resetAdjustments");this.$container.modal("resetScrollbar");this.$container.remove()}},r.TEMPLATE='<div class="modal fade busy-admin-modal">        <div class="modal-dialog">            <div class="modal-content">                <div class="modal-header">                    <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>                    <h4 class="modal-title"></h4>                </div>                <div class="modal-body"></div>                <div class="modal-footer clearfix"></div>            </div>        </div>    </div>',r.DEFAULTS={type:"",backdrop:true,keyboard:true,size:"",title:"",footer:true,footerAlign:null,content:"",text:false,url:"",className:"",padding:undefined,borderTop:true,borderBottom:true,height:null,buttons:[],ok:"",okSkin:"btn-primary",okIcon:"",cancel:"",cancelSkin:"btn-default",cancelIcon:"",onOk:s.noop,onCancel:s.noop,onReady:s.noop,onShow:s.noop,onShown:s.noop,onHide:s.noop,onHidden:s.noop,formMethod:"post",formAction:"",formOnSuccess:"@modal.close",locale:s.extend({},{confirm:"ç¡®å®",cancel:"åæ¶",title:"æä½",reset:"éç½®"},((o.locale||{}).plugin||{}).dialog||{})},r.KEY="busy.admin.modal.api";var e="modal";return s.fn.busyAdminModal=t,s.fn.busyAdminModal.Constructor=r,o.plugins.Modal=r,o.regSugar("modal",function(e,t,n,i){e=s(e).data(r.KEY);e instanceof r&&("close"===t&&(t="hide"),e[t].apply(e,i))}),s.extend(o.e,{modalReady:o.ee("ready",e),modalShow:o.ee("show",e),modalShown:o.ee("shown",e),modalHide:o.ee("hide",e),modalHided:o.ee("hidden",e),modalOk:o.ee("ok",e),modalCancel:o.ee("cancel",e)}),s(document).on("click",'[data-toggle="busy-modal"],[busy-modal]',function(e){return e.preventDefault(),t.call(s(this),"show"),!1}),r})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/random",[e.sys.core,e.sys.jquery],function(n,r){"use strict";var o=function(e,t){var n=this;n.element=e;n.$element=r(e);n.options=r.extend(true,{},o.DEFAULTS,n.$element.data()||{},t||{});n.init()};function t(n){var i;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=r(this);var t=e.data(o.KEY);if(!t)e.data(o.KEY,t=new o(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,a)});if(typeof n==="string")return i;return this}return o.prototype={init:function(){var e=this;e.isInit||(e.isInit=!0,e.options.clickHandler&&e.$element.on("click",function(){e.value()}))},value:function(){var e,t=this.options;t.target&&((e=r(t.target)).is(":input")?(e.val(n.helper.random(t.length,t.char)),e.trigger("input")):e.text(n.helper.random(t.length,t.char)),e.trigger("change"))}},o.DEFAULTS={target:null,length:32,char:null,clickHandler:!0},o.KEY="busy.admin.random.api",r.fn.busyAdminRandom=t,r.fn.busyAdminRandom.Constructor=o,n.plugins.Random=o,r(document).on("click",'[data-toggle="busy-random"],[busy-random]',function(e){return e.preventDefault(),t.call(r(this),{clickHandler:!1}),t.call(r(this),"value"),!1}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/request",[e.sys.core,e.sys.jquery],function(r,o){"use strict";function s(e){return Array.prototype.slice.call(e)}var l=function(e,t){var n=this;n.element=e;n.$element=o(e);n._parseOptions(t)};function t(n){var i;var a="busy.admin.request.api";var r=s(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r);else t.init(typeof n==="object"&&n)});if(typeof n==="string")return i;return this}l.prototype={init:function(e){var t=this;t._parseOptions(e);var n=function(){var e=t.options.confirm;if(e){if(typeof e==="function")e=e.call(t);r.dialog.confirm(e,{btn:[t.options.confirmOk||t.options.locale.confirm,t.options.confirmCancel||t.options.locale.cancel]},function(){t._exec()})}else t._exec()};if(t.options.clickHandler){if(t.isInit)return;t.isInit=true;t.$element.off("click.busyAdmin").on("click.busyAdmin",function(e){n.call(t);return false})}else n.call(t)},_parseOptions:function(e){var t=this;t.options=o.extend(true,{},l.DEFAULTS,t.options||{},t.$element.data()||{},e||{});if(!t.options.url||t.options.url===true){var n=t.$element.attr("href");if(n)t.options.url=n}if(t.options.url===true)t.options.url=document.URL;if(!t.options.method)t.options.method=l.DEFAULTS.method},_exec:function(){var i=this;var a=i.options;if(!r.helper.checkURL(i.options.url)){console.error("è¯·æ£æ¥è¯·æ±URLæ¯å¦åè§");return}if(typeof a.params==="function")a.params=a.params.call(i);r.request(a.url).headers(a.headers||{}).pending(a.pending,a.pendingMessage).params(a.params||{}).method(a.method).before(function(e,t){return false!==r.helper.execCallback(a.onBefore,i.element,s(arguments),i.$element,r.e.requestBefore,true,false)}).complete(function(e,t,n){return false!==r.helper.execCallback(a.onComplete,i.element,s(arguments),i.$element,r.e.requestComplete,true,false)}).success(function(e,t,n){if(false===r.helper.execCallback(a.onSuccess,i.element,s(arguments),i.$element,r.e.requestSuccess,true,false))return false;if(a.onSuccess===false)return false;r.dialog.toastSuccess(e.message);r.dispatchSugar(i.element,a.onSuccess,e,[]);return false}).error(function(e,t,n){if(false===r.helper.execCallback(a.onError,i.element,s(arguments),i.$element,r.e.requestError,true,false))return false;if(a.onError===false)return false;r.dialog.toastError(e.message);r.dispatchSugar(i.element,a.onError,e,[]);return false}).exec()}},l.DEFAULTS={clickHandler:false,url:undefined,params:{},headers:{},confirm:undefined,confirmOk:null,confirmCancel:null,method:"get",pending:true,pendingMessage:undefined,onSuccess:o.noop,onError:o.noop,onComplete:o.noop,onBefore:o.noop,locale:o.extend({},{confirm:"ç¡®å®",cancel:"åæ¶"},((r.locale||{}).plugin||{}).request||{})},o.fn.busyAdminRequest=t,o.fn.busyAdminRequest.Constructor=l,r.plugins.Request=l;var e="request";return o.extend(r.e,{requestBefore:r.ee("before",e),requestComplete:r.ee("complete",e),requestSuccess:r.ee("success",e),requestError:r.ee("error",e)}),o(document).on("click.busyAdmin",'[data-toggle="busy-request"],[busy-request]',function(e){return e.preventDefault(),t.call(o(this)),!1}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/searchBar",[e.sys.core,e.sys.jquery],function(o,s){"use strict";function l(e,t){return e.find('[data-search-id="'+t+'"]')}var c=function(e,t){var n=this;n.$element=s(e);n.options=s.extend(true,{},c.DEFAULTS,n.$element.data()||{},t||{});if(n.options.fields&&typeof n.options.fields==="string"){var i=n.options.fields.split(",");var a=[];i.map(function(e){var t=e.split(":");var n=(t[0]||"").trim();var i=(t[1]||"").trim();a.push({name:i,value:n})});n.options.fields=a}if(!n.options.contentLeft)n.contentLeftHtml=l(n.$element,"left").html();else n.contentLeftHtml=s(n.options.contentLeft).html();if(!n.options.contentRight)n.contentRightHtml=l(n.$element,"right").html();else n.contentRightHtml=s(n.options.contentRight).html();if(!n.options.toolbar)n.toolbarHtml=l(n.$element,"toolbar").html();else n.toolbarHtml=s(n.options.toolbar).html();n.options.url=n.options.url||document.URL;n.init()};function e(n){var i;var a="busy.admin.searchBar.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new c(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return c.prototype={init:function(){var e,n,i,t,a,r=this;r.isInit||(r.isInit=!0,e=r.options,t=(t=(t=(t=c.TEMPLATE.replace("_toolbar_",r.toolbarHtml||"")).replace("_content_left_",r.contentLeftHtml||"")).replace("_content_right_",r.contentRightHtml||"")).replace("_title_","<span>"+(r.options.title||r.options.locale.title)+"</span>"),r.$template=s(t),r.$form=l(r.$template,"form").attr("action",e.url),r.$fieldSelect=l(r.$template,"field"),r.$accurateInput=l(r.$template,"accurate").prop("checked",e.accurate).attr("title",e.locale.accurate).attr("name",e.accurateName).addClass(e.accurateClass),r.$wordInput=l(r.$template,"word").attr("name",r.options.wordName).attr("placeholder",r.options.placeholder||e.locale.placeholder),r.$keywords=l(r.$template,"keywords"),r.$btnShowAll=l(r.$template,"all").html(e.locale.showAll).addClass(e.showAllBtnClass).attr("href",e.url),r.$btnSubmit=l(r.$template,"submit").addClass(e.searchBtnClass),r.$btnSubmit.find("span").html(e.locale.search),r.$accurateWrap=r.$accurateInput.closest(".checkbox"),n=[r.options.accurateName,r.options.fieldName,r.options.wordName],r.$template.find("[name]").each(function(){var e=s(this),t=e.attr("name");return!t||(-1!==n.indexOf(t)||-1!==t.indexOf("static[")||void e.attr("name","static["+t+"]"))}),i="",(e.fields||[]).map(function(e){var t=e.name||"",e=e.value||"";i+='<option value="'+e+'">'+t+"</option>"}),i?(r.$keywords.addClass("has-field"),a="",e.fieldUnlimited&&(a+='<option value="_unlimited_">'+(!0===e.fieldUnlimited?e.locale.unlimited:e.fieldUnlimited)+"</option>"),a+=i,r.$fieldSelect.html(a)):(r.$fieldSelect.remove(),r.$keywords.addClass("no-field")),e.accurateShow||r.$accurateWrap.remove(),t=o.helper.parseURL(document.URL).params||{},r.$form.busyAdminFormVal(s.extend({},o.helper.parseURL(e.url).params||{},t)),(a=t.hasOwnProperty(e.searchMark))||r.$form.append('<input type="hidden" name="'+e.searchMark+'" value="1"/>'),a&&!t.hasOwnProperty(e.locale.accurateName)&&!0===e.accurate&&r.$accurateInput.prop("checked",!1),r.$element.html(r.$template),o.app.triggerResize(),o.helper.triggerPluginReady(r.$element,"SearchBar",r))}},c.TEMPLATE='<div class="busy-admin-search clearfix">        <div class="busy-admin-search-left fa fa-search">_title_</div>        <div class="busy-admin-search-right clearfix">_toolbar_</div>\t\t<div class="busy-admin-search-form">\t\t    <form data-search-id="form" method="get" class="form-inline">\t\t        _content_left_\t\t        <div class="form-group" data-search-id="keywords">\t\t            <div class="input-group">\t\t                <select data-search-id="field" class="form-control" name="field"></select>\t\t                <div class="input-group-addon"></div>\t\t                <input data-search-id="word" class="form-control" name="word" />\t\t            </div>\t\t        </div>\t\t        <div class="checkbox"><input class="pill" data-search-id="accurate" type="checkbox" data-toggle="busy-checkbox" value="1" /></div>\t\t        _content_right_\t\t        <div class="form-group">\t\t            <button data-search-id="submit" class="btn" type="submit"><i class="fa fa-search"></i> <span></span></button>\t\t            <a type="reset" data-search-id="all" class="btn"></a>\t\t        </div>\t\t    </form>\t\t</div>    </div>',c.DEFAULTS={url:"",fields:[],fieldUnlimited:!1,fieldName:"field",wordName:"word",placeholder:"",title:"",accurate:!1,accurateShow:!1,accurateClass:"",accurateName:"accurate",toolbar:"",contentLeft:"",contentRight:"",searchMark:"_search",searchBtnClass:"btn-info",showAllBtnClass:"btn-default",locale:s.extend({search:"æç´¢",showAll:"æ¾ç¤ºå¨é¨",placeholder:"è¯·è¾å¥å³é®å­",accurate:"ç²¾ç¡®æç´¢",unlimited:"ä¸é",title:"ææ¡ä»¶æç´¢"},((o.locale||{}).plugin||{}).searchBar||{})},s.fn.busyAdminSearchBar=e,s.fn.busyAdminSearchBar.Constructor=c,o.plugins.SearchBar=c,o.autoInit('[data-toggle="busy-search-bar"],[busy-search-bar]',function(){e.call(this)}),c})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/selectPicker",[e.sys.core,e.sys.jquery],function(o,s){var a=false,l=function(e,t){var n=this;n.element=e;n.$element=s(e);n.options=s.extend(true,{},l.DEFAULTS,n.$element.data(),t||{});if(n.$element.attr("multiple"))n.options.multiple=true;n.ready(n.init)};function e(n){var i;var a="busy.admin.select.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=s(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return l.prototype={ready:function(n){var i=this;i.options.type,a?"function"==typeof n&&n.call(i):require([o.lib.select2],function(e){var t;a||(a=!0,t=o.helper.extends(e.prototype,{render:function(){var e=o.helper.override(t,"render",this,arguments);return e.addClass("busy-admin-select2"),e}})),s.fn.select2.defaults.set("theme","bootstrap"),"function"==typeof n&&n.call(i)})},init:function(){var e,t=this,n=t.options;t.isInit||(t.isInit=!0,n.width&&(e=n.width,"number"==typeof n.width&&(e=n.width+"px"),t.$element.css("width",e)),s(document).one(o.e.appRenderBefore,function(){t.destroy()}),n.type,t._initSelect2())},_initSelect2:function(){var e,r=this,t=r.options;r.url=(!0===t.url||t.model?document.URL:t.url)||document.URL,r.isAjax=t.url||t.model,r.select2Options={},s.extend(!0,r.select2Options,t.select2Options||{},{minimumResultsForSearch:t.search?0:-1,placeholder:t.placeholder,allowClear:t.clear,multiple:t.multiple,width:"style",containerCssClass:":all:",data:t.list,minimumInputLength:t.searchMin,maximumSelectionLength:t.max,tags:t.select2Tags,tokenSeparators:t.select2TagsSpace,language:{errorLoading:function(){return t.locale.errorLoading},inputTooLong:function(e){e=e.input.length-e.maximum;return o.helper.sprintf(t.locale.inputTooLong,e)},inputTooShort:function(e){e=e.minimum-e.input.length;return o.helper.sprintf(t.locale.inputTooShort,e)},loadingMore:function(){return t.locale.loadingMore},maximumSelected:function(e){return o.helper.sprintf(t.locale.maximumSelected,e.maximum)},noResults:function(){return t.locale.noResults},searching:function(){return t.locale.searching}},ajax:r.isAjax?{delay:0===t.length?0:t.delay,url:r.url,transport:function(e,i,a){if(0!==t.length||!r.remoteData)return o.request(e.url).method("get").addHeader("Busy-Admin-Plugin","SelectPicker").params(r._parseParams({action:"list",word:e.data.q,page:e.data.page,model:t.model,id_field:t.idField,text_field:t.textField,length:t.length,order:t.order,extend:t.modelExtend})).pending(!1).success(function(e,t,n){return r.remoteData=e.result,i(e.result),!1}).error(function(e,t,n){return a(),!1}).exec();i(r.remoteData)}}:null}),r.$element.select2(r.select2Options),r.select2Api=r.$element.data("select2"),r.isAjax&&0===t.length&&(e=r.select2Api.dataAdapter.query,r.select2Api.dataAdapter.query=function(n,i){e.call(this,n,function(e){var t=[];return s.each(e.results,function(){var e=r.select2Api.options.options.matcher(n,this);e&&t.push(e)}),i({results:t,pagination:{more:!1}})})}),t.multiple&&r.$element.on("select2:opening select2:closing",function(e){s(this).parent().find(".select2-search__field").prop("disabled",!t.search)}),t.value&&r.value(t.value),r.$element.on("select2:closing select2:close select2:opening select2:open select2:selecting select2:select select2:unselecting select2:unselect select2:clearing select2:clear",function(e){var t=e.type.substring(8);"ing"===t.substring(t.length-3)&&(t="before-"+(t="clos"===(t=t.replace("ing",""))?"close":t));e=o.helper.camel(("on_"+t).replace(/\-/g,"_"));o.helper.execCallback(r.options[e],r.element,[r],r.$element,o.ee(t,"select-picker"))}),r.$element.on(o.e.verifyErrorPlacement,function(e,t){return r.select2Api.$container.after(t),!1}),o.helper.triggerPluginReady(r.$element,"SelectPicker",r)},_parseParams:function(e){var t=this.options;return"object"==typeof t.params?e=s.extend({},t.params,e):!t.params||"function"==typeof(t=o.helper.scope(t.params))&&(e=s.extend({},t()||{},e)),e},open:function(e){e?this.select2Api.open():this.select2Api.close()},value:function(i){var a=this,r=a.options;a.isAjax?(a.$element.empty(),i?o.request(a.url).method("get").addHeader("Busy-Admin-Plugin","SelectPicker").params(a._parseParams({action:"value",word:i,model:r.model,id_field:r.idField,text_field:r.textField,length:r.length,order:r.order,extend:r.modelExtend})).pending(!1).success(function(e,t,n){e=e.result.results||[];return 0===e.length||(r.multiple?s.map(e,function(e){a.$element.append(new Option(e.text||"",e.id||"",!0,!0))}):(a.$element.append(new Option(e[0].text||"",e[0].id||"",!0,!0)),a.$element.trigger({type:"select2:select",params:e[0]})),a.$element.val(i).trigger("change")),!1}).error(function(e,t,n){return a.$element.val(i).trigger("change"),!1}).exec():a.$element.val(i).trigger("change")):this.$element.val(i).trigger("change")},append:function(e){this.$element.append(e).trigger("change")},list:function(e){var t="",n=this;s.map(e||[],function(e){e.hasOwnProperty("children")?(t+='<optgroup label="'+e.text+'" '+n._toAttr(e)+">",s.map(e.children||[],function(e){t+='<option value="'+e.id+'"'+n._toAttr(e)+">"+e.text+"</option>"}),t+="</optgroup>"):t+='<option value="'+e.id+'"'+n._toAttr(e)+">"+e.text+"</option>"}),this.$element.html(t).trigger("change")},_toAttr:function(e){var t,n,i="";for(t in e)"text"!==t&&"id"!==t&&"children"!==t&&(n=e[t],"disabled"!==t&&"selected"!==t&&"readonly"!==t||(n=t),i+=t+'="'+n+'" ');return i},destroy:function(){this.remoteData=null,this.select2Api&&this.select2Api.destroy()}},l.DEFAULTS={type:"",placeholder:"",search:!0,searchMin:0,multiple:!1,clear:!1,list:null,max:0,value:null,width:null,url:!1,idField:"id",textField:"name",order:"id DESC",length:20,delay:250,params:null,model:"",modelExtend:!1,select2Tags:!1,select2TagsSpace:null,select2Options:{},locale:s.extend({errorLoading:"æ°æ®å è½½å¤±è´¥",inputTooLong:"è¯·å é¤%sä¸ªå­ç¬¦",inputTooShort:"è³å°è¾å¥%sä¸ªå­ç¬¦ææ´å¤å­ç¬¦",loadingMore:"å è½½ä¸­...",maximumSelected:"æå¤è½éæ©%sä¸ª",noResults:"æªæ¾å°ä»»ä½ç»æ",searching:"æç´¢ä¸­..."},((o.locale||{}).plugin||{}).select||{})},s.fn.busyAdminSelectPicker=e,s.fn.busyAdminSelectPicker.Constructor=l,o.plugins.SelectPicker=l,s.extend(o.e,{selectPickerChange:"change",selectPickerBeforeClose:o.ee("before-close","select-picker"),selectPickerClose:o.ee("close","select-picker"),selectPickerBeforeOpen:o.ee("before-open","select-picker"),selectPickerOpen:o.ee("open","select-picker"),selectPickerBeforeSelect:o.ee("before-select","select-picker"),selectPickerSelect:o.ee("select","select-picker"),selectPickerBeforeUnselect:o.ee("before-unselect","select-picker"),selectPickerUnselect:o.ee("unselect","select-picker"),selectPickerBeforeClear:o.ee("before-clear","select-picker"),selectPickerClear:o.ee("clear","select-picker")}),o.autoInit('[data-toggle="busy-select-picker"],[busy-select-picker]',function(){e.call(s(this))}),l})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/shuttle",[e.sys.core,e.sys.jquery],function(a,o){var r=function(n,e,t){this.api=n;this.$element=e;this.$header=e.find(".panel-heading");this.$title=this.$header.find("span");this.index=s.INDEX++;this.childClass="__busy_admin_shuttle_child_"+this.index;this.parentClass="__busy_admin_shuttle_parent_"+this.index;this.$checkAll=this.$header.find("input").attr("data-toggle","busy-checked-all").attr("data-child","."+this.childClass).addClass(this.parentClass);this.$searchBar=e.find(".panel-search");this.$searchInput=this.$searchBar.find("input");this.$body=e.find(".panel-body");this.$empty=this.$body.find(".empty-info").html(n.options.locale.noData);this.checkTimer=null;this.emptyTimer=null;this.list=[];this.isLeft=t;if(t){this.$title.html(n.options.leftTitle);this.$moveBtn=n.$btnRight;this.$moveBtn.find("span").html(n.options.locale.moveDown)}else{this.$title.html(n.options.rightTitle);this.$moveBtn=n.$btnLeft;this.$moveBtn.find("span").html(n.options.locale.moveUp)}this.$element.css("height",n.options.height+"px");var i=this;var a=i.$header.outerHeight(true);if(!n.options.search)i.$searchBar.hide();else a+=i.$searchBar.outerHeight(true);i.$body.css("height",n.options.height-a+"px").on("change",":checkbox",function(){clearTimeout(i.checkTimer);i.checkTimer=setTimeout(function(){if(i.$body.find(":checked").length>0)i.$moveBtn.removeClass("btn-default").addClass("btn-primary").prop("disabled",false);else i.$moveBtn.removeClass("btn-primary").addClass("btn-default").prop("disabled",true)})});i.$searchInput.attr("placeholder",n.options.placeholder).on("input",function(){var t=(o(this).val()||"").trim();if(t===""){o.map(i.list,function(e){e.$item.removeClass("hide")});i.$empty.html(n.options.locale.noData);i.empty();return}o.map(i.list,function(e){if(-1!==e.text.indexOf(t))e.$item.removeClass("hide");else e.$item.addClass("hide");i.$empty.html(n.options.locale.noMatchData);i.empty()})})};r.prototype={append:function(e){if(!e.$item){e.$item=o('<div class="checkbox'+(e.disabled?" disabled":"")+'"><label><input type="checkbox" value="'+e.id+'"'+(e.disabled?" disabled":"")+" /><span>"+e.text+"</span></label></div>");e.$checkbox=e.$item.find("input").attr("data-toggle","busy-checked-all")}e.$checkbox.off("change").on("change",function(){e.selected=o(this).prop("checked")});e.$checkbox.prop("checked",false).attr("data-parent","."+this.parentClass).attr("class",this.childClass);this.list.push(e);this.$body.append(e.$item);this.empty()},moveTo:function(n){var e=this;if(n==e)return;var i=[];e.list=o.map(e.list,function(e,t){if(e.selected&&!e.disabled){e.selected=false;e.$item.remove();n.append(e);i.push({id:e.id,text:e.text,disabled:e.disabled});return null}return e});a.helper.execCallback(e.api.options.onChange,e.api.element,[e.api,i,e.isLeft],e.api.$element,a.e.shuttleChange);e.$checkAll.prop("checked",false);e.$checkAll[0].indeterminate=false;e.$moveBtn.prop("disabled",true).removeClass("btn-primary").addClass("btn-default");e.empty()},empty:function(){var e=this;clearTimeout(e.emptyTimer);e.emptyTimer=setTimeout(function(){if(e.$body.find(".checkbox:not(.hide)").length>0)e.$empty.hide();else e.$empty.show()})}};var s=function(e,t){var n=this;n.element=e;n.$element=o(e);n.options=o.extend(true,{},s.DEFAULTS,n.$element.data(),t||{});n.options.list=n.options.list||[];n.init()};function e(n){var i="busy.admin.shuttle.api";var a=Array.prototype.slice.call(arguments);a.shift();var r;this.each(function(){var e=o(this);var t=e.data(i);if(!t)e.data(i,t=new s(this,typeof n==="object"&&n));if(typeof n==="string")r=t[n].apply(t,a)});if(typeof n==="string")return r;return this}return s.prototype={init:function(){var e,t,n=this,i=n.options;n.isInit||(n.isInit=!0,n.$template=o(s.TEMPLATE),n.isSelect="select"===n.element.tagName.toLowerCase(),n.isSelect?(n.$select=n.$element.addClass("hide"),n.$select.after(n.$template),i.name=n.$select.attr("name"),e=[],n.$select.find("option").each(function(){e.push({id:this.value||"",text:o(this).text()||"",selected:this.hasAttribute("selected"),disabled:this.hasAttribute("disabled")})}),i.list.unshift.apply(i.list,e)):(n.$select=o("<select />").addClass("hide"),n.$template.append(n.$select),n.$element.html(n.$template)),n.$select.attr("name",i.name).attr("multiple","multiple"),n.$btnLeft=n.$template.find(".btn-left"),n.$btnRight=n.$template.find(".btn-right"),n.leftPanel=new r(n,n.$template.find(".panel-left"),!0),n.rightPanel=new r(n,n.$template.find(".panel-right"),!1),n.$btnLeft.on("click",function(){n.$btnLeft.prop("disabled")||(n.rightPanel.moveTo(n.leftPanel),n._setVal())}),n.$btnRight.on("click",function(){n.$btnRight.prop("disabled")||(n.leftPanel.moveTo(n.rightPanel),n._setVal())}),t="",o.map(i.list||[],function(e){e.id=e.id||"",e.text=e.text||"",e.disabled=e.disabled||!1,e.selected=e.selected||!1,(e.selected?n.rightPanel:n.leftPanel).append(e),t+='<option value="'+e.id+'"'+(e.selected?" selected":"")+(e.disabled?" disabled":"")+">"+e.text+"</option>"}),n.$select.html(t),n.$element.on(a.e.verifyErrorPlacement,function(e,t){return n.$template.after(t),!1}),a.helper.triggerPluginReady(n.$element,"Shuttle",n))},_setVal:function(){var t=this;o.map(t.leftPanel.list,function(e){t.$select.find('[value="'+e.id+'"]').prop("selected",!1)}),o.map(t.rightPanel.list,function(e){t.$select.find('[value="'+e.id+'"]').prop("selected",!0)}),t.$select.trigger("change")},getData:function(){return o.map(this.rightPanel.list,function(e){return{id:e.id,text:e.text,disabled:e.disabled}})},destroy:function(){this.isInit=!1,this.$template.remove(),this.isSelect&&this.$select.removeClass("hide")}},s.INDEX=0,s.TEMPLATE='<div class="busy-admin-shuttle row">    <div class="col-sm-5">        <div class="panel panel-default panel-left">            <div class="panel-heading">                <div class="checkbox">                    <label>                        <input type="checkbox"/>                        <span></span>                    </label>                </div>            </div>            <div class="panel-search"><div class="input-group input-group-sm"><div class="input-group-addon"><i class="fa fa-search"></i></div><input type="text" class="form-control"/></div></div>            <div class="panel-body"><div class="empty-info"></div></div>        </div>    </div>    <div class="col-sm-2">        <div class="toolbar">            <button type="button" disabled class="btn btn-default btn-block btn-right"><i class="fa fa-angle-double-right hidden-xs"></i><i class="fa fa-angle-double-down visible-xs-inline"></i> <span class="visible-xs-inline"></span></button>            <button type="button" disabled class="btn btn-default btn-block btn-left"><i class="fa fa-angle-double-left hidden-xs"></i><i class="fa fa-angle-double-up visible-xs-inline"></i> <span class="visible-xs-inline"></span></button>        </div>    </div>    <div class="col-sm-5">        <div class="panel panel-default panel-right">            <div class="panel-heading">                <div class="checkbox">                    <label>                        <input type="checkbox"/>                        <span></span>                    </label>                </div>            </div>            <div class="panel-search"><div class="input-group input-group-sm"><div class="input-group-addon"><i class="fa fa-search"></i></div><input type="text" class="form-control"/></div></div>            <div class="panel-body"><div class="empty-info"></div></div>        </div>    </div></div>',s.DEFAULTS={leftTitle:"åè¡¨1",rightTitle:"åè¡¨2",placeholder:"å³é®è¯æç´¢",search:!1,height:320,locale:o.extend({noData:"æ æ°æ®",noMatchData:"æ å¹éæ°æ®",moveUp:"ä¸ç§»",moveDown:"ä¸ç§»"},((a.locale||{}).plugin||{}).table||{})},s.Panel=r,o.fn.busyAdminShuttle=e,o.fn.busyAdminShuttle.Constructor=s,a.plugins.Shuttle=s,o.extend(a.e,{shuttleChange:a.ee("change","shuttle")}),a.autoInit('[data-toggle="busy-shuttle"],[busy-shuttle]',function(){e.call(this)}),s})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/table",[e.sys.core,e.sys.jquery,e.lib.bootstrap],function(d,u){var p,o,e=false,i="table",r="busy.admin.table.api";function n(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor)n=e.constructor.name;if(n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e){if(Array.isArray(e))return e}function l(e,t){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var n=[];var i=true;var a=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(i=(s=o.next()).done);i=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){a=true;r=e}finally{try{if(!i&&o["return"]!=null)o["return"]()}finally{if(a)throw r}}return n}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){return s(e)||l(e,t)||n(e,t)||c()}function y(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")y=function(e){return typeof e};else y=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return y(e)}function h(e){var t="";if(e.stateKey)t=e.stateKey;else if(e.state)t=e.state===true?document.URL:e.state;return t}function f(e,t){if(t===true)if(d.app.isInContent(e))return d.app.isMobileSize()?0:d.app.getContentFrame().height;else return 0;else if(typeof t==="string"&&t)return u(t).height();else if(t instanceof u)return t.height()}function m(e){var t=e.$selectItem.filter(":enabled").length;var n=e.$selectItem.filter(":enabled").filter(":checked").length;var i=t===n;var a=e.$container.find('[name="btSelectAll"]');if(i)a.each(function(){this.indeterminate=false;u(this).prop("checked",true)});else if(n)a.each(function(){this.indeterminate=true});else a.each(function(){this.indeterminate=false;u(this).prop("checked",false)})}function t(e){u.fn.dropdown.Constructor.VERSION="3.3.7",0;var O=u.fn.bootstrapTable.utils,c=d.helper.extends(O,{calculateObjectValue:function(e,t,n,i){if(t&&"string"==typeof t&&"@"===t.charAt(0)){var a=n[3],r=n[2],o=n[1],s=t.substring(1,t.length),l=!1;return"vue"===s.substr(0,3).toLowerCase()&&(s=s.substring(3,t.length),l=!0),s=s||"#"+a,e.__template=e.__template||u(s)[0].innerHTML,(e.__vueParse=l)?"":p.render(e.__template,{column:e,row:r,item:o,value:n[0]})}return d.helper.override(c,"calculateObjectValue",this,arguments)}});u.extend(u.BootstrapTable.EVENTS,{"before-refresh.bs.table":"onBeforeRefresh","data-init.bs.table":"onDataInit"});var a=d.helper.extends(u.BootstrapTable.prototype,{initConstants:function(){var n=this;d.helper.override(a,"initConstants",n,arguments),n.$el.find("thead tr > *").each(function(){var e=u(this),t=e.attr("width");t&&e.attr("data-width",t),n.options.url&&void 0===e.attr("data-searchable")&&e.attr("data-searchable","false")})},initContainer:function(){var e=this;d.helper.override(a,"initContainer",e,arguments),e.$container.addClass("busy-admin-bs-table");var t=e.$el.find("thead").attr("class")||"";t&&e.$container.addClass(t),e.$el.hasClass("table-dark")&&e.$container.addClass("table-theme-dark"),e.$container.on("animationend webkitAnimationEnd oAnimationEnd",function(){e.resetView()})},initTable:function(){d.helper.override(a,"initTable",this,arguments),this.trigger("data-init",this)},initPagination:function(){var e;d.helper.override(a,"initPagination",this,arguments),"html"!==this.options.type||(e=d.app.getContentFrame().target.find(".busy-admin-pagination")).length&&(this.$pagination.html(e),this.$pagination.show())},initBody:function(){var r=this;d.helper.override(a,"initBody",r,arguments);var e,n,i,t=null;r.columns.map(function(i,a){i.__vueParse&&i.visible&&(t&&0!==t.length||(t=r.$body.find("tr:not(.no-records-found)")),t.each(function(){var e=u(this),t=r.data[e.data("index")],n=u("<template><div>"+i.__template+"</div></template>");e._tdList||(e._tdList=e.find("td")),e._tdList.eq(a).html(n);e=d.data[i.vue]||window[i.vue]||{};e.el=n[0],e.data=e.data||{},e.data.column=i,e.data.row=a,e.data.item=t,e.data.value=t[i.field],t.__vueTarget__=new o(e)}))}),r.options.treeShowField&&r.options.parentIdField&&(e=r.columns,n=null,i=-1,e.some(function(e,t){if(e.visible&&i++,e.field===r.options.treeShowField&&e.visible)return n=e,!0}),n&&r.$el.treegrid({treeColumn:i,saveState:r.options.treeState,saveStateMethod:"local",saveStateName:h(r.options),expanderExpandedClass:"fa",expanderCollapsedClass:"fa",onChange:function(){r.resetView()}}))},resetView:function(e){var t=this;(e=e||{}).hasOwnProperty("height")||(e.height=f(t.$el,t.options._height));var n,i=0;e&&e.height&&(t.options.height=e.height),t.$selectAll.prop("checked",0<t.$selectItem.length&&t.$selectItem.length===t.$selectItem.filter(":checked").length),t.$tableContainer.toggleClass("has-card-view",this.options.cardView),!t.options.cardView&&t.options.showHeader&&t.options.height?(t.$tableHeader.show(),t.resetHeader(),i+=t.$header.outerHeight(!0)+1):(t.$tableHeader.hide(),t.trigger("post-header")),!t.options.cardView&&t.options.showFooter&&(t.$tableFooter.show(),t.fitFooter(),t.options.height&&(i+=t.$tableFooter.outerHeight(!0))),t.$tableBorder&&t.$tableBorder.hide(),t.$container.hasClass("fullscreen")&&(t.$tableContainer.css("height",""),t.$tableContainer.css("width","")),t.options.height&&(n=t.options.height,t.$container.hasClass("fullscreen")&&(n=t.$container.height()),e=n-(t.$toolbar.is(":visible")?t.$toolbar.outerHeight(!0):0)-(t.options.pagination?t.$pagination.outerHeight(!0):0),n=t.$tableBody.find(">table").outerHeight(),t.$tableContainer.css("height",e+"px").addClass("fixed-height"),n<t.$tableBody.outerHeight()-2?t.$tableContainer.addClass("less-content"):t.$tableContainer.removeClass("less-content")),t.options.cardView?(t.$el.css("margin-top","0"),t.$tableContainer.css("padding-bottom","0"),t.$tableFooter.hide()):(t.getCaret(),t.$tableContainer.css("padding-bottom","".concat(i,"px"))),m(this),t.options.stickyHeader&&(t.$container.hasClass("fullscreen")?(n=d.helper.int((t.$container.css("padding-left")||"").replace("px","")),i=d.helper.int((t.$container.css("padding-right")||"").replace("px",""))+d.helper.getScrollbarWidth(),t.options.stickyHeaderOffsetY=-1,t.options.stickyHeaderOffsetLeft=n,t.options.stickyHeaderOffsetRight=i):(t.options.stickyHeaderOffsetY=t.options.noFullStickyHeaderOffsetY,t.options.stickyHeaderOffsetLeft=t.options.noFullStickyHeaderOffsetLeft,t.options.stickyHeaderOffsetRight=t.options.noFullStickyHeaderOffsetRight)),t.trigger("reset-view")},toggleCheckAll:function(){d.helper.override(a,"toggleCheckAll",this,arguments),m(this)},_toggleCheck:function(){d.helper.override(a,"_toggleCheck",this,arguments),m(this)},initRow:function(A,E,e,t){var P=this,L=[],n={},I=[],i="",a={},r=[];if(!(-1<O.findIndex(this.hiddenRows,A))){if((n=O.calculateObjectValue(this.options,this.options.rowStyle,[A,E],n))&&n.css)for(var o=0,s=Object.entries(n.css);o<s.length;o++){var l=M(s[o],2),c=l[0],l=l[1];I.push("".concat(c,": ").concat(l))}if(a=O.calculateObjectValue(this.options,this.options.rowAttributes,[A,E],a))for(var d=0,u=Object.entries(a);d<u.length;d++){var p=M(u[d],2),h=p[0],p=p[1];r.push("".concat(h,'="').concat(O.escapeHTML(p),'"'))}if(A._data&&!O.isEmptyObject(A._data))for(var f=0,m=Object.entries(A._data);f<m.length;f++){var g=M(m[f],2),v=g[0],g=g[1];if("index"===v)return;i+=" data-".concat(v,"='").concat("object"===y(g)?JSON.stringify(g):g,"'")}L.push("<tr",O.sprintf(" %s",r.length?r.join(" "):void 0),O.sprintf(' id="%s"',Array.isArray(A)?void 0:A._id),O.sprintf(' class="%s"',n.classes||(Array.isArray(A)?void 0:A._class)),O.sprintf(' style="%s"',Array.isArray(A)?void 0:A._style),' data-index="'.concat(E,'"'),O.sprintf(' data-uniqueid="%s"',O.getItemField(A,this.options.uniqueId,!1)),O.sprintf(' data-has-detail-view="%s"',this.options.detailView&&O.calculateObjectValue(null,this.options.detailFilter,[E,A])?"true":void 0),O.sprintf("%s",i),">"),this.options.cardView&&L.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));n="";return O.hasDetailViewIcon(this.options)&&(n="<td>",O.calculateObjectValue(null,this.options.detailFilter,[E,A])&&(n+='\n          <a class="detail-icon" href="#">\n          '.concat(O.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),n+="</td>"),n&&"right"!==this.options.detailViewAlign&&L.push(n),this.header.fields.forEach(function(e,t){var n="",i=O.getItemField(A,e,P.options.escape),a="",r="",o={},s="",l=P.header.classes[t],c="",d="",u="",p="",h="",f="",m=P.columns[t];if((!P.fromHtml&&!P.autoMergeCells||void 0!==i||m.checkbox||m.radio)&&m.visible&&(!P.options.cardView||m.cardVisible)){if(m.escape&&(i=O.escapeHTML(i)),I.concat([P.header.styles[t]]).length&&(d+="".concat(I.concat([P.header.styles[t]]).join("; "))),A["_".concat(e,"_style")]&&(d+="".concat(A["_".concat(e,"_style")])),d&&(c=' style="'.concat(d,'"')),A["_".concat(e,"_id")]&&(s=O.sprintf(' id="%s"',A["_".concat(e,"_id")])),A["_".concat(e,"_class")]&&(l=O.sprintf(' class="%s"',A["_".concat(e,"_class")])),A["_".concat(e,"_rowspan")]&&(p=O.sprintf(' rowspan="%s"',A["_".concat(e,"_rowspan")])),A["_".concat(e,"_colspan")]&&(h=O.sprintf(' colspan="%s"',A["_".concat(e,"_colspan")])),A["_".concat(e,"_title")]&&(f=O.sprintf(' title="%s"',A["_".concat(e,"_title")])),(o=O.calculateObjectValue(P.header,P.header.cellStyles[t],[i,A,E,e],o)).classes&&(l=' class="'.concat(o.classes,'"')),o.css){for(var g=[],v=0,y=Object.entries(o.css);v<y.length;v++){var b=M(y[v],2),w=b[0],b=b[1];g.push("".concat(w,": ").concat(b))}c=' style="'.concat(g.concat(P.header.styles[t]).join("; "),'"')}var k,x,$,C,a=O.calculateObjectValue(m,P.header.formatters[t],[i,A,E,e],i);if(m.checkbox||m.radio||(a=null==a||""===a?P.options.undefinedText:a),m.searchable&&P.searchText&&P.options.searchHighlight&&(C="",k=new RegExp("(".concat(P.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),$="<mark>$1</mark>",C=a&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(a)?(d=(x=(new DOMParser).parseFromString(a.toString(),"text/html").documentElement.textContent).replace(k,$),a.replace(new RegExp("(>\\s*)(".concat(x,")(\\s*)"),"gm"),"$1".concat(d,"$3"))):a.toString().replace(k,$),a=O.calculateObjectValue(m,m.searchHighlightFormatter,[a,P.searchText],C)),A["_".concat(e,"_data")]&&!O.isEmptyObject(A["_".concat(e,"_data")]))for(var S=0,T=Object.entries(A["_".concat(e,"_data")]);S<T.length;S++){var D=M(T[S],2),_=D[0],D=D[1];if("index"===_)return;u+=" data-".concat(_,'="').concat(D,'"')}m.checkbox||m.radio?(r=m.checkbox?"checkbox":r,r=m.radio?"radio":r,$=m.class||"",C=O.isObject(a)&&a.hasOwnProperty("checked")?a.checked:(!0===a||i)&&!1!==a,m=!m.checkboxEnabled||a&&a.disabled,n=[P.options.cardView?'<div class="card-view '.concat($,'">'):'<td class="bs-checkbox '.concat($,'"').concat(l).concat(c,">"),'<label>\n            <input\n            data-index="'.concat(E,'"\n            name="').concat(P.options.selectItemName,'"\n            type="').concat(r,'"\n            ').concat(O.sprintf('value="%s"',A[P.options.idField]),"\n            ").concat(O.sprintf('checked="%s"',C?"checked":void 0),"\n            ").concat(O.sprintf('disabled="%s"',m?"disabled":void 0)," />\n            <span></span>\n            </label>"),P.header.formatters[t]&&"string"==typeof a?a:"",P.options.cardView?"</div>":"</td>"].join(""),A[P.header.stateField]=!0===a||!!i||a&&a.checked):P.options.cardView?(i=P.options.showHeader?'<span class="card-view-title '.concat(o.classes,'"').concat(c,">").concat(O.getFieldTitle(P.columns,e),"</span>"):"",n='<div class="card-view">'.concat(i,'<span class="card-view-value ').concat(o.classes,'"').concat(c,">").concat(a,"</span></div>"),P.options.smartDisplay&&""===a&&(n='<div class="card-view"></div>')):n='<td field="'+e+'" '.concat(s).concat(l).concat(c).concat(u).concat(p).concat(h).concat(f,">").concat(a,"</td>"),L.push(n)}}),n&&"right"===this.options.detailViewAlign&&L.push(n),this.options.cardView&&L.push("</div></td>"),L.push("</tr>"),L.join("")}},refresh:function(){this.trigger("before-refresh",this),d.helper.override(a,"refresh",this,arguments)}})}var g=function(e,t){var s=this;s.element=e;s.$element=u(e);s.plugins={};s.api=null;s.stateKey="busy.admin.table.state";s.options=u.extend(true,{},g.DEFAULTS,s.$element.data()||{},t||{},{iconsPrefix:"fa",paginationLoop:false,loadingTemplate:function(){return'<i class="busy-admin-pending-icon"></i>'}});if(typeof s.options.exportTypes==="string")s.options.exportTypes=s.options.exportTypes.split(",");s.libs=["bootstrapTableStickyHeader","bootstrapTableFixedColumns"];if(s.options.resizable)s.libs.push("bootstrapTableResizable");if(s.options.reorderableRows)s.libs.push("bootstrapTableReorderRows");if(s.options.reorderableColumns)s.libs.push("bootstrapTableReorderColumns");if(s.options.treeShowField&&s.options.parentIdField)s.libs.push("bootstrapTableTree");if(s.options.showPrint)s.libs.push("bootstrapTablePrint");if(s.options.showExport)s.libs.push("bootstrapTableExport");if(s.options.model)s.options.url=s.options.url||true;if(s.options.url){s.options.url=s.options.url===true?document.URL:s.options.url;s.options.sidePagination="server";s.options.ajax=function(i){var e=this;var t=i.url;var n=i.data||{};var a=n.searchable;delete n.searchable;if(s.options.route)if(!s._routeInit)s._routeInit=true;else if(!s._noRecordRoute||s._needReplaceRoute){s._noRecordRoute=false;s._needReplaceRoute=false;var r=d.helper.parseURL(t);r.params=u.extend(true,{},r.params||{},n);var o=r.path+"?"+u.param(r.params);d.route.show(o,{popStateDispatch:false},false,true)}d.request(t).addHeader("Busy-Admin-Plugin","Table").pending(false).params(u.extend(true,{},i.data,{model:s.options.model,extend:s.options.modelExtend?1:0,searchable:a||[]})).method(i.type).error(function(e,t,n){i.error(n)}).success(function(e,t,n){i.success(e.result||{},t,n);return false}).exec()}}if(s.options.search&&typeof s.options.search==="string"){s.searchSelector=s.options.search;s.options.search=false}s.options._height=s.options.height;s.options.height=f(s.$element,s.options._height);var i=s.options.queryParams;s.options.queryParams=function(e){var t=s._searchParams||{};for(var n in t)e[n]=t[n];if(typeof i==="function")e=i.call(this,e);return e};s.ready(s.init)};function v(n){var i;var a=Array.prototype.slice.call(arguments);a.shift();this.each(function(){var e=u(this);var t=e.data(r);if(!t)e.data(r,t=new g(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,a)});if(typeof n==="string")return i;return this}return g.prototype={init:function(){var a=this;if(!a.isInit){a.isInit=!0,u(document).one(d.e.appRenderBefore,function(){a.destroy()}).off(d.e.routeNoDispatch).on(d.e.routeNoDispatch,function(){var e=a.resumeByUrl();0<e&&a.api.refresh({pageNumber:e})}),a.$element.on("pre-body.bs.table",function(e){var t,n=e.sender;(a.api=n)._$toolbarSystem||(t=n.$toolbar.find(".bs-bars"),e=n.$toolbar.find(".columns"),i=n.$toolbar.find(".search"),0<t.length||0<e.length||0<i.length?n.$toolbar.show():n.$toolbar.hide(),n._$toolbarSystem=u('<div class="fixed-table-toolbar-system"/>').append(t).append(e).append(i),n._$toolbarSearchBar=u('<div class="fixed-table-toolbar-search"/>'),n.$toolbar.prepend(n._$toolbarSearchBar),n.$toolbar.append(n._$toolbarSystem));var i=0===n.getSelections().length;n.$toolbar.find("[data-disabled]").prop("disabled",i).toggleClass("disabled",i),a._initSearch(n)}).on("column-switch.bs.table",function(e,t,n){var i;a.options.state&&((i=a._getTableState()).columns=i.columns||{},i.columns[t]=n,a._saveTableState(i))}).on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(e){var t=e.sender,e=0===t.getSelections().length;t.$toolbar.find("[data-disabled]").prop("disabled",e).toggleClass("disabled",e)}).on("post-body.bs.table",function(e){var s=e.sender;if(a.api=s,a._needResumeScroll&&(a._needResumeScroll=!1,s.scrollTo(a._scrollTop)),!a.stateInit){if(a.stateInit=!0,a.options.state){var t,n=a._getTableState().columns||{};for(t in n)n[t]||s.hideColumn(t)}s.$body.on("input change","[data-bind]",function(){var e=u(this),t=e.data(),n=e.val(),i=e.closest("tr[data-index]");!i.length||(e="string"==typeof t.bind&&t.bind?t.bind:e.closest("td[field]").attr("field"))&&(i=i.data("index"),(s.data[i]||{})[e]=n)}),s.$toolbar.on("click","[data-url]",function(){var e,i,a,r,t=u(this),o=t.data()||{};o.toggle||(a="",-1!==(i=o.field||"id").indexOf(",")&&(i=(e=i.split(","))[1].trim(),a=e[0].trim()),r=o.name||i,t.busyAdminRequest({clickHandler:!1,params:function(){if(!1===o.params)return{};var t,n=o.params||{};return i&&(t=a?{}:[],(o.checked?s.getSelections():s.getData()).map(function(e){a?n[r+"["+e[a]+"]"]=e[i]:t.push(e[i])}),a||(n[r]=t)),n},confirm:function(){return o.confirm&&o.checked?d.helper.sprintf(o.confirm,s.getSelections().length):o.confirm}}))}),d.helper.triggerPluginReady(a.$element,"Table",a)}}).on("data-init.bs.table",function(e){a.api=e.sender;e=a.resumeByUrl();0<e&&(a.api.options.pageNumber=e)}).on("before-refresh.bs.table",function(e){a.api=e.sender,a._scrollTop=a.api.getScrollPosition(),a._needResumeScroll=!0,a._noRecordRoute=!0}),a.options.onAll=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),t.unshift(t.pop()),d.helper.execCallback(null,a.element,t,a.$element,d.ee(e.replace(".bs.table","",e),i))};var e,t=a.options.locale;for(e in a.options.noDataText&&(t.noMatches=a.options.noDataText),a.options.locale="",t){var n=t[e];"showingRowsHasFilter"!==e&&(a.options["format"+e.charAt(0).toUpperCase()+e.slice(1)]=new Function('var args = Array.prototype.slice.call(arguments);if (args[3] !== undefined && args[2] !== undefined && args[3] > 0 && args[3] > args[2]) {   args.unshift("'+n+t.showingRowsHasFilter+'"); } else {   args.unshift("'+n+'"); }return busyAdmin.helper.sprintf.apply(null, args);'))}a.$element.bootstrapTable(a.options),a.api=a.$element.data("bootstrap.table")}},_getTableState:function(){return JSON.parse(localStorage.getItem(this.stateKey)||"{}")[h(this.options)]||{}},_saveTableState:function(e){var t=JSON.parse(localStorage.getItem(this.stateKey)||"{}");t[h(this.options)]=e,localStorage.setItem(this.stateKey,JSON.stringify(t))},resumeByUrl:function(){var e=this;if(!e.api||!e.options.route)return 0;var t=d.helper.parseURL(document.URL).params||{},n=1,i=d.helper.int(t.limit||e.api.options.pageSize||0),a=d.helper.int(t.offset||0);0<i&&0<a&&(n=Math.ceil(a/i)+1,e.api.options.pageSize=i);a=u.trim(t.sort||""),i=u.trim(t.order||"");return a&&i&&(e.api.options.sortName=a,e.api.options.sortOrder=i),["limit","offset","sort","order"].map(function(e){delete t[e]}),e.api._$toolbarSearchForm&&0<e.api._$toolbarSearchForm.length&&(e.api._$toolbarSearchForm[0].reset(),e.api._$toolbarSearchForm.busyAdminFormVal(t)),e._searchParams=t,n},_initSearch:function(t){var e,n=this;n.searchSelector&&((e=u(n.searchSelector)).length?(t._$toolbarSearchBar.show().append(e),t._$toolbarSearchForm=t._$toolbarSearchBar.find("form"),n.options.url&&(t._$toolbarSearchForm.attr("action",n.options.url).off("submit").on("submit",function(e){return e.preventDefault(),n._searchParams=n._getSearchFormParams(),n._needReplaceRoute=!0,t.refresh({pageNumber:1}),!1}),t._$toolbarSearchForm.find('[type="reset"]').attr("href",n.options.url).off("click").on("click",function(e){return e.preventDefault(),t._$toolbarSearchForm[0].reset(),n._searchParams={},n._needReplaceRoute=!0,t.refresh({pageNumber:1}),!1}))):t._$toolbarSearchBar.hide())},_getSearchFormParams:function(){if(!this.api||!this.api._$toolbarSearchForm||0==this.api._$toolbarSearchForm.length)return{};var t={};return this.api._$toolbarSearchForm.serializeArray().map(function(e){-1===["offset","limit","sort","order","search","searchable","filter"].indexOf(e.name)&&(t[e.name]=e.value)}),t},_loadPlugin:function(e,n){function t(){var t=[];e.map(function(e){i.plugins[e]?i._initMethod(e):t.push(e)}),0===t.length?n.call(i):require(t,function(){t.map(function(e){i.plugins[e]=!0,i._initMethod(e)}),n.call(i)})}var i=this;i.options.fixedColumns||i.options.stickyHeader?require(["bootstrapTableStickyHeader"],function(){i._initMethod("bootstrapTableStickyHeader"),require(["bootstrapTableFixedColumns"],function(){i._initMethod("bootstrapTableFixedColumns"),t()})}):t()},_initMethod:function(e){e="_init"+(e.charAt(0).toUpperCase()+e.slice(1));"function"==typeof this[e]&&this[e]()},_initBootstrapTablePrint:function(){this.isInitPrint||(this.isInitPrint=!0,this.options.icons.print="fa-print",this.options.printPageBuilder=function(e){return'<html lang="zh-CN">    <head>        <title>æå°</title>        <style type="text/css" media="print">            @page {size: auto; margin: 25px 0 25px 0;}        </style>        <style type="text/css" media="all">            table { border-collapse: collapse; font-size: 12px; }            table, th, td { border: 1px solid grey; }            th, td { text-align: center; vertical-align: middle; }            p { font-weight: bold; margin-left:20px; }            table { width:94%; margin-left:3%; margin-right:3%; }            div.bs-table-print { text-align:center; }        </style>    </head>    <body><div class="bs-table-print">'+e+"</div></body></html>"})},_initBootstrapTableExport:function(){if(!this.isInitExport){this.isInitExport=!0;var e="fa-download";if(1===this.options.exportTypes.length)switch(this.options.exportTypes[0]){case"excel":case"csv":e="fa-file-excel-o";break;case"pdf":e="fa-file-pdf-o";break;case"png":e="fa-file-image-o";break;case"powerpoint":e="fa-file-powerpoint-o";break;case"txt":e="fa-file-txt-o";break;case"word":e="fa-file-word-o";break;case"xml":case"json":e="fa-file-code-o"}this.options.icons.export=e}},_initBootstrapTableStickyHeader:function(){var e,t,n;this.isInitStickyHeader||(this.isInitStickyHeader=!0,t=(e=d.app.getContentFrame()).left+e.paddingLeft,n=e.paddingRight,this.options.stickyHeaderOffsetY||(this.options.stickyHeaderOffsetY=e.top-1),this.options.stickyHeaderOffsetLeft||(this.options.stickyHeaderOffsetLeft=t),this.options.stickyHeaderOffsetRight||(this.options.stickyHeaderOffsetRight=n),this.options.noFullStickyHeaderOffsetY=this.options.stickyHeaderOffsetY,this.options.noFullStickyHeaderOffsetLeft=this.options.stickyHeaderOffsetLeft,this.options.noFullStickyHeaderOffsetRight=this.options.stickyHeaderOffsetRight)},_initBootstrapTableFixedColumns:function(){var i;e||(e=!0,i=d.helper.extends(u.BootstrapTable.prototype,{initContainer:function(){var e,t,n=this;d.helper.override(i,"initContainer",n,arguments),n.options.stickyHeader&&(e=d.e.modalShow,t=d.e.modalHided,u(document).off(e).on(e,function(){var e;n.needFixedColumns&&n.options.fixedRightNumber&&(e=n.options.stickyHeaderOffsetRight||0,e+=d.helper.getScrollbarWidth(),n.$fixedColumnsRight.find(".sticky-header-container").css("right",e+"px"),n.$stickyContainer.css("right",e+"px"))}).off(t).on(t,function(){var e;n.needFixedColumns&&n.options.fixedRightNumber&&(e=n.options.stickyHeaderOffsetRight||0,n.$fixedColumnsRight.find(".sticky-header-container").css("right",e+"px"),n.$stickyContainer.css("right",e+"px"))}))}}))},ready:function(i){var a=this;u.fn.bootstrapTable&&p&&o?a._loadPlugin(a.libs,i):require([d.lib.bootstrapTable,d.lib.artTemplate,d.lib.vue],function(e,t,n){p=t,o=n,function(){u.fn.dropdown.Constructor.VERSION="3.3.7";var O=u.fn.bootstrapTable.utils,c=d.helper.extends(O,{calculateObjectValue:function(e,t,n,i){if(t&&"string"==typeof t&&"@"===t.charAt(0)){var a=n[3],r=n[2],o=n[1],s=t.substring(1,t.length),l=!1;return"vue"===s.substr(0,3).toLowerCase()&&(s=s.substring(3,t.length),l=!0),s=s||"#"+a,e.__template=e.__template||u(s)[0].innerHTML,(e.__vueParse=l)?"":p.render(e.__template,{column:e,row:r,item:o,value:n[0]})}return d.helper.override(c,"calculateObjectValue",this,arguments)}});u.extend(u.BootstrapTable.EVENTS,{"before-refresh.bs.table":"onBeforeRefresh","data-init.bs.table":"onDataInit"});var a=d.helper.extends(u.BootstrapTable.prototype,{initConstants:function(){var n=this;d.helper.override(a,"initConstants",n,arguments),n.$el.find("thead tr > *").each(function(){var e=u(this),t=e.attr("width");t&&e.attr("data-width",t),n.options.url&&void 0===e.attr("data-searchable")&&e.attr("data-searchable","false")})},initContainer:function(){var e=this;d.helper.override(a,"initContainer",e,arguments),e.$container.addClass("busy-admin-bs-table");var t=e.$el.find("thead").attr("class")||"";t&&e.$container.addClass(t),e.$el.hasClass("table-dark")&&e.$container.addClass("table-theme-dark"),e.$container.on("animationend webkitAnimationEnd oAnimationEnd",function(){e.resetView()})},initTable:function(){d.helper.override(a,"initTable",this,arguments),this.trigger("data-init",this)},initPagination:function(){var e;d.helper.override(a,"initPagination",this,arguments),"html"!==this.options.type||(e=d.app.getContentFrame().target.find(".busy-admin-pagination")).length&&(this.$pagination.html(e),this.$pagination.show())},initBody:function(){var r=this;d.helper.override(a,"initBody",r,arguments);var e,n,i,t=null;r.columns.map(function(i,a){i.__vueParse&&i.visible&&(t&&0!==t.length||(t=r.$body.find("tr:not(.no-records-found)")),t.each(function(){var e=u(this),t=r.data[e.data("index")],n=u("<template><div>"+i.__template+"</div></template>");e._tdList||(e._tdList=e.find("td")),e._tdList.eq(a).html(n);e=d.data[i.vue]||window[i.vue]||{};e.el=n[0],e.data=e.data||{},e.data.column=i,e.data.row=a,e.data.item=t,e.data.value=t[i.field],t.__vueTarget__=new o(e)}))}),r.options.treeShowField&&r.options.parentIdField&&(e=r.columns,n=null,i=-1,e.some(function(e,t){if(e.visible&&i++,e.field===r.options.treeShowField&&e.visible)return n=e,!0}),n&&r.$el.treegrid({treeColumn:i,saveState:r.options.treeState,saveStateMethod:"local",saveStateName:h(r.options),expanderExpandedClass:"fa",expanderCollapsedClass:"fa",onChange:function(){r.resetView()}}))},resetView:function(e){var t=this;(e=e||{}).hasOwnProperty("height")||(e.height=f(t.$el,t.options._height));var n,i=0;e&&e.height&&(t.options.height=e.height),t.$selectAll.prop("checked",0<t.$selectItem.length&&t.$selectItem.length===t.$selectItem.filter(":checked").length),t.$tableContainer.toggleClass("has-card-view",this.options.cardView),!t.options.cardView&&t.options.showHeader&&t.options.height?(t.$tableHeader.show(),t.resetHeader(),i+=t.$header.outerHeight(!0)+1):(t.$tableHeader.hide(),t.trigger("post-header")),!t.options.cardView&&t.options.showFooter&&(t.$tableFooter.show(),t.fitFooter(),t.options.height&&(i+=t.$tableFooter.outerHeight(!0))),t.$tableBorder&&t.$tableBorder.hide(),t.$container.hasClass("fullscreen")&&(t.$tableContainer.css("height",""),t.$tableContainer.css("width","")),t.options.height&&(n=t.options.height,t.$container.hasClass("fullscreen")&&(n=t.$container.height()),e=n-(t.$toolbar.is(":visible")?t.$toolbar.outerHeight(!0):0)-(t.options.pagination?t.$pagination.outerHeight(!0):0),n=t.$tableBody.find(">table").outerHeight(),t.$tableContainer.css("height",e+"px").addClass("fixed-height"),n<t.$tableBody.outerHeight()-2?t.$tableContainer.addClass("less-content"):t.$tableContainer.removeClass("less-content")),t.options.cardView?(t.$el.css("margin-top","0"),t.$tableContainer.css("padding-bottom","0"),t.$tableFooter.hide()):(t.getCaret(),t.$tableContainer.css("padding-bottom","".concat(i,"px"))),m(this),t.options.stickyHeader&&(t.$container.hasClass("fullscreen")?(n=d.helper.int((t.$container.css("padding-left")||"").replace("px","")),i=d.helper.int((t.$container.css("padding-right")||"").replace("px",""))+d.helper.getScrollbarWidth(),t.options.stickyHeaderOffsetY=-1,t.options.stickyHeaderOffsetLeft=n,t.options.stickyHeaderOffsetRight=i):(t.options.stickyHeaderOffsetY=t.options.noFullStickyHeaderOffsetY,t.options.stickyHeaderOffsetLeft=t.options.noFullStickyHeaderOffsetLeft,t.options.stickyHeaderOffsetRight=t.options.noFullStickyHeaderOffsetRight)),t.trigger("reset-view")},toggleCheckAll:function(){d.helper.override(a,"toggleCheckAll",this,arguments),m(this)},_toggleCheck:function(){d.helper.override(a,"_toggleCheck",this,arguments),m(this)},initRow:function(A,E,e,t){var P=this,L=[],n={},I=[],i="",a={},r=[];if(!(-1<O.findIndex(this.hiddenRows,A))){if((n=O.calculateObjectValue(this.options,this.options.rowStyle,[A,E],n))&&n.css)for(var o=0,s=Object.entries(n.css);o<s.length;o++){var l=M(s[o],2),c=l[0],l=l[1];I.push("".concat(c,": ").concat(l))}if(a=O.calculateObjectValue(this.options,this.options.rowAttributes,[A,E],a))for(var d=0,u=Object.entries(a);d<u.length;d++){var p=M(u[d],2),h=p[0],p=p[1];r.push("".concat(h,'="').concat(O.escapeHTML(p),'"'))}if(A._data&&!O.isEmptyObject(A._data))for(var f=0,m=Object.entries(A._data);f<m.length;f++){var g=M(m[f],2),v=g[0],g=g[1];if("index"===v)return;i+=" data-".concat(v,"='").concat("object"===y(g)?JSON.stringify(g):g,"'")}L.push("<tr",O.sprintf(" %s",r.length?r.join(" "):void 0),O.sprintf(' id="%s"',Array.isArray(A)?void 0:A._id),O.sprintf(' class="%s"',n.classes||(Array.isArray(A)?void 0:A._class)),O.sprintf(' style="%s"',Array.isArray(A)?void 0:A._style),' data-index="'.concat(E,'"'),O.sprintf(' data-uniqueid="%s"',O.getItemField(A,this.options.uniqueId,!1)),O.sprintf(' data-has-detail-view="%s"',this.options.detailView&&O.calculateObjectValue(null,this.options.detailFilter,[E,A])?"true":void 0),O.sprintf("%s",i),">"),this.options.cardView&&L.push('<td colspan="'.concat(this.header.fields.length,'"><div class="card-views">'));n="";return O.hasDetailViewIcon(this.options)&&(n="<td>",O.calculateObjectValue(null,this.options.detailFilter,[E,A])&&(n+='\n          <a class="detail-icon" href="#">\n          '.concat(O.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen),"\n          </a>\n        ")),n+="</td>"),n&&"right"!==this.options.detailViewAlign&&L.push(n),this.header.fields.forEach(function(e,t){var n="",i=O.getItemField(A,e,P.options.escape),a="",r="",o={},s="",l=P.header.classes[t],c="",d="",u="",p="",h="",f="",m=P.columns[t];if((!P.fromHtml&&!P.autoMergeCells||void 0!==i||m.checkbox||m.radio)&&m.visible&&(!P.options.cardView||m.cardVisible)){if(m.escape&&(i=O.escapeHTML(i)),I.concat([P.header.styles[t]]).length&&(d+="".concat(I.concat([P.header.styles[t]]).join("; "))),A["_".concat(e,"_style")]&&(d+="".concat(A["_".concat(e,"_style")])),d&&(c=' style="'.concat(d,'"')),A["_".concat(e,"_id")]&&(s=O.sprintf(' id="%s"',A["_".concat(e,"_id")])),A["_".concat(e,"_class")]&&(l=O.sprintf(' class="%s"',A["_".concat(e,"_class")])),A["_".concat(e,"_rowspan")]&&(p=O.sprintf(' rowspan="%s"',A["_".concat(e,"_rowspan")])),A["_".concat(e,"_colspan")]&&(h=O.sprintf(' colspan="%s"',A["_".concat(e,"_colspan")])),A["_".concat(e,"_title")]&&(f=O.sprintf(' title="%s"',A["_".concat(e,"_title")])),(o=O.calculateObjectValue(P.header,P.header.cellStyles[t],[i,A,E,e],o)).classes&&(l=' class="'.concat(o.classes,'"')),o.css){for(var g=[],v=0,y=Object.entries(o.css);v<y.length;v++){var b=M(y[v],2),w=b[0],b=b[1];g.push("".concat(w,": ").concat(b))}c=' style="'.concat(g.concat(P.header.styles[t]).join("; "),'"')}var k,x,$,C,a=O.calculateObjectValue(m,P.header.formatters[t],[i,A,E,e],i);if(m.checkbox||m.radio||(a=null==a||""===a?P.options.undefinedText:a),m.searchable&&P.searchText&&P.options.searchHighlight&&(C="",k=new RegExp("(".concat(P.searchText.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gim"),$="<mark>$1</mark>",C=a&&/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(a)?(d=(x=(new DOMParser).parseFromString(a.toString(),"text/html").documentElement.textContent).replace(k,$),a.replace(new RegExp("(>\\s*)(".concat(x,")(\\s*)"),"gm"),"$1".concat(d,"$3"))):a.toString().replace(k,$),a=O.calculateObjectValue(m,m.searchHighlightFormatter,[a,P.searchText],C)),A["_".concat(e,"_data")]&&!O.isEmptyObject(A["_".concat(e,"_data")]))for(var S=0,T=Object.entries(A["_".concat(e,"_data")]);S<T.length;S++){var D=M(T[S],2),_=D[0],D=D[1];if("index"===_)return;u+=" data-".concat(_,'="').concat(D,'"')}m.checkbox||m.radio?(r=m.checkbox?"checkbox":r,r=m.radio?"radio":r,$=m.class||"",C=O.isObject(a)&&a.hasOwnProperty("checked")?a.checked:(!0===a||i)&&!1!==a,m=!m.checkboxEnabled||a&&a.disabled,n=[P.options.cardView?'<div class="card-view '.concat($,'">'):'<td class="bs-checkbox '.concat($,'"').concat(l).concat(c,">"),'<label>\n            <input\n            data-index="'.concat(E,'"\n            name="').concat(P.options.selectItemName,'"\n            type="').concat(r,'"\n            ').concat(O.sprintf('value="%s"',A[P.options.idField]),"\n            ").concat(O.sprintf('checked="%s"',C?"checked":void 0),"\n            ").concat(O.sprintf('disabled="%s"',m?"disabled":void 0)," />\n            <span></span>\n            </label>"),P.header.formatters[t]&&"string"==typeof a?a:"",P.options.cardView?"</div>":"</td>"].join(""),A[P.header.stateField]=!0===a||!!i||a&&a.checked):P.options.cardView?(i=P.options.showHeader?'<span class="card-view-title '.concat(o.classes,'"').concat(c,">").concat(O.getFieldTitle(P.columns,e),"</span>"):"",n='<div class="card-view">'.concat(i,'<span class="card-view-value ').concat(o.classes,'"').concat(c,">").concat(a,"</span></div>"),P.options.smartDisplay&&""===a&&(n='<div class="card-view"></div>')):n='<td field="'+e+'" '.concat(s).concat(l).concat(c).concat(u).concat(p).concat(h).concat(f,">").concat(a,"</td>"),L.push(n)}}),n&&"right"===this.options.detailViewAlign&&L.push(n),this.options.cardView&&L.push("</div></td>"),L.push("</tr>"),L.join("")}},refresh:function(){this.trigger("before-refresh",this),d.helper.override(a,"refresh",this,arguments)}})}(),u.fn.bootstrapTable.methods.map(function(e){return"destroy"===e||void(g.prototype[e]=function(){if(this.api)return this.api[e].apply(this.api,Array.prototype.slice.call(arguments))})}),a._loadPlugin(a.libs,i)})},destroy:function(){this.api&&this.api.destroy()}},g.DEFAULTS={search:!1,showSearchButton:!0,showSearchClearButton:!0,searchOnEnterKey:!0,showColumns:!1,type:"ajax",resizable:!1,reorderableRows:!1,reorderableColumns:!1,showPrint:!1,showExport:!1,exportTypes:["excel"],idField:"id",selectItemName:"id[]",parentIdField:"parent_id",noDataText:"",stateKey:null,state:!1,treeState:!1,pagination:!0,pageList:[10,20,30,40,50,100,200],pageSize:20,route:!1,model:"",modelExtend:!1,icons:{paginationSwitchDown:"fa-chevron-down",paginationSwitchUp:"fa-chevron-up",refresh:"fa-refresh",toggleOff:"fa-list-alt",toggleOn:"fa-list-alt",columns:"fa-th",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-repeat"},onBeforeRefresh:u.noop,onDataInit:u.noop,locale:u.extend({copyRows:"å¤å¶è¡",print:"æå°",loadingMessage:"è¯·ç¨å...",recordsPerPage:"æ¯é¡µ%sæ¡",showingRows:"%s-%s/%sæ¡",showingRowsHasFilter:", (ä»%sæ¡ä¸­è¿æ»¤)",sRPaginationPreText:"ä¸ä¸é¡µ",sRPaginationPageText:"ç¬¬%sé¡µ",sRPaginationNextText:"ä¸ä¸é¡µ",detailPagination:"å±%sæ¡",clearSearch:"éç½®",search:"æç´¢",noMatches:"ææ ç¸å³è®°å½",paginationSwitch:"éè/æ¾ç¤ºåé¡µ",paginationSwitchDown:"æ¾ç¤ºåé¡µ",paginationSwitchUp:"éèåé¡µ",refresh:"å·æ°",toggle:"åæ¢",toggleOn:"æ¾ç¤ºå¡çè§å¾",toggleOff:"éèå¡çè§å¾",columns:"å",columnsToggleAll:"åæ¢ææ",fullscreen:"å¨å±",allRows:"ææ",autoRefresh:"èªå¨å·æ°",export:"å¯¼åº",jumpTo:"è·³è½¬",advancedSearch:"é«çº§æç´¢",advancedCloseButton:"å³é­",filterControlSwitch:"éè/æ¾ç¤ºè¿æ»¤",filterControlSwitchHide:"éèè¿æ»¤",filterControlSwitchShow:"æ¾ç¤ºè¿æ»¤"},((d.locale||{}).plugin||{}).table||{})},u.fn.busyAdminTable=v,u.fn.busyAdminTable.Constructor=g,d.plugins.Table=g,u.extend(d.e,{tableCheck:d.ee("check",i),tableCheckAll:d.ee("check-all",i),tableCheckSome:d.ee("check-some",i),tableClickCell:d.ee("click-cell",i),tableClickRow:d.ee("click-row",i),tableCollapseRow:d.ee("collapse-row",i),tableColumnSwitch:d.ee("column-switch",i),tableDblClickCell:d.ee("dbl-click-cell",i),tableDblClickRow:d.ee("dbl-click-row",i),tableExpandRow:d.ee("expand-row",i),tableLoadError:d.ee("load-error",i),tableLoadSuccess:d.ee("load-success",i),tablePageChange:d.ee("page-change",i),tableDataInit:d.ee("data-init",i),tableBodyReady:d.ee("post-body",i),tableFooterReady:d.ee("post-footer",i),tableHeaderReady:d.ee("post-header",i),tablePreBody:d.ee("pre-body",i),tableRefresh:d.ee("refresh",i),tableRefreshOptions:d.ee("refresh-options",i),tableReset:d.ee("reset-view",i),tableSearch:d.ee("search-view",i),tableScroll:d.ee("scroll-body",i),tableSort:d.ee("sort-view",i),tableToggle:d.ee("toggle",i),tableUncheck:d.ee("uncheck",i),tableUncheckAll:d.ee("uncheck-all",i),tableUncheckSome:d.ee("uncheck-some",i),tableFooterBtnClick:d.ee("footer-btn-click",i)}),u.fn.takeBusyAdminTable=function(e){var t=this.closest(".busy-admin-bs-table").find("> .fixed-table-container > .fixed-table-body > table").data(r);if(!(t&&t instanceof g))return this;if("string"!=typeof e)return t;var n=Array.prototype.slice.call(arguments);return n.shift(),t[e].apply(t,n)},d.regSugar("table",function(e,t,n,i){var a;"reload"===t&&(t="refresh"),"refresh"!==t||(a=u(e).data(d.plugins.Modal.KEY))instanceof d.plugins.Modal&&a.hide(),u(e).takeBusyAdminTable(t)}),d.autoInit('[data-toggle="busy-table"],[busy-table]',function(){v.call(this)}),g})}(),function(i,a){function e(){this.app=a.app,this.url=a.getConfig("topBar").url,this.root=a.root(),this.messageTimer=null,this.messageLoading=!1,this.ready(this.init)}var r,n=!1,o={"Busy-Admin-Plugin":"AppMessage"};e.prototype={ready:function(t){var n=this;r?"function"==typeof t&&t.call(n):require([a.lib.vue],function(e){r=e,"function"==typeof t&&t.call(n)})},init:function(){var e=this,t=e.app.data||{};t.message_notice&&(e.$noticeLi=i('<li><a href="javascript:void(0)"><i class="bicon bicon-bell"></i><span class="badge badge-danger badge-pill hide">0</span></a></li>'),e.$noticeA=e.$noticeLi.find("a"),e.$noticeBadge=e.$noticeLi.find(".badge"),e.app.$barRefreshWrap.after(e.$noticeLi),e.initNotice()),t.message_agency&&(e.$agencyLi=i('<li><a href="javascript:void(0)"><i class="bicon bicon-wait-handle"></i><span class="badge badge-danger badge-pill hide">0</span></a></li>'),e.$agencyA=e.$agencyLi.find("a"),e.$agencyBadge=e.$agencyLi.find(".badge"),(t.message_notice?e.$noticeLi:e.app.$barRefreshWrap).after(e.$agencyLi),e.initAgency()),(t.message_notice||t.message_agency)&&(e.messageTimer=setTimeout(function(){e.getMessage()},1e3)),a.helper.triggerPluginReady(e.$element,"TopBar",e),n=!0},initNotice:function(){var n=this;n.$noticeA.on("click",function(){n.$noticeLi.addClass("active"),n.dialogPage=a.dialog.fullRight(e.NOTICE_TEMPLATE,"busy-admin-notice-panel",function(){new r({el:"#busyAdminNoticeVueApp",data:{list:[],body:null,page:1,timer:null,showLast:!1,load:!1},created:function(){this.loadList()},methods:{loadList:function(){var t=this;t.load||(t.load=!0,a.request(n.url+"?action=list&type=notice&page="+this.page).headers(o).pending(!1).complete(function(){t.load=!1}).success(function(e){e=e.result.list||[];return e.map(function(e){e.url=e.url||"javascript:void(0)",e.target=0===e.url.indexOf(n.root)?"":"_blank"}),0<e.length?(t.page++,t.list=t.list.concat(e),t.showLast=!1):0<t.list.length&&(t.showLast=!0),!1}).exec())},onScroll:function(){var e=this;null==this.body&&(this.body=i(this.$el).find(".busy-admin-right-panel-body")),this.body.scrollTop()+this.body[0].offsetHeight>=this.body[0].scrollHeight&&(clearTimeout(this.timer),this.timer=setTimeout(function(){e.loadList()},300))},onClear:function(){var e=this;a.request(n.url+"?action=clear&type=notice").headers(o).success(function(){e.list=[],n.getMessage()}).exec()},onAllRead:function(){var e=this;a.request(n.url+"?action=all_read&type=notice").headers(o).success(function(){e.list.map(function(e){e.is_read=!0}),n.getMessage()}).exec()},onItemClick:function(e){var t=this.list[e];t.is_read||(a.request(n.url+"?action=read&type=notice&id="+t.id).pending(!1).headers(o).success(function(){return n.getMessage(),!1}).exec(),this.list[e].is_read=!0)},onClose:function(){n.dialogPage.close()}}})},function(){n.$noticeLi.removeClass("active")})})},initAgency:function(){var n=this;n.$agencyA.on("click",function(){n.$agencyLi.addClass("active"),n.dialogPage=a.dialog.fullRight(e.AGENCY_TEMPLATE,"busy-admin-agency-panel",function(){new r({el:"#busyAdminAgencyVueApp",data:{list:[],load:!1},created:function(){this.loadList()},methods:{loadList:function(){var t=this;t.load||(t.load=!0,a.request(n.url+"?action=list&type=agency").headers(o).pending(!1).complete(function(){t.load=!1}).success(function(e){e=e.result.list||[];return e.map(function(e){e.url=e.url||"javascript:void(0)",e.target=0===e.url.indexOf(n.root)?"":"_blank"}),0<e.length&&(t.list=t.list.concat(e)),!1}).exec())},onItemClick:function(e){e=this.list[e];a.request(n.url+"?action=read&type=agency&id="+e.id).headers(o).pending(!1).success(function(){return n.getMessage(),!1}).exec()},onClose:function(){n.dialogPage.close()}}})},function(){n.$agencyLi.removeClass("active")})})},getMessage:function(){var i=this;clearTimeout(i.messageTimer),i.messageLoading||(i.messageLoading=!0,i.request=a.request(i.url).headers(o).pending(!1).complete(function(){i.messageLoading=!1,i.messageTimer=setTimeout(function(){i.getMessage()},1e4)}).error(function(e,t,n){if(i.isAbort)return!1}).success(function(e){var t=e.result||{},e=t.notice_total||0,t=t.agency_total||0;return 0<t?i.$agencyBadge.removeClass("hide").text(100<=t?"99+":t):i.$agencyBadge.addClass("hide"),0<e?i.$noticeBadge.removeClass("hide").text(100<=e?"99+":e):i.$noticeBadge.addClass("hide"),!1}).exec())},destroy:function(){clearTimeout(this.messageTimer),this.request&&(this.isAbort=!0,this.request.abort(),this.request=null),this.dialogPage&&(this.dialogPage.close(),this.dialogPage=null)}},e.NOTICE_TEMPLATE='<div class="busy-admin-right-panel" id="busyAdminNoticeVueApp">    <div class="busy-admin-right-panel-head">éç¥</div>    <div class="busy-admin-right-panel-body" v-on:scroll="onScroll">        <template v-if="list.length > 0">            <a class="media" v-for="(item, index) in list" v-bind:class="item.is_read ? \'read\' : \'\'" :data-index="index" v-on:click="onItemClick(index)" :href="item.url" :target="item.target" data-toggle="">                <div class="media-left" v-if="item.icon.value.length > 0">                    <i class="media-object icon" :class="item.icon.value" :style="{backgroundColor: item.icon.color}" v-if="item.icon.is_class"></i>                    <img class="media-object" :src="item.icon.value" v-else>                </div>                <div class="media-body">                    <h5 class="media-heading">                        <span v-if="!item.is_read"></span>                        {{item.title}}                    </h5>                    <p class="text-muted size-14" v-if="item.desc.length > 0">{{item.desc}}</p>                    <p class="text-gray size-12">{{item.create_time}}</p>                </div>            </a>            <div class="media text-muted text-center size-12" v-if="showLast">æ²¡ææ¶æ¯äº</div>        </template>        <template v-else>            <div class="empty-info" v-if="load">                <i class="fa fa-spinner fa-spin size-30"></i><br/><br/>å è½½ä¸­...            </div>            <div class="empty-info" v-else>ææ éç¥</div>        </template>    </div>    <div class="busy-admin-right-panel-foot">        <div class="btn-group">            <a class="btn btn-warning" v-on:click="onAllRead"><i class="fa fa-trash"></i> å¨é¨å·²è¯»</a>            <a class="btn btn-danger" v-on:click="onClear"><i class="fa fa-trash"></i> æ¸ç©º</a>            <a class="btn btn-default" v-on:click="onClose"><i class="fa fa-close"></i> å³é­</a>        </div>    </div></div>',e.AGENCY_TEMPLATE='<div class="busy-admin-right-panel" id="busyAdminAgencyVueApp">    <div class="busy-admin-right-panel-head">å¾å</div>    <div class="busy-admin-right-panel-body">        <template v-if="list.length > 0">            <a class="media" v-for="(vo, index) in list" :href="vo.url" :data-index="index" v-on:click="onItemClick(index)" :target="vo.target" data-toggle="">                <div class="media-body">                    <h5 class="media-heading">{{vo.title}}</h5>                    <p class="text-muted size-12" v-if="vo.desc.length > 0">{{vo.desc}}</p>                </div>            </a>        </template>        <template v-else>            <div class="empty-info" v-if="load">                <i class="fa fa-spinner fa-spin size-30"></i><br/><br/>å è½½ä¸­...            </div>            <div class="empty-info" v-else>ææ å¾å</div>        </template>    </div>    <div class="busy-admin-right-panel-foot">        <a class="btn btn-default btn-block" v-on:click="onClose"><i class="fa fa-close"></i> å³é­</a>    </div></div>',i(document).on(a.e.appReadies,function(){return a.app.isFrame?void(n||(a.app._topBar=new e)):(n=!1,void(a.app._topBar&&(a.app._topBar.destroy(),a.app._topBar=null)))})}(jQuery,busyAdmin),function(){var e=busyAdmin;define("./busyAdmin/plugins/tree",[e.sys.core,e.sys.jquery],function(u,p){"use strict";var n=false,o=function(e,t){var n=this;n.element=e;n.$element=p(e).addClass("busy-admin-tree");n.options=p.extend(true,{},o.DEFAULTS,n.$element.data()||{},t||{});var s=n.options;n.jstree=null;n.jstreeOpt={core:{animation:s.animation,multiple:s.multiple,expand_selected_onload:s.expandSelectedOnload,force_text:s.forceText,dblclick_toggle:false,check_callback:function(e,t,n,i,a){var r=Array.prototype.slice.call(arguments);if(typeof s.operate==="function")return s.operate.apply(this,r);if(typeof s.operate==="boolean")return s.operate;if(typeof s.operate==="string"){var o=u.helper.execCallback(s.operate,this,r);if(o!=null)return o}return-1!==(s.operate||[]).indexOf(e)},themes:{dots:s.dots,icons:s.icons,ellipsis:s.ellipsis,stripes:s.stripes},strings:{"Loading ...":s.locale.loading,"New node":s.locale.newNode,nodes:s.locale.nodes}},types:{default:{}},plugins:["types"]};if(s.leafTile)n.$element.addClass("leaf-tile");if(s.border)n.$element.addClass("show-border");if(s.checkbox){n.jstreeOpt.plugins.push("checkbox");n.jstreeOpt.checkbox={keep_selected_style:s.checkboxKeepSelectedStyle,tie_selection:s.checkboxTieSelection,three_state:s.checkboxRelation,cascade:s.checkboxRelationDir,cascade_to_disabled:s.checkboxRelationDisabled,cascade_to_hidden:s.checkboxRelationHidden}}if(s.block)n.jstreeOpt.plugins.push("wholerow");if(s.dnd)n.jstreeOpt.plugins.push("dnd");if(s.contextmenu){var i=s.contextmenuItems;n.jstreeOpt.plugins.push("contextmenu");n.jstreeOpt.contextmenu={items:function(e){u.dialog.toast("æ²¡æéç½®å³é®èåé¡¹");return{}}};if(typeof i==="function")n.jstreeOpt.contextmenu.items=i;else if(typeof i==="string"&&-1===i.indexOf(",")&&typeof window[i]==="function")n.jstreeOpt.contextmenu.items=window[i]}if(s.url)n.jstreeOpt.core.data=function(e,i){var a=this;var t={};t[s.parentIdField||"parent_id"]=e.id==="#"?"":e.id;if(typeof s.params==="object")t=p.extend({},s.params,t);else if(s.params){var n=u.helper.scope(s.params);if(typeof n==="function"){var r=n.call();t=p.extend({},r||{},t)}}u.request(s.url).method(s.method).addHeader("Busy-Admin-Plugin","Tree").pending(false).params(t).error(function(e,t,n){i.call(a,[])}).success(function(e,t,n){i.call(a,e.result.data);return false}).exec()};else if(s.list&&p.isArray(s.list)&&s.list.length>0)n.jstreeOpt.core.data=s.list;n.ready(n.init)};function e(n){var i;var a="busy.admin.tree.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=p(this);var t=e.data(a);if(!t)e.data(a,t=new o(this,typeof n==="object"&&n));if(typeof n==="string")try{i=t[n].apply(t,r)}catch(e){if(e instanceof TypeError)i=t.jstree[n].apply(t.jstree,r)}});if(typeof n==="string")return i;return this}o.prototype={ready:function(e){var t=this;if(n)typeof e==="function"&&e.call(t);else require([u.lib.tree],function(){n=true;typeof e==="function"&&e.call(t)})},init:function(){var a=this;if(a.isInit)return;a.isInit=true;a.$element.find("[disabled],[data-disabled],[data-icon],[data-opened],[data-selected],[data-jstree]").each(function(){var e=p(this);var t=e.data();e.removeData();if(this.hasAttribute("disabled"))t.disabled=true;if(t.hasOwnProperty("jstree")&&typeof t.jstree==="object"){t=p.extend(t.jstree,t);delete t.jstree}e.data("jstree",t)});var t="";["init","loading","loaded","ready","destroy","set_state","refresh","load_node","load_all","redraw","model","before_open","open_node","after_open","close_node","after_close","open_all","close_all","enable_node","disable_node","hide_node","show_node","hide_all","show_all","activate_node","hover_node","dehover_node","select_node","deselect_node","changed","select_all","deselect_all","refresh_node","set_id","set_text","create_node","rename_node","delete_node","move_node","copy_node","cut","copy","paste","clear_buffer","disable_checkbox","enable_checkbox","check_node","uncheck_node","check_all","uncheck_all"].map(function(e){t+=e+".jstree "});a.$element.on(t,function(e,t){var n=[];var i=a.jstree;switch(e.type){case"load_node":n=[i,t.node,t.status];break;case"redraw":case"hide_all":case"show_all":n=[i,t.nodes];break;case"model":n=[i,t.nodes,t.parent];e.type="insert";break;case"load_all":case"before_open":case"open_node":case"after_open":case"close_node":case"after_close":case"open_all":case"close_all":case"enable_node":case"disable_node":case"hide_node":case"hover_node":case"dehover_node":case"disable_checkbox":case"enable_checkbox":case"copy":case"cut":n=[i,t.node];break;case"activate_node":n=[i,t.node,t.event];break;case"select_node":case"deselect_node":case"check_node":case"uncheck_node":n=[i,t.node,t.selected,t.event];break;case"changed":n=[i,t.node,t.action,t.selected,t.event];break;case"select_all":case"check_all":n=[i,t.selected];break;case"deselect_all":case"uncheck_all":n=[i,t.node,t.selected];break;case"refresh_node":n=[i,t.node,t.nodes];break;case"set_id":n=[i,t.node,t.old];break;case"set_text":n=[i,t.obj,t.text];break;case"create_node":n=[i,t.node,t.parent,t.position];break;case"rename_node":n=[i,t.node,t.text,t.old];break;case"delete_node":n=[i,t.node,t.parent];break;case"move_node":n=[i,t.node,t.parent,t.position,t.old_parent,t.old_position,t.is_multi,t.old_instance,t.new_instance];break;case"copy_node":n=[i,t.node,t.original,t.parent,t.position,t.old_parent,t.old_position,t.is_multi,t.old_instance,t.new_instance];break;case"paste":n=[i,t.parent,t.node,t.mode];break;default:n=[i]}a.$element.triggerHandler(u.ee(e.type,"tree"),n)});a.$element.jstree(a.jstreeOpt);a.jstree=a.$element.jstree(true);if(a.options.checkbox)if(a.$element.closest("form").length>0){var e=a.$element[0].getAttribute("required")!==null||a.options.required;var n=a.$element.attr("minlength")||a.options.minlength||0;var i=a.$element.attr("maxlength")||a.options.maxlength||0;var r=a.$element.attr("placeholder")||a.options.msgRequired||"";var o=u.helper.parseData(a.options,"verify");var s=a.options.uncertainName||"";var l=a.options.name||"";l=-1!==l.indexOf("[]")?l:l+"[]";s=-1!==s.indexOf("[]")?s:s?s+"[]":"";a.$nameHidden=p('<select name="'+l+'" multiple/>').hide();a.$uncertainHidden=p('<select name="'+s+'" multiple/>').hide();a.$element.append(a.$nameHidden);a.$element.append(a.$uncertainHidden);for(var c in o){var d=o[c];switch(c){case"maxlength":case"minlength":case"required":a.$nameHidden.attr(c,d);break;default:a.$nameHidden.attr("data-"+u.helper.snake(c,"-"),d)}}a.$nameHidden.on(u.e.verifyErrorPlacement,function(e,t){a.$element.after(t);return false});a.$element.on(u.e.treeChanged+" "+u.e.treeReady,function(){a.$nameHidden.html("");a.jstree.get_checked().map(function(e){a.$nameHidden.append('<option value="'+e+'" selected/>')});a.$nameHidden.trigger("change");if(a.options.uncertainName){a.$uncertainHidden.html("");a.jstree.get_undetermined().map(function(e){a.$uncertainHidden.append('<option value="'+e+'" selected/>')});a.$uncertainHidden.trigger("change")}})}u.helper.triggerPluginReady(a.$element,"Tree",a)}},o.DEFAULTS={dots:true,icons:true,ellipsis:false,stripes:false,operate:false,animation:200,multiple:true,expandSelectedOnload:false,forceText:false,leafTile:false,border:true,url:null,method:"get",parentIdField:"parent_id",params:null,list:[],name:"tree_id[]",uncertainName:null,checkbox:false,checkboxKeepSelectedStyle:false,checkboxTieSelection:true,checkboxRelation:true,checkboxRelationDir:"",checkboxRelationDisabled:true,checkboxRelationHidden:true,block:false,contextmenu:false,contextmenuItems:null,locale:p.extend({},{loading:"è¯·ç¨å...",newNode:"æªå½å",nodes:"èç¹"},((u.locale||{}).plugin||{}).tree||{})},p.fn.busyAdminTree=e,p.fn.busyAdminTree.Constructor=o,u.plugins.Tree=o;var t="tree";return p.extend(u.e,{treeInit:u.ee("init",t),treeLoading:u.ee("loading",t),treeDestroy:u.ee("destroy",t),treeLoaded:u.ee("loaded",t),treeReady:u.ee("ready",t),treeLoadNode:u.ee("load-node",t),treeLoadAll:u.ee("load-all",t),treeInsert:u.ee("insert",t),treeRedraw:u.ee("redraw",t),treeBeforeOpen:u.ee("before-open",t),treeOpenNode:u.ee("open-node",t),treeAfterOpen:u.ee("after-open",t),treeCloseNode:u.ee("close-node",t),treeAfterClose:u.ee("after-close",t),treeOpenAll:u.ee("open-all",t),treeCloseAll:u.ee("close-all",t),treeEnableNode:u.ee("enable-node",t),treeDisableNode:u.ee("disable-node",t),treeHideNone:u.ee("hide-node",t),treeShowNode:u.ee("show-node",t),treeHideAll:u.ee("hide-all",t),treeShowAll:u.ee("show-all",t),treeClickNode:u.ee("activate-node",t),treeHoverNode:u.ee("hover-node",t),treeDeHoverNode:u.ee("dehover-node",t),treeSelectNode:u.ee("select-node",t),treeChanged:u.ee("changed",t),treeDeSelectNode:u.ee("deselect-node",t),treeSelectAll:u.ee("select-all",t),treeDeSelectAll:u.ee("deselect-all",t),treeSetState:u.ee("set-state",t),treeRefresh:u.ee("refresh",t),treeRefreshNode:u.ee("refresh-node",t),treeSetId:u.ee("set-id",t),treeSetText:u.ee("set-text",t),treeCreateNode:u.ee("create-node",t),treeRenameNode:u.ee("rename-node",t),treeDeleteNode:u.ee("delete-node",t),treeMoveNode:u.ee("move-node",t),treeCopyNode:u.ee("copy-node",t),treeCut:u.ee("cut",t),treeCopy:u.ee("copy",t),treePaste:u.ee("paste",t),treeClearBuffer:u.ee("clear-buffer",t),treeDisableCheckbox:u.ee("disable-checkbox",t),treeEnableCheckbox:u.ee("enable-checkbox",t),treeCheckNode:u.ee("check-node",t),treeUnCheckNode:u.ee("uncheck-node",t),treeCheckAll:u.ee("check-all",t),treeUnCheckAll:u.ee("uncheck-all",t)}),u.autoInit('[data-toggle="busy-tree"],[busy-tree]',function(){e.call(this)}),o})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/upload",[e.sys.core,e.sys.jquery],function(d,u){var c={},p=null,h=null,f=function(e,t){return e.find('[data-upload-id="'+t+'"]')},m=function(e,t){var n=this;n.element=e;n.$element=u(e);n.options=u.extend(true,{},m.DEFAULTS,n.$element.data(),t||{});n.uploader=null;n.fileConfig={};n.headers={};n.$uploadBtn=null;n.$selectBtn=null;n.module=null;n.isInput=n.$element.is(":input");n.isTextarea=n.$element[0].tagName.toLowerCase()==="textarea";n.callback={responseSuccess:u.noop};n.ready(n.init)};m.prototype={ready:function(a){var r=this;if(p)a.call(r);else require([d.lib.bootstrap,d.lib.webUploader,d.lib.sortable,d.lib.uploadConfig],function(e,t,n,i){p=t;h=n;c=i;a.call(r)})},init:function(){var e=this;if(e.isInit)return;e.isInit=true;e.fileConfig=c.config[e.options.classType||"file"]||{};if(!e.options.placeholder)e.options.placeholder=d.helper.sprintf(e.options.locale.pleaseUploadOrSelect,e.fileConfig.name);if(!e.options.objectFit)e.options.objectFit="cover";if(e.isInput){var t=e.$element.val();var n=e.$element.attr("name");var i=e.$element.attr("placeholder");if(t)e.options.value=t;if(n)e.options.name=n;if(i)e.options.placeholder=i}switch(e.options.type.toLowerCase()){case"files":e.module=new r(e);break;case"card":e.module=new o(e);break;case"use":e.module=new s(e);break;default:e.module=new a(e)}d.helper.triggerPluginReady(e.$element,"Upload",e)},initUploader:function(e,t,n,i){var a=this;var r=a.options;var o=r.pasteContainer;if(typeof o==="string")o=u(o);if(o instanceof jQuery)if(o.length>0)o=o[0];else r.paste=false;a.$uploadBtn=e;a.$selectBtn=n;if(a.$uploadBtn&&a.$uploadBtn.length)if(r.upload){if(a.options.type!=="use"){var s="";if(r.uploadIcon)s+='<i class="'+r.uploadIcon+'"></i> ';if(a.options.type!=="card")s+="<span>"+(r.uploadName||d.helper.sprintf(r.locale.uploadFile,a.fileConfig.name))+"</span>";a.$uploadBtn.addClass(r.uploadClass).html(s)}}else a.$uploadBtn.remove();if(a.$selectBtn&&a.$selectBtn.length)if(r.select){if(a.options.type!=="use"){var l="";if(r.selectIcon)l+='<i class="'+r.selectIcon+'"></i> ';if(a.options.type!=="card")l+="<span>"+(r.selectName||d.helper.sprintf(r.locale.selectFile,a.fileConfig.name))+"</span>";a.$selectBtn.addClass(r.selectClass).html(l)}a.$selectBtn.off("click").on("click",function(){u(this).busyAdminFilePicker({classType:r.classType,classValue:r.classValue,title:d.helper.sprintf(r.locale.selectFile,a.fileConfig.name),multiple:i,count:i?0:1,extensions:a.fileConfig.suffix,success:function(e){typeof a.module.setSelectFiles==="function"&&a.module.setSelectFiles(e)}})})}else a.$selectBtn.remove();p.Uploader.register({"before-send-file":"beforeSendFile","before-send":"beforeSend","after-send-file":"afterSendFile"},{beforeSendFile:function(e){},beforeSend:function(e){var t=this.options.formData;if(e.chunks>1){this._byChunsk=true;t.chunk_guid=e.file.source.uid;t.chunk_complete=0;t.chunk_total=e.chunks;t.chunk_current=e.chunk;t.chunk_filename=e.file.name}else{this._byChunsk=false;delete t.chunk_guid;delete t.chunk_complete;delete t.chunk_total;delete t.chunk_current;delete t.chunk_filename;delete t.chunks;delete t.chunk}},afterSendFile:function(e,i){if(this._byChunsk){var a=p.Deferred();var t=this.options.formData;t.chunk_complete=1;t.chunk_current=0;d.request(this.options.server).method(this.options.method).addHeader("Busy-Admin-Plugin","Upload").pending(false).params(t).success(function(e,t,n){a.resolve(i._result=e.result)}).error(function(e,t,n){a.reject(e.message)}).exec();return a.promise()}}});a.uploader=new p.Uploader({swf:c.swf,server:c.url,auto:r.auto,fileVal:"upload",method:"POST",dnd:r.dnd&&t&&t.length>0?t[0]:undefined,paste:r.paste?o:undefined,disableGlobalDnd:true,chunked:true,chunkSize:r.chunkSize,threads:r.threads,duplicate:r.duplicate,fileNumLimit:r.maxTotal?r.maxTotal:undefined,fileSizeLimit:r.maxSize?r.maxSize:undefined,fileSingleSizeLimit:r.maxSingleSize?r.maxSingleSize:undefined,compress:r.compress?{width:r.compressWidth,height:r.compressHeight,quality:r.compressQuality,allowMagnify:r.compressZoom,crop:r.compressCrop,preserveHeaders:r.compressMeta,noCompressIfLarger:r.compressLarger,compressSize:r.compressSize}:false,pick:{id:e[0],multiple:i},formData:{stamp:c.stamp,sid:c.sid,class_type:r.classType?r.classType:"file",class_value:r.classValue},accept:{title:d.helper.sprintf(r.locale.selectFile,a.fileConfig.name||r.locale.file),extensions:a.fileConfig.suffix||"",mimeTypes:a.fileConfig.mime||""}});a.uploader.on("uploadBeforeSend",function(e,t,n){n["Busy-Admin-Plugin"]="Upload";a.uploader._headers=n;a.uploader._params=t});a.uploader.on("uploadAccept",function(e,t,n){var i;d.response.parse(t._raw,{url:this.options.server,type:this.options.method,data:u.param(u.extend(this.options.formData||{},this._params||{})),headers:this._headers||{}},function(e){i=true;t._result=e.result},function(e){n(e.message);i=false});return i});a.uploader.on("error",function(e,t,n){var i;if(t instanceof p.File)i=t;else if(n instanceof p.File)i=n;d.helper.execCallback(a.options.fileError,a.$element[0],[this,i,a.parseCodeError(e)],a.$element,d.e.uploadFileError)});a.uploader.on("fileQueued",function(e){d.helper.execCallback(a.options.fileQueued,a.$element[0],[this,e],a.$element,d.e.uploadFileQueued)});a.uploader.on("filesQueued",function(e){d.helper.execCallback(a.options.filesQueued,a.$element[0],[this,e],a.$element,d.e.uploadFilesQueued)});a.uploader.on("fileDequeued",function(e){d.helper.execCallback(a.options.fileDequeued,a.$element[0],[this,e],a.$element,d.e.uploadFileDequeued)});a.uploader.on("reset",function(){d.helper.execCallback(a.options.reset,a.$element[0],[this],a.$element,d.e.uploadReset)});a.uploader.on("startUpload",function(){d.helper.execCallback(a.options.begin,a.$element[0],[this],a.$element,d.e.uploadBegin)});a.uploader.on("stopUpload",function(){d.helper.execCallback(a.options.stop,a.$element[0],[this],a.$element,d.e.uploadStop)});a.uploader.on("uploadFinished",function(){d.helper.execCallback(a.options.finished,a.$element[0],[this],a.$element,d.e.uploadFinished)});a.uploader.on("uploadStart",function(e){d.helper.execCallback(a.options.start,a.$element[0],[this,e],a.$element,d.e.uploadStart)});a.uploader.on("uploadProgress",function(e,t){d.helper.execCallback(a.options.progress,a.$element[0],[this,e,t],a.$element,d.e.uploadProgress)});a.uploader.on("uploadComplete",function(e){d.helper.execCallback(a.options.complete,a.$element[0],[this,e],a.$element,d.e.uploadComplete)});a.uploader.on("uploadError",function(e,t){d.helper.execCallback(a.options.error,a.$element[0],[this,e,a.parseServerError(t)],a.$element,d.e.uploadError)});a.uploader.on("uploadSuccess",function(e,t){d.helper.execCallback(a.options.success,a.$element[0],[this,e,t._result],a.$element,d.e.uploadSuccess);a.triggerResult(t._result,true)})},parseCodeError:function(e){var t=this.options.locale;var n=this.uploader.options;switch(e){case"Q_EXCEED_NUM_LIMIT":e=d.helper.sprintf(t.uploadExceedNumLimit,n.fileNumLimit);break;case"Q_EXCEED_SIZE_LIMIT":e=d.helper.sprintf(t.uploadExceedSizeLimit,this.formatSize(n.fileSizeLimit));break;case"Q_TYPE_DENIED":var i=n.accept[0]||{};var a=i.extensions||"";if(a)e=d.helper.sprintf(t.uploadTypeDeniedDetail,a);else e=t.uploadTypeDenied;break;case"F_EXCEED_SIZE":case"exceed_size":e=d.helper.sprintf(t.uploadExceedSize,this.formatSize(n.fileSingleSizeLimit));break;case"F_DUPLICATE":e=t.uploadDuplicate;break;default:e=t.unknownError+": "+e}return e},formatSize:function(e){return p.Base.formatSize(e,1,["B","KB","MB","GB","TB"])},parseServerError:function(e){var t=this.options.locale;switch(e){case"server":e=t.serverError;break;case"http":e=t.httpError;break;case"abort":e=t.httpAbort;break;case"timeout":e=t.httpTimeout;break}return e},setDisabled:function(e){var t=this;if(e){if(t.uploader)t.uploader.disable();if(t.$selectBtn)t.$selectBtn.addClass("disabled").attr("disabled","disabled");if(t.$uploadBtn)t.$uploadBtn.addClass("disabled").attr("disabled","disabled")}else{if(t.uploader)t.uploader.enable();if(t.$selectBtn)t.$selectBtn.removeClass("disabled").removeAttr("disabled");if(t.$uploadBtn)t.$uploadBtn.removeClass("disabled").removeAttr("disabled")}},previewHandler:function(e,t,n,i,a){var r=this;d.helper.urlPreviewHandler({url:e,image:t,video:n,audio:i,file:function(){switch(r.fileConfig.type){case"image":typeof t==="function"&&t();break;case"video":typeof n==="function"&&n();break;case"audio":typeof i==="function"&&i();break;default:typeof a==="function"&&a()}}})},triggerResult:function(e,t){var n;if(t)n={id:e.file_id,url:e.file_url,size:e.size||0,name:e.name,extension:e.extension};else n={id:e.id,url:e.url,size:e.size,name:e.name,extension:e.extension};d.helper.execCallback(this.options.result,this.$element[0],[n],this.$element,d.e.uploadResult)},destroy:function(){var e=this;if(!e.isInit)return;e.isInit=false;e.uploader.destroy();e.module.destroy()}},m.CARD_TEMPLATE='<div class="busy-admin-upload-card">        <div class="upload-container">            <div class="block" data-upload-id="block"></div>            <div class="upload-btn" data-upload-id="upload-btn2"><i data-upload-id="icon"></i><span data-upload-id="placeholder"></span><span data-upload-id="desc"></span></div>            <div class="preview" data-upload-id="preview"></div>            <div class="pending" data-upload-id="progress"><div><i class="busy-admin-pending-icon"></i><span data-upload-id="speed"></span></div></div>            <div class="toolbar" data-upload-id="toolbar">                <div class="tool-upload" data-upload-id="upload-btn"><i class="fa fa-cloud-upload"></i></div>                <div class="tool-select" data-upload-id="select-btn"><i class="fa fa-folder-open"></i></div>                <div class="tool-remove" data-upload-id="remove-btn"><i class="fa fa-remove"></i></div>            </div>        </div>    </div>',m.SINGLE_TEMPLATE='<div class="busy-admin-upload-single">        <div class="input-group">            <i data-upload-id="input"></i>            <div class="input-group-btn">                <button class="btn" data-upload-id="upload-btn" type="button"></button>                <button class="btn" data-upload-id="select-btn" type="button"></button>            </div>        </div>        <div class="upload-wait" style="display: none" data-upload-id="wait">            <div class="media" data-upload-id="item">                <a class="close" data-upload-id="close">&times;</a>                <div class="media-left" data-upload-id="thumb-box">                    <img class="media-object" src="" data-upload-id="thumb-img"/>                </div>                <div class="media-body">                    <div class="media-heading size-13 text-bold" data-upload-id="title"></div>                    <div class="progress">                        <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%">                            <span class="progress-number" data-upload-id="speed">0%</span>                        </div>                    </div>                    <div class="media-foot size-12 clearfix">                        <div class="pull-right" data-upload-id="file-size"></div>                        <div class="pull-left" data-upload-id="status"></div>                    </div>                    <div class="media-toolbar clearfix" data-upload-id="toolbar">                        <button class="btn btn-success btn-sm pull-right" data-upload-id="operate-btn"></button>                    </div>                </div>            </div>        </div>        <div class="upload-preview" style="display: none;" data-upload-id="preview"></div>    </div>',m.FILES_TEMPLATE='<div class="busy-admin-upload-files">        <div class="panel panel-default no-margin-bottom">            <div class="panel-heading">                <button class="btn btn-sm" data-upload-id="upload-btn" type="button"></button>                <button class="btn btn-sm" data-upload-id="select-btn" type="button"></button>            </div>            <div class="table-responsive file-queue-list" data-upload-id="file-queue-container">                <table class="table table-hover table-bordered table-striped">                    <thead>                        <tr>                            <th class="text-center size-12" data-upload-id="locale-filename"></th>                            <th class="text-center size-12" data-upload-id="locale-fileSize" width="80"></th>                            <th class="text-center size-12" data-upload-id="locale-progress" width="150"></th>                            <th class="text-center size-12" data-upload-id="locale-operate" width="100"></th>                        </tr>                    </thead>                    <tfoot data-upload-id="toolbar">                        <tr>                            <td colspan="4">                                <button class="btn btn-sm btn-success pull-right" data-upload-id="operate-btn"></button>                                <div class="text-gray size-12" data-upload-id="tip"></div>                            </td>                        </tr>                    </tfoot>                    <tbody data-upload-id="queue-list"></tbody>                </table>            </div>            <div class="table-responsive image-queue-list" data-upload-id="image-queue-container">                <table class="table table-hover table-bordered table-striped">                    <tfoot data-upload-id="toolbar">                        <tr>                            <td colspan="4">                                <button class="btn btn-sm btn-success pull-right" data-upload-id="operate-btn"></button>                                <div class="text-gray size-12" data-upload-id="tip"></div>                            </td>                        </tr>                    </tfoot>                    <tbody><tr><td data-upload-id="queue-list"></td></tr></tbody>                </table>            </div>            <div class="table-responsive file-result-list" data-upload-id="file-result-container">                <table class="table table-hover table-bordered table-striped">                    <tbody data-upload-id="result-list"></tbody>                </table>            </div>            <div class="table-responsive image-result-list" data-upload-id="image-result-container">                <table class="table table-hover table-bordered table-striped">                    <tbody><tr><td data-upload-id="result-list"></td></tr></tbody>                </table>            </div>        </div>    </div>',m.FILES_TEMPLATE_FILE_QUEUE_EMPTY='<tr>        <td class="text-center empty" colspan="4">            <div data-upload-id="message" class="text-gray"></div>            <div data-upload-id="desc" class="text-gray"></div>        </td>    </tr>',m.FILES_TEMPLATE_FILE_QUEUE_ITEM='<tr>        <td data-upload-id="name" class="text-vcenter text-left text-bold"></td>        <td data-upload-id="size" class="text-vcenter text-center text-gray"></td>        <td class="text-vcenter text-center">            <div class="progress no-margin height-10" data-upload-id="progress-bar">                <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%"></div>            </div>            <div class="status" data-upload-id="status"></div>        </td>        <td class="text-center text-vcenter">            <a class="btn btn-danger btn-xs" data-upload-id="delete"><i class="fa fa-trash"></i></a>        </td>    </tr>',m.FILES_TEMPLATE_FILE_RESULT_ITEM='<tr>        <td data-upload-id="content" class="text-vcenter">            <a href="javascript:void(0)" class="name" data-upload-id="name"></a>            <code data-upload-id="size"></code>        </td>        <td class="text-center" width="100">            <a class="btn btn-default btn-xs" data-upload-id="preview"><i class="fa fa-search-plus"></i></a>            <a class="btn btn-success btn-xs" data-upload-id="replace"><i class="fa fa-folder-open"></i></a>            <a class="btn btn-danger btn-xs" data-upload-id="delete"><i class="fa fa-trash"></i></a>        </td>    </tr>',m.FILES_TEMPLATE_IMAGE_QUEUE_EMPTY='<div class="text-center empty">         <div data-upload-id="message" class="text-gray"></div>        <div data-upload-id="desc" class="text-gray"></div>    </div>',m.FILES_TEMPLATE_IMAGE_QUEUE_ITEM='<div class="item">        <div>            <div class="name" data-upload-id="name"></div>            <div class="thumb"><img data-upload-id="thumb"/></div>            <div class="item-content">                <div class="toolbar" data-upload-id="toolbar">                    <a href="javascript:void(0)" class="fa fa-trash" data-upload-id="delete"></a>                </div>                <div class="progress no-margin" data-upload-id="progress-bar">                    <div class="progress-bar progress-bar-success progress-bar-striped active" data-upload-id="progress" style="width: 0%"></div>                </div>                <div class="status" data-upload-id="status"></div>            </div>        </div>    </div>',m.FILES_TEMPLATE_IMAGE_RESULT_ITEM='<div class="item">        <div>            <div class="thumb"><img src="" data-upload-id="thumb"/></div>            <div class="item-content">                <div class="toolbar" data-upload-id="toolbar">                    <a href="javascript:void(0)" class="fa fa-search-plus" data-upload-id="preview"></a>                    <a href="javascript:void(0)" class="fa fa-folder-open" data-upload-id="replace"></a>                    <a href="javascript:void(0)" class="fa fa-trash" data-upload-id="delete"></a>                </div>                <a href="javascript:void(0)" class="fa fa-edit name" data-upload-id="name"></a>            </div>        </div>    </div>',m.DEFAULTS={type:"single",name:"",classType:"",classValue:"",value:"",dnd:false,paste:false,pasteContainer:document.body,chunkSize:5242880,threads:3,duplicate:false,className:"",placeholder:"",auto:true,select:true,selectName:"",selectIcon:"fa fa-folder-open",selectClass:"btn-default",upload:true,uploadName:"",uploadIcon:"fa fa-cloud-upload",uploadClass:"btn-primary",compress:false,compressWidth:1600,compressHeight:1600,compressQuality:90,compressZoom:false,compressCrop:false,compressMeta:true,compressLarger:false,compressSize:0,objectFit:"",singleInput:true,singlePreview:true,singlePreviewSize:"",filesResult:true,cardRatio:"",cardType:"",cardIcon:"fa fa-cloud-upload",useSelect:"",useDnd:"",useProgress:false,useError:false,maxSize:undefined,maxSingleSize:undefined,maxTotal:undefined,result:undefined,fileError:undefined,fileQueued:undefined,filesQueued:undefined,fileDequeued:undefined,reset:undefined,begin:undefined,stop:undefined,finished:undefined,start:undefined,progress:undefined,complete:undefined,error:undefined,success:undefined,locale:u.extend({uploadFile:"ä¸ä¼ %s",selectFile:"éæ©%s",replaceFile:"æ¿æ¢%s",pleaseUploadOrSelect:"è¯·ä¸ä¼ æéæ©%s",uploadSuccess:"ä¸ä¼ æå",uploadLoading:"ä¸ä¼ ä¸­...",uploadWait:"ç­å¾ä¸ä¼ ",uploadCanceled:"å·²åæ¶ä¸ä¼ ",file:"æä»¶",filename:"æä»¶å",fileSize:"æä»¶å¤§å°",progress:"è¿åº¦",operate:"æä½",uploadStart:"å¼å§ä¸ä¼ ",uploadPause:"æåä¸ä¼ ",uploadContinue:"ç»§ç»­ä¸ä¼ ",uploadPaused:"æåä¸­",preview:"é¢è§",replace:"æ¿æ¢",delete:"å é¤",modifyFileName:"ä¿®æ¹æä»¶å",pleaseInputFileName:"è¯·è¾å¥æä»¶å",confirmDeleteThat:"ç¡®è®¤è¦å é¤%såï¼",uploadExceedSizeLimit:"æææä»¶æ»å¤§å°è¶è¿%s",uploadTypeDenied:"è¯·éæ©ææçæä»¶",uploadTypeDeniedDetail:"ä»æ¯ææ ¼å¼ä¸º%sçæä»¶",uploadExceedSize:"æä»¶å¤§å°è¶è¿%s",uploadDuplicate:"éæ©çæä»¶éå¤",uploadExceedNumLimit:"åæ¬¡æå¤åè®¸éæ©%sä¸ªæä»¶",unknownError:"æªç¥éè¯¯",serverError:"æå¡å¨éè¯¯",httpError:"HTTPè¯·æ±éè¯¯",httpTimeout:"è¯·æ±è¶æ¶",httpAbort:"è¯·æ±è¢«ä¸­æ­",uploadTipSelected:"å±%sä¸ªæä»¶ï¼åè®¡%s",uploadTipSuccess:"å±%sä¸ªæä»¶ï¼å·²ä¸ä¼ %sä¸ªæä»¶",uploadTipComplete:"å±%sä¸ªæä»¶ï¼å·²ä¸ä¼ %sä¸ªï¼å¤±è´¥%sä¸ª"},((d.locale||{}).plugin||{}).upload||{})};var a=function(e){this.isInit=false;this.api=e;this.$template=null;this.$input=null;this.init()};a.prototype={init:function(){var r=this;var a=r.api;var o=a.options;if(r.isInit)return;r.isInit=true;r.$template=u(m.SINGLE_TEMPLATE).addClass(o.className);var e=f(r.$template,"input");if(a.element.tagName==="INPUT"){r.$input=a.$element;a.$element.after(r.$template);var t=r.$input.attr("placeholder");if(t)o.placeholder=t}else{r.$input=u('<input type="text"/>');a.$element.html(r.$template)}r.$input.val(o.value).attr("name",o.name||"").attr("placeholder",o.placeholder).addClass("form-control");e.after(r.$input);e.remove();r.$uploadBtn=f(r.$template,"upload-btn");r.$selectBtn=f(r.$template,"select-btn");r.$wait=f(r.$template,"wait");r.$close=f(r.$template,"close");r.$item=f(r.$template,"item");r.$thumbBox=f(r.$template,"thumb-box");r.$thumbImg=f(r.$template,"thumb-img");r.$title=f(r.$template,"title");r.$progress=f(r.$template,"progress");r.$speed=f(r.$template,"speed");r.$fileSize=f(r.$template,"file-size");r.$status=f(r.$template,"status");r.$preview=f(r.$template,"preview");r.$toolbar=f(r.$template,"toolbar");r.$operateBtn=f(r.$template,"operate-btn").html(o.locale.uploadStart);r.closeTimer=null;if(!o.singleInput){r.$template.addClass("form-inline");r.$input.hide()}r.$operateBtn.on("click",function(){if(u(this).hasClass("disabled"))return;r.setOperateDisabled(true);a.uploader.upload()});a.initUploader(r.$uploadBtn,r.$template,r.$selectBtn,false);a.$element.on(d.e.uploadFileError,function(e,t,n,i){t.reset();d.dialog.toastError(i)}).on(d.e.uploadReset,function(){r.setDisabled(false)}).on(d.e.uploadFileQueued,function(e,t,n){r.$thumbImg.attr("src","");t.makeThumb(n,function(e,t){if(e)r.$thumbBox.hide();else{r.$thumbImg.attr("src",t);r.$thumbBox.show()}},60,60);r.$close.show().off("click").on("click",function(){t.removeFile(n,true)});r.$title.html(n.name);r.$speed.html("0%");r.$fileSize.html(a.formatSize(n.size));r.$progress.removeClass("progress-bar-danger").addClass("progress-bar-success").css("width","0%");r.setStatus(o.locale.uploadWait,"gray",true,false);r.setOperateDisabled(false);o.auto?r.$toolbar.hide():r.$toolbar.show();r.$wait.show()}).on(d.e.uploadFileDequeued,function(e,t){t.reset();r.setStatus(o.locale.uploadCanceled,"gray",false);r.setOperateDisabled(true)}).on(d.e.uploadProgress,function(e,t,n,i){var a=(i*100).toFixed(2)+"%";r.$progress.css("width",a);r.$speed.text(a);r.setStatus(o.locale.uploadLoading,"gray",true,false)}).on(d.e.uploadComplete,function(e,t){t.reset()}).on(d.e.uploadError,function(e,t,n,i){r.setStatus(a.parseServerError(i),"danger",false)}).on(d.e.uploadSuccess,function(e,t,n,i){r.setStatus(o.locale.uploadSuccess,"success",true);r.$input.val(i.file_url).trigger(u.Event("input.busy.upload",{mustPreview:true}))});a.uploader.on("beforeFileQueued",function(e){r.setDisabled(true);return true});r.inputTimer=null;r.$input.off("input.busy.upload").on("input.busy.upload",function(e){clearTimeout(r.inputTimer);r.inputTimer=setTimeout(function(){r.showPreview(r.$input.val())},e.mustPreview?0:500)}).trigger(u.Event("input.busy.upload",{mustPreview:true}))},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=e[0];this.$input.val(t.url).trigger(u.Event("input.busy.upload",{mustPreview:true}));this.api.triggerResult(t,false)},showPreview:function(e){var t=this;var n=t.api;e=(e||"").trim();if(e.length===0||!n.options.singlePreview){t.$preview.empty().hide();return}var i=n.options.singlePreviewSize||"";var a,r,o;if(!u.isArray(i))i=i.split(",");a=i[0]||"";r=i[1]||"";if(a&&u.isNumeric(a)&&a>0)a+="px";if(r&&u.isNumeric(r)&&a>0)r+="px";n.previewHandler(e,function(){t.$preview.html(o=u('<img src="'+e+'" class="img-thumbnail cursor-zoom-in" data-title="false"/>'));if(a)o.width(a);else o.width(100);if(r)o.height(r);o.css("object-fit",n.options.objectFit);o.busyAdminImageViewer();t.$preview.show()},function(){t.$preview.html(o=u('<video><source src="'+e+'"/></video>'));if(a)o.width(a);else o.width(100);if(r)o.height(r);else o.height(100);o.css("object-fit",n.options.objectFit);o.busyAdminVideoViewer();t.$preview.show()},function(){t.$preview.html(o=u('<audio src="'+e+'" preload="auto"></audio>'));o.busyAdminAudio();t.$preview.show()},function(){t.$preview.empty().hide()})},setStatus:function(e,t,n,i){var a=this;clearTimeout(a.closeTimer);a.$status.html('<span class="text-'+t+'">'+e+"</span>");var r;if(!n){a.$progress.removeClass("progress-bar-success").addClass("progress-bar-danger");r=3e3}else r=1500;i=i===undefined?true:i;if(i){a.$close.hide();a.closeTimer=setTimeout(function(){a.$wait.fadeOut()},r)}else a.$close.show()},setDisabled:function(e){var t=this;t.api.setDisabled(e);t.$input.prop("readonly",e)},setOperateDisabled:function(e){if(e)this.$operateBtn.prop("disabled",true).removeClass("btn-success").addClass("disabled btn-default");else this.$operateBtn.prop("disabled",false).removeClass("disabled btn-default").addClass("btn-success")},destroy:function(){var e=this;if(e.api.$element[0].tagName==="INPUT"){e.$template.before(e.api.$element);e.$template.remove()}else e.api.$element.empty();e.isInit=false}};var r=function(e){this.api=e;this.uploadInProgress=false;this.fileTotal=0;this.fileSize=0;this.successIndex=0;this.successList={};this.sortable=null;this.addSuccessFileTimer=null;this.init()};r.prototype={init:function(){var a=this;var r=a.api;var t=r.options;var n=[];a.$template=u(m.FILES_TEMPLATE).addClass(t.className);a.$uploadBtn=f(a.$template,"upload-btn").addClass(t.uploadClass);a.$selectBtn=f(a.$template,"select-btn").addClass(t.selectClass);a.$fileQueueContainer=f(a.$template,"file-queue-container").hide();a.$fileResultContainer=f(a.$template,"file-result-container").hide();a.$imageQueueContainer=f(a.$template,"image-queue-container").hide();a.$imageResultContainer=f(a.$template,"image-result-container").hide();a.$queueContainer=null;a.$resultContainer=null;if(u.isArray(t.value))n=t.value;else if(typeof t.value==="string")try{n=JSON.parse(t.value);if(!u.isArray(n))throw new Error("")}catch(e){n=[];t.value.split(",").map(function(e,t){e=e.trim();if(e.length>0)n.push({url:e})})}if(r.fileConfig.type==="image"){a.$waitEmpty=u(m.FILES_TEMPLATE_IMAGE_QUEUE_EMPTY);a.$queueContainer=a.$imageQueueContainer.show();a.$resultContainer=a.$imageResultContainer}else{a.$waitEmpty=u(m.FILES_TEMPLATE_FILE_QUEUE_EMPTY);a.$queueContainer=a.$fileQueueContainer.show();a.$resultContainer=a.$fileResultContainer;f(a.$template,"locale-filename").html(t.locale.filename);f(a.$template,"locale-fileSize").html(t.locale.fileSize);f(a.$template,"locale-progress").html(t.locale.progress);f(a.$template,"locale-operate").html(t.locale.operate)}a.$queueList=f(a.$queueContainer,"queue-list").addClass("no-list").html(a.$waitEmpty);a.$toolbar=f(a.$queueContainer,"toolbar");a.$operateBtn=f(a.$queueContainer,"operate-btn").html(t.locale.uploadStart);a.$tip=f(a.$queueContainer,"tip");a.$resultList=f(a.$resultContainer,"result-list");a.$waitMessage=f(a.$waitEmpty,"message").html(t.placeholder);if(r.isInput){a.$input=r.$element;r.$element.addClass("busy-admin-upload-hide").after(a.$template)}else{a.$input=u('<input type="hidden" name="'+t.name+'"/>');r.$element.html(a.$template).append(a.$input)}if(t.auto)a.$toolbar.hide();r.initUploader(a.$uploadBtn,a.$template,a.$selectBtn,true);a.setOperateDisabled(true);a.$operateBtn.on("click",function(){if(u(this).hasClass("disabled"))return;if(a.uploadInProgress){a.uploadInProgress=false;r.uploader.stop()}else{a.uploadInProgress=true;r.uploader.upload()}});r.$element.on(d.e.uploadFileError,function(e,t,n,i){if(n){a.addFile(n);a.setFileStatus(n,i,"danger",false,false,true)}else d.dialog.toastError(i)}).on(d.e.uploadReset,function(){r.setDisabled(false);a.uploadInProgress=false;a.$operateBtn.html(t.locale.uploadStart);a.setOperateDisabled(true);a.setTip(true)}).on(d.e.uploadFileQueued,function(e,t,n){a.fileSize+=n.size;a.fileTotal+=1;a.addFile(n);a.setFileStatus(n,a.api.options.locale.uploadWait,"gray",false,true,false);a.setOperateDisabled(false);a.setTip(false)}).on(d.e.uploadBegin,function(){r.setDisabled(true);a.$operateBtn.html(t.locale.uploadPause).removeClass("btn-warning btn-default").addClass("btn-success")}).on(d.e.uploadStop,function(){a.$operateBtn.html(t.locale.uploadContinue).removeClass("btn-success btn-default").addClass("btn-warning")}).on(d.e.uploadStart,function(e,t,n){n.$status.hide();n.$progressBar.show()}).on(d.e.uploadFinished,function(e,t){t.reset()}).on(d.e.uploadProgress,function(e,t,n,i){n.$progress.css("width",(i*100).toFixed(2)+"%")}).on(d.e.uploadError,function(e,t,n,i){a.setTip(false);a.setFileStatus(n,r.parseServerError(i),"danger",false,false,true)}).on(d.e.uploadSuccess,function(e,t,n,i){a.setTip(false);a.setFileStatus(n,r.options.locale.uploadSuccess,"success",true,false,true);a.addSuccessFile(i.file_url,i.name,i.file_size||0,i.file_id)});n.map(function(e){a.addSuccessFile(e.url,e.name,e.size,e.id)})},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=this;u.map(e,function(e){t.addSuccessFile(e.url,e.name,e.size,e.id);t.api.triggerResult(e,false)})},addSuccessFile:function(e,t,n,i,a){var r=this;var o=r.api.options.locale;var s={};var l=function(){var e=[];for(var t in r.successList)e.push(r.successList[t].data);r.$input.val(JSON.stringify(e));if(e.length===0)r.$resultContainer.hide()};var c=function(){if(s.previewType)switch(s.previewType){case"image":s.$preview.busyAdminImageViewer("destroy");break;case"video":s.$preview.busyAdminVideoViewer("destroy");break;case"audio":s.$preview.busyAdminAudioViewer("destroy");break;case"file":s.$preview.removeAttr("href").removeAttr("target");break}r.api.previewHandler(s.data.url,function(){s.previewType="image";s.$preview.busyAdminImageViewer({src:s.data.url,alt:s.data.name})},function(){s.previewType="video";s.$preview.busyAdminVideoViewer({src:s.data.url})},function(){s.previewType="audio";s.$preview.busyAdminAudioViewer({src:s.data.url})},function(){s.previewType="file";s.$preview.attr("href",s.data.url).attr("target","_blank")})};t=(t||"").trim();if(t.length===0)t=e.substring(e.lastIndexOf("/")+1);s.data={url:e||"",name:t,size:n||0,id:i||"",sort:a||r.successIndex};switch(r.api.fileConfig.type){case"image":s.$item=u(m.FILES_TEMPLATE_IMAGE_RESULT_ITEM);s.$thumb=f(s.$item,"thumb").attr("src",e).attr("data-src",e).attr("alt",t).css("background-image","url("+e+")").css("background-size",r.api.options.objectFit).on("error",function(){u(this).addClass("error")});break;default:s.$item=u(m.FILES_TEMPLATE_FILE_RESULT_ITEM)}s.$item.attr("data-index",r.successIndex).attr("data-upload-id","item");s.$delete=f(s.$item,"delete").attr("title",o.delete).attr("data-index",r.successIndex);s.$preview=f(s.$item,"preview").attr("title",o.preview).attr("data-index",r.successIndex);s.$replace=f(s.$item,"replace").attr("title",o.replace).attr("data-index",r.successIndex);s.$name=f(s.$item,"name").attr("title",o.modifyFileName).attr("data-index",r.successIndex).html(t);s.$size=f(s.$item,"size").attr("data-index",r.successIndex).html(r.api.formatSize(n));s.index=r.successIndex;r.successList[r.successIndex]=s;r.successIndex++;s.$name.on("click",function(){d.dialog.prompt(o.modifyFileName,s.data.name,"text",function(e){e=(e||"").trim();if(e.length===0){d.dialog.toast(o.pleaseInputFileName);return false}s.data.name=e;s.$name.html(e);l()})});s.$delete.on("click",function(){d.dialog.confirm(d.helper.sprintf(o.confirmDeleteThat,"<code>"+s.data.name+"</code>"),function(){s.$item.remove();delete r.successList[s.index];l()})});s.$replace.on("click",function(){u(this).busyAdminFilePicker({classType:r.api.options.classType,classValue:r.api.options.classValue,title:d.helper.sprintf(o.replaceFile,r.api.fileConfig.name),multiple:false,extensions:r.api.fileConfig.suffix,success:function(e){if(e.length<=0)return;var t=e[0];s.$name.html(t.name);s.$size.html(r.api.formatSize(n));if(s.$thumb)s.$thumb.removeClass("error").attr("src",t.url).attr("data-src",t.url).attr("alt",t.name).css("background-image","url("+t.url+")");s.data.url=t.url;s.data.name=t.name;s.data.size=t.size;s.data.id=t.id;c();l()}})});c();u([s.$name,s.$delete,s.$preview,s.$replace]).tooltip({container:r.$template,trigger:"hover"});n>0?s.$size.show():s.$size.hide();r.$resultList.append(s.$item);r.api.options.filesResult?r.$resultContainer.show():r.$resultContainer.hide();clearTimeout(r.addSuccessFileTimer);r.addSuccessFileTimer=setTimeout(function(){l();if(this.sortable)this.sortable.destroy();r.sortable=new h(r.$resultList[0],{animation:150,onEnd:function(){f(r.$resultList,"item").each(function(e){r.successList[u(this).data("index")].data.sort=e});l()}})},10)},addFile:function(n){var i=this;var a=i.api;var r=i.api.options.locale;if(a.fileConfig.type==="image"){n.$item=u(m.FILES_TEMPLATE_IMAGE_QUEUE_ITEM);n.$thumb=f(n.$item,"thumb");n.$toolbar=f(n.$item,"toolbar");n.rotation=0;n.$thumb.attr("src","");a.uploader.makeThumb(n,function(e,t){if(e);else n.$thumb.attr("src",t)},150,150)}else n.$item=u(m.FILES_TEMPLATE_FILE_QUEUE_ITEM);n.$item.attr("data-upload-id","wait-item");n.$name=f(n.$item,"name");n.$size=f(n.$item,"size");n.$progressBar=f(n.$item,"progress-bar");n.$progress=f(n.$item,"progress");n.$delete=f(n.$item,"delete");n.$status=f(n.$item,"status");n.$name.html(n.name);n.$size.html(i.api.formatSize(n.size));n.$progress.css("width","0%");n.$delete.on("click",function(){n.isDelete=true;a.uploader.removeFile(n,true)});n.on("statuschange",function(e,t){switch(e){case"error":i.setFileStatus(this,a.parseServerError(this.statusText),"danger",false,false,true);break;case"invalid":i.setFileStatus(this,a.parseCodeError(this.statusText),"danger",false,false,true);break;case"interrupt":i.setFileStatus(this,r.uploadPaused,"warning",false,true,false);break;case"cancelled":i.fileTotal-=1;i.fileSize-=n.size;i.setTip(false);i.setFileStatus(this,r.uploadCanceled,"danger",false,false,true);break}});i.$queueList.append(n.$item);i.displayWaitEmpty()},setFileStatus:function(e,t,n,i,a,r){var o=this;e.$progressBar.hide();e.$status.html('<span class="text-'+n+'">'+t+"</span>").show();a?e.$delete.show():e.$delete.hide();clearTimeout(e.closeTimer);if(r)e.closeTimer=setTimeout(function(){e.$item.fadeOut(function(){e.$item.remove();o.displayWaitEmpty()})},i?1500:2500)},displayWaitEmpty:function(){var e=this;if(f(e.$queueList,"wait-item").length===0){e.$waitEmpty.show();e.$queueList.addClass("no-list")}else{e.$waitEmpty.hide();e.$queueList.removeClass("no-list")}},setTip:function(e){var t=this;var n=t.api;clearTimeout(t.tipTimer);if(e){t.tipTimer=setTimeout(function(){t.$tip.fadeOut()},2500);t.fileTotal=0;t.fileSize=0}else{var i=n.uploader.getStats();if(i.uploadFailNum>0)t.$tip.html(d.helper.sprintf(n.options.locale.uploadTipComplete,"<code>"+t.fileTotal+"</code>","<code>"+i.successNum+"</code>","<code>"+i.uploadFailNum+"</code>"));else if(i.successNum>0)t.$tip.html(d.helper.sprintf(n.options.locale.uploadTipSuccess,"<code>"+t.fileTotal+"</code>","<code>"+i.successNum+"</code>"));else t.$tip.html(d.helper.sprintf(n.options.locale.uploadTipSelected,"<code>"+t.fileTotal+"</code>","<code>"+n.formatSize(t.fileSize)+"</code>")).show();if(t.fileTotal===0){t.setOperateDisabled(true);t.setTip(true)}}},setOperateDisabled:function(e){if(e)this.$operateBtn.prop("disabled",true).removeClass("btn-success btn-warning").addClass("disabled btn-default");else this.$operateBtn.prop("disabled",false).removeClass("disabled btn-default").addClass("btn-success")},destroy:function(){var e=this;e.$template.remove();if(e.api.isInput)e.api.$element.removeClass("busy-admin-upload-hide");else e.$input.remove()}};var o=function(e){this.api=e;this.init()};o.prototype={init:function(){var a=this;var t=a.api;var r=t.options;var e=t.options.cardRatio||"";var n,i,o;if(!u.isArray(e))e=e.split(",");n=d.helper.float(e[0]||"");n=n<=0?320:n;i=d.helper.float(e[1]||"");i=i<=0?320:i;o=i/n*100;a.$template=u(m.CARD_TEMPLATE).addClass(r.className);a.$toolbar=f(a.$template,"toolbar");a.$uploadBtn=f(a.$template,"upload-btn").addClass(r.uploadClass);a.$uploadBtn2=f(a.$template,"upload-btn2");a.$selectBtn=f(a.$template,"select-btn").addClass(r.selectClass);a.$block=f(a.$template,"block").css({width:"100%",paddingBottom:o+"%"});a.$icon=f(a.$template,"icon").addClass(r.cardIcon);a.$placeholder=f(a.$template,"placeholder").html(r.placeholder);a.$preview=f(a.$template,"preview").hide();a.$progress=f(a.$template,"progress").hide();a.$speed=f(a.$template,"speed");a.$delete=f(a.$template,"remove-btn");if(t.options.cardType==="circle")a.$template.addClass("upload-card-type-circle");if(t.isInput){a.$input=t.$element;t.$element.addClass("busy-admin-upload-hide").after(a.$template)}else{a.$input=u('<input type="hidden" name="'+r.name+'"/>');t.$element.html(a.$template).append(a.$input)}a.$delete.on("click",function(){a.showPreview("")});r.auto=true;t.initUploader(a.$uploadBtn,a.$template,a.$selectBtn,false);a.$toolbar.hide();t.uploader.addButton({id:a.$uploadBtn2,multiple:false});t.$element.on(d.e.uploadFileError,function(e,t,n,i){t.reset();d.dialog.toastError(i)}).on(d.e.uploadReset,function(){t.setDisabled(false);a.$progress.hide()}).on(d.e.uploadFileQueued,function(){a.$speed.html("0%");a.$progress.show()}).on(d.e.uploadProgress,function(e,t,n,i){a.$speed.html((i*100).toFixed(2)+"%")}).on(d.e.uploadComplete,function(e,t){t.reset()}).on(d.e.uploadError,function(e,t,n,i){d.dialog.toastError(i)}).on(d.e.uploadSuccess,function(e,t,n,i){d.dialog.toastSuccess(r.locale.uploadSuccess);a.showPreview(i.file_url)});t.uploader.on("beforeFileQueued",function(e){t.setDisabled(true);return true});a.showPreview(r.value)},setSelectFiles:function(e){e=e||[];if(e.length<=0)return;var t=e[0];this.showPreview(t.url);this.api.triggerResult(t,false)},showPreview:function(e){var t=this;var n=t.api;var i;e=(e||"").trim();t.$input.val(e);if(e.length===0){t.$preview.empty().hide();t.$delete.hide();return}n.previewHandler(e,function(){t.$preview.html(i=u('<img src="'+e+'" data-title="false" class="cursor-zoom-in"/>')).show();i.busyAdminImageViewer()},function(){t.$preview.html(i=u('<video><source src="'+e+'"/></video>')).show();i.busyAdminVideoViewer({size:false})});i.css("object-fit",n.options.objectFit);t.$delete.show()},destroy:function(){var e=this;e.$template.remove();if(e.api.isInput)e.$input.removeClass("busy-admin-upload-hide");else e.$input.remove()}};var s=function(e){this.api=e;this.pending=null;this.init()};function e(n){var i;var a="busy.admin.upload.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=u(this);var t=e.data(a);if(!t)e.data(a,t=new m(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return s.prototype={init:function(){var a=this,t=a.api,r=t.options;r.upload=!0,r.select=!0,a.$uploadBtn=u(t.element),a.$selectBtn=null,r.useSelect&&(a.$selectBtn=u(r.useSelect)),a.$dnd=null,r.useDnd&&(a.$dnd=u(r.useDnd),r.dnd=!0),t.initUploader(a.$uploadBtn,a.$dnd,a.$selectBtn,!1),t.$element.on(d.e.uploadFileError,function(e,t,n,i){t.reset(),r.useError||d.dialog.toastError(i)}).on(d.e.uploadReset,function(){t.setDisabled(!1),a.pending&&a.pending.close()}).on(d.e.uploadFileQueued,function(){r.useProgress||(a.pending=d.dialog.pending("0%"))}).on(d.e.uploadProgress,function(e,t,n,i){a.pending&&a.pending.update((100*i).toFixed(2)+"%")}).on(d.e.uploadComplete,function(e,t){t.reset()}).on(d.e.uploadError,function(e,t,n,i){r.useError||d.dialog.toastError(i)}).on(d.e.uploadSuccess,function(e,t,n,i){}),t.uploader.on("beforeFileQueued",function(e){return t.setDisabled(!0),!0})},setSelectFiles:function(e){(e=e||[]).length<=0||this.api.triggerResult(e[0],!1)},destroy:function(){}},u.fn.busyAdminUpload=e,u.fn.busyAdminUpload.Constructor=m,d.plugins.Upload=m,u.extend(d.e,{uploadFileError:d.ee("file-error","upload"),uploadFileQueued:d.ee("file-queued","upload"),uploadFilesQueued:d.ee("files-queued","upload"),uploadFileDequeued:d.ee("files-dequeued","upload"),uploadBegin:d.ee("begin","upload"),uploadStop:d.ee("stop","upload"),uploadFinished:d.ee("finished","upload"),uploadStart:d.ee("start","upload"),uploadComplete:d.ee("complete","upload"),uploadProgress:d.ee("progress","upload"),uploadSuccess:d.ee("success","upload"),uploadError:d.ee("error","upload"),uploadReset:d.ee("reset","upload"),uploadResult:d.ee("result","upload")}),d.autoInit('[data-toggle="busy-upload"],[busy-upload]',function(){e.call(this)}),m})}(),function(){var e=busyAdmin;define("./busyAdmin/plugins/videoViewer",[e.sys.core,e.sys.jquery],function(r,o){var s=null,l=function(e,t){var n=this;n.element=e;n.$element=o(e);n.$template=null;n.options=o.extend(true,{},l.DEFAULTS,n.$element.data()||{},t||{});n.api=null;n.sources={};n.ready(n.init)};function e(n){var i;var a="busy.admin.video-viewer.api";var r=Array.prototype.slice.call(arguments);r.shift();this.each(function(){var e=o(this);var t=e.data(a);if(!t)e.data(a,t=new l(this,typeof n==="object"&&n));if(typeof n==="string")i=t[n].apply(t,r)});if(typeof n==="string")return i;return this}return l.prototype={ready:function(t){var n=this;s?t.call(n):require([r.lib.video],function(e){s=e,t.call(n)})},init:function(){var e,t,n,i=this;i.isInit||(i.isInit=!0,i.isVideo=!1,"video"===i.element.tagName.toLowerCase()?(n=i.$element.attr("src"),t=i.$element.attr("type"),e=i.$element.attr("poster"),t=t||"-",n&&(i.sources[t]=n),i.isVideo=!0,i.$element.find("source").each(function(){var e=o(this),t=e.attr("src"),e=(e=e.attr("mime"))||"-";t&&(i.sources[e]=t)}),n=o('<div class="busy-video-viewer"/>'),i.options.size&&n.css({width:i.$element.outerWidth(!0),height:i.$element.outerHeight(!0)}),i.$element.wrap(n),i.$template=i.$element.parent(),i.$template.append('<div class="player fa fa-play-circle fa-3x"/>'),i.$template.off("click").on("click",function(){i.show()})):i.options.clickHandler&&i.$element.off("click").on("click",function(){i.show()}),i.options.mp4&&(i.sources["video/mp4"]=i.options.mp4),i.options.webm&&(i.sources["video/webm"]=i.options.webm),i.options.ogv&&(i.sources["video/ogg"]=i.options.webm),i.options.src&&(i.sources["-"]=i.options.src),!i.options.poster&&e&&(i.options.poster=e),r.helper.triggerPluginReady(i.$element,"VideoViewer",i))},show:function(){var e,t,i=this,n="";for(t in i.sources)n+='<source src="'+i.sources[t]+'" type="'+("-"===t?"":t)+'" />';e='<div class="busy-video-viewer-dialog-content">                    <video class="video-js">_source_</video>                </div>'.replace("_source_",n);var a=layer.open({title:!1,type:1,skin:"busy-video-viewer-dialog",scrollbar:!1,content:e,success:function(e,t){var n=e.find(".busy-video-viewer-dialog-content");layer.area(t,n.width(),n.height()),this.offset();e=e.find("video");s(e[0],{controls:!0,preload:!0,muted:i.options.muted,poster:i.options.poster},function(){i.options.autoplay&&this.play()})}});o(document).on(r.e.appRenderBefore,function(){layer.close(a)})},destroy:function(){this.isInit&&(this.isInit=!0,this.isVideo?(this.$template.off("click"),this.$template.after(this.$element),this.$template.remove()):this.options.clickHandler&&this.$element.off("click"))}},l.DEFAULTS={src:"",mp4:"",webm:"",ogv:"",autoplay:!0,muted:!1,poster:"",size:!0,clickHandler:!0},o.fn.busyAdminVideoViewer=e,o.fn.busyAdminVideoViewer.Constructor=l,r.plugins.VideoViewer=l,r.autoInit('[data-toggle="busy-video-viewer"],[busy-video-viewer]',function(){e.call(this)}),l})}(),function(p,h){"use strict";function n(e,t){return e.find('[data-busy-id="'+t+'"]')}function a(e,t){return e.filter('[data-busy-id="'+t+'"]').add(e.find('[data-busy-id="'+t+'"]'))}function r(e){return p.parseHTML(e,document,!0)}function e(){this.$doc=p(document),this.$win=p(window)}e.prototype={start:function(){this.options=p.extend({},e.DEFAULTS,h.getConfig("app")||{}),this._initResponse(),this._initSinglePage(),this.$doc.ready(p.proxy(this.init,this))},ready:function(e){var t=this;t.isInit?"function"==typeof e&&e.call(t):(clearTimeout(t._readyTimer),t._readyTimer=setTimeout(function(){t.ready(e)}))},init:function(){var t=this;t.isInit||(t.$head=p(document.head),t.$body=p(document.body),t.$app=n(t.$body,"app"),t._initApp(),"function"==typeof t.options.runtime&&t.options.runtime.call(this),h.autoInit('[data-toggle="tooltip"],[busy-tooltip]',function(){this.tooltip()}),h.autoInit('[data-toggle="popover"],[busy-popover]',function(){this.popover()}),h.helper.onDomChange(function(){h.autoInitList.map(function(e){e.callback.call(p(e.selector))})}),document.addEventListener("error",function(e){"IMG"===e.target.tagName&&(e._handleError||(e._handleError=!0,e.target.src=t.options.errorImgUrl))},!0),window.addEventListener("beforeunload",function(e){t.trigger(h.e.appBeforeDestroy,[!1,e])},!1),Pace.on("start",function(){t.isFrame&&(clearTimeout(t._paceStartTimer),t._paceStartTimer=setTimeout(function(){t.$barRefreshIcon.addClass("busy-admin-anim-rotate")}))}),Pace.on("done",function(){t.isFrame&&(clearTimeout(t._paceStopTimer),t._paceStopTimer=setTimeout(function(){t.$barRefreshIcon.removeClass("busy-admin-anim-rotate")}))}),t.$win.on("resize",function(){clearTimeout(t._resizeTimer),t._resizeTimer=setTimeout(function(){t._computeMenu()},50)}),t.isInit=!0)},closeSideNav:function(){this.isMobileSize()&&(this.$frame.removeClass("busy-admin-nav-open"),this._changeBarControlIcon(!0),this.triggerResize())},openSideNav:function(){this.isMobileSize()&&(this.$frame.addClass("busy-admin-nav-open"),this._changeBarControlIcon(!1),this.scrollToNav(),this.triggerResize())},setToMiniNav:function(e){var t=this;t.isMobileSize()||t.isMiniNav()||(t.$app.addClass("busy-admin-mini-nav"),t.$left.removeClass("busy-admin-left-open"),t._changeBarControlIcon(!0),t.triggerResize(),t.$left.busyAdminOnTransEnd(!0,function(){t.triggerResize()}),clearTimeout(t._onceMiniNavTimer),t._onceMiniNavTimer=setTimeout(function(){t._onceMiniNav=e},1e3))},setToDefaultNav:function(){var e=this;!e.isMobileSize()&&e.isMiniNav()&&(e.$app.removeClass("busy-admin-mini-nav"),e.$left.removeClass("busy-admin-left-open"),e._changeBarControlIcon(!1),e.scrollToNav(),e.triggerResize(),e.$left.busyAdminOnTransEnd(!0,function(){e.triggerResize()}))},triggerResize:function(){this.$win&&this.$win.trigger("resize")},_changeBarControlIcon:function(e){e?this.$barControlIcon.removeClass("bicon-menu-close").addClass("bicon-menu-open"):this.$barControlIcon.removeClass("bicon-menu-open").addClass("bicon-menu-close")},isMobileSize:function(){return this.$win&&this.$win.width()<=767},_saveNavState:function(e,t){var n;this.options.navSingleHold||((n=this._getNavState())[e]=t,localStorage.setItem("busy.admin.app.nav",JSON.stringify(n)))},_getNavState:function(){return JSON.parse(localStorage.getItem("busy.admin.app.nav")||"{}")},_saveScrollState:function(e){for(var t=JSON.parse(sessionStorage.getItem("busy.admin.app.scroll")||"{}")||{},n=Object.keys(t);n.length>this.options.scrollCacheLength;)delete t[n.shift()];t[document.URL]=e,sessionStorage.setItem("busy.admin.app.scroll",JSON.stringify(t))},_getScrollState:function(){return(JSON.parse(sessionStorage.getItem("busy.admin.app.scroll")||"{}")||{})[document.URL]||0},_initSinglePage:function(){var o=this;o.$doc.on(h.e.appBeforeDestroy,function(){o._saveScrollState(o.$win.scrollTop())}).on(h.e.routeBeforeLeave,function(){o._byClick&&(o._saveScrollState(o.$win.scrollTop()),p("body,html").animate({scrollTop:0}))}).on(h.e.appComplete,function(e){var t,n;o._byClick?o._byClick=!1:(t=o._getScrollState(),(n=window.location.hash)&&(n=decodeURIComponent(n.slice(1)),(n=document.getElementById(n)||document.getElementsByName(n)[0])&&(t=p(n).offset().top)),"number"==typeof t&&0<t&&o.$win.scrollTop(t))}).on("submit","form:not([data-toggle])",function(e){var t=p(this),n=(t.attr("method")||"").trim().toLowerCase(),i=(t.attr("action")||"").trim();return"post"===n||(i=i||document.URL,h.route.show(h.helper.parseURL(i).path+"?"+t.serialize()),!1)}).on("click","a",function(e){var t=h.clickIgnore||[],n=p(this),i=n.data();if(!e.isDefaultPrevented()){for(var a=0;a<t.length;a++)if(i.hasOwnProperty(t[a])||i.hasOwnProperty("toggle"))return;n=n.attr("href")||"";if("#"===n||0===n.indexOf("javascript:"))return!1;e=h.route.clickHandler(e,!1);return!1!==e?(o._byClick=!0,h.route.show(e),!1):void 0}}),h.route.base(h.root()),h.route("*",function(a,r){o._singleTask&&(o._singleAbort=!0,o._singleTask.abort(),o._singleTask=null),a.init||(o.closeSideNav(),a.hash&&0===a.hash.indexOf("frames!")?o.setNavActive(a.hash.substr(7),"resumeFrames"):(o.$contentMask.addClass("active"),o._singleTask=h.request(h.root()+h.helper.ltrim(a.path,"/")).parse("html").cache(!1).addHeader("Busy-Admin-Plugin","SinglePage").pending(!1).before(function(e,t){if(!1===h.helper.execCallback(null,document,[e,t],o.$doc,h.e.appReqBefore,!0,!1))return!1}).complete(function(e,t,n){if(o._singleTask=null,o.$contentMask.removeClass("active"),!1===h.helper.execCallback(null,document,[e,t,n],o.$doc,h.e.appReqComplete,!0,!1))return!1}).error(function(e,t,n){if(o._singleAbort)return o._singleAbort=!1;if(!1===h.helper.execCallback(null,document,[e,t,n],o.$doc,h.e.appReqError,!0,!1))return!1;var i=p('<div class="iframe-content"/>'),t=p('<iframe src="about:blank"/>');i.html(t),o._renderSinglePage({content:i},a.path);t=t.contents()[0];t.open(),t.write(n.responseText||e.message),t.close(),document.title=t.title}).success(function(t,n,i){return o.responseToHtml(t,function(e){return r(),!1!==h.helper.execCallback(null,document,[t,n,i],o.$doc,h.e.appReqSuccess,!0,!1)&&void o._renderSinglePage(o.extractContainer(e,!0),a.path)}),!1}).exec()))}),h.route({click:!1}),o._oncePluginReadyEvent()},_oncePluginReadyEvent:function(){var a=this,r=h.e.appPluginReady+".busy.single",o=[];a.$doc.off(r).on(r,function(e,t,n,i){o.push({element:t,name:n,target:i}),clearTimeout(a._pluginReadyTimer),a._pluginReadyTimer=setTimeout(function(){a.$doc.off(r),a.trigger(h.e.appComplete,[o])},500)})},_renderSinglePage:function(e,t){var n=this,i=n.getPath(t),t=[e,t,i];if(!1!==h.helper.execCallback(null,document,t,n.$doc,h.e.appRenderBefore,!0,!1)){if(p.contains(n.$contentBody,document.activeElement))try{document.activeElement.blur()}catch(e){}n._oncePluginReadyEvent(),h.data={},document.title=e.title||"",n.$contentIframes.removeClass("active"),n.$contentBody.removeClass("hide"),e.init?(n.$app.html(e.init),n._initApp(),n.isFrame&&n.setNavActive(i,"renderPage")):(n.options.multiPage||n.$contentHeader.html(e.contentHeader||""),n.$contentBody.html(e.content||""),n.setNavActive(i,"renderPage"));i=n.$contentBody.find("input[autofocus], textarea[autofocus]").last()[0];i&&document.activeElement!==i&&i.focus(),n.trigger(h.e.appRenderSuccess,t),h.helper.triggerPluginReady(n.$element,"App",n)}},getPath:function(e){-1===(e=e||document.URL).indexOf("://")&&(e="/"+h.helper.ltrim(e,"/"));var t=h.root(),e=h.helper.parseURL(e),e=0===e.pathNoSuffix.indexOf(t)?e.pathNoSuffix.substring(t.length):e.pathNoSuffix;return h.helper.snake(h.helper.ltrim(e,"/"))},setNavActive:function(e,t){var n=this;n.isMiniNav()&&n._onceMiniNav&&n.setToDefaultNav(),n._onceMiniNav=!1;var i=n.$nav.find('[data-path="'+e+'"]');if(0===i.length&&(i=n.$nav.find('[data-hide-path="'+e+'"]').parent()),0<i.length)return i.trigger(p.Event("click",{triggerFrom:t||"setNavActive"})),void n.scrollToNav();n.$nav.find(".active").removeClass("active"),n.data&&n.$headerMenu.find('[data-path="'+n.data.menu_default+'"]').trigger("click")},scrollToNav:function(){var e,t=this.$nav.find(".is-action.active");t.length&&(e=t.offset().top-this.$nav.offset().top+this.$nav.scrollTop(),t=(this.$nav.height()-t.height())/2,this.$nav.stop().animate({scrollTop:e-t}))},_initApp:function(){var e,u=this;if(u.currentPath=u.getPath(document.URL),u.$frame=n(u.$app,"frame"),u.$header=n(u.$app,"header"),u.$headerLeft=n(u.$header,"header-left"),u.$headerRight=n(u.$header,"header-right"),u.$headerMenu=n(u.$headerRight,"menu"),u.$headerBarLeft=n(u.$headerRight,"bar-left"),u.$headerBarRight=n(u.$headerRight,"bar-right"),u.$left=n(u.$app,"left"),u.$nav=n(u.$app,"nav"),u.$navChild=n(u.$app,"nav-child"),u.$content=n(u.$app,"content"),u.$contentHeader=n(u.$app,"content-header"),u.$contentBody=n(u.$app,"content-body"),u.$contentIframes=n(u.$app,"content-iframes"),u.$contentMask=n(u.$app,"content-mask"),u.$barUsername=n(u.$headerRight,"bar-username"),u.$barUserDropdowns=n(u.$headerRight,"bar-user-dropdowns"),u.$barFullscreen=n(u.$headerRight,"bar-fullscreen"),u.$barFullscreenWrap=u.$barFullscreen.parent("li"),u.$barFullscreenIcon=u.$barFullscreen.find("i"),u.$barRefresh=n(u.$headerRight,"bar-refresh"),u.$barRefreshWrap=u.$barRefresh.parent("li"),u.$barRefreshIcon=u.$barRefresh.find("i"),u.$barControl=n(u.$headerRight,"bar-control"),u.$barControlWrap=u.$barControl.parent("li"),u.$barControlIcon=u.$barControl.find("i"),u.isFrame=0<u.$contentBody.length,!u.isFrame)return window.self==window.top||u.options.multiPage||(e=n(u.$app,"content-header")).is("script")&&window.top.busyAdmin.app&&(window.top.busyAdmin.app.$contentHeader.html(e.html()),window.top.document.title=document.title),u.trigger(h.e.appReady),void u.trigger(h.e.appReadies);u.$contentHeader.on("click","a",function(){var e=p(this).attr("href")||"",e=-1!==e.indexOf("://")?e:u.getPath(e);if(0===(u.$nav.find('[data-path="'+e+'"]').attr("target")||"").indexOf("busy_admin_iframe_"))return u.setNavActive(e,"resumeFrames"),!1}),u.$nav.on("click","a",function(e){var t=p(this),n=t.hasClass("is-action"),i=t.parent("li"),a=t.find("> .nav-arrow"),r=t.next("ul");i.data("id");if(n){u.$nav.find(".active").removeClass("active"),t.addClass("active"),t.parents("ul").each(function(){var e=p(this).prev("a");e.parent("li").addClass("active"),e.length&&!e.hasClass("open")&&e.trigger("click")}),u.$headerMenu.find('[data-id="'+t.parents("li").last().data("id")+'"]').trigger("click"),u.closeSideNav();var o=t.attr("target")||"",s=t.attr("href")||"";if(0===o.indexOf("busy_admin_iframe_")&&s){u.$contentIframes.find(".active").removeClass("active");var l,c=p('<iframe id="'+o+'" src="'+s+'"/>'),n=-1!==s.indexOf("://");return u.$contentIframes.find("#"+o).remove(),u.$contentIframes.append(c),c.addClass("active"),u.$contentIframes.addClass("active"),u.$contentBody.addClass("hide"),n&&!u.options.multiPage&&(c=t.find("> .nav-name").text(),l='<ul class="breadcrumb"><li><i class="fa fa-home"></i> <a href="'+h.root()+'">é¦é¡µ</a></li>',p(t.parents("li").get().reverse()).each(function(){var e=p(this).find("> a"),t=e.find("> .nav-name").text();l+="<li>",e.hasClass("is-action")?l+='<a href="'+e.attr("href")+'">'+t+"</a>":l+="<span>"+t+"</span>",l+="</li>"}),l+="</ul>",document.title=c+u.options.pageTitleSuffix,u.$contentHeader.html(l)),"resumeFrames"!==e.triggerFrom&&(d=s,n||(d=u.getPath(s)),h.route.show(h.root()+"#frames!"+d,null,!1)),!1}return!0}e.preventDefault();var d=t.data("path");if(t.hasClass("open")){if("resumeNav"===e.triggerFrom)return!1;r.hide(),a.removeClass("fa-rotate-180"),t.removeClass("open"),t.parents("li").each(function(){return!!p(this).find("> a").hasClass("open")||void p(this).removeClass("opened")}),u._saveNavState(d,!1)}else u.options.navSingleHold&&"resumeNav"!==e.triggerFrom&&(u.isMobileSize()?i.parent("ul").find("> li > a.open"):i.parent("ul").find("> li:not(.busy-admin-nav-li-1) > a.open")).trigger("click"),r.show(),a.addClass("fa-rotate-180"),t.addClass("open"),t.parents("li").each(function(){return!p(this).find("> a").hasClass("open")||void p(this).addClass("opened")}),"resumeNav"!==e.triggerFrom&&u._saveNavState(d,!0);return!1}).on("mouseenter",function(){u.isMiniNav()&&(clearTimeout(u._navHoverTimer),u._navHoverTimer=setTimeout(function(){u.$left.addClass("busy-admin-left-open")},100))}).on("mouseleave",function(){u.isMiniNav()&&(clearTimeout(u._navHoverTimer),u._navHoverTimer=setTimeout(function(){u.$left.removeClass("busy-admin-left-open")},100))}),u.$contentMask.on("click",function(){u.closeSideNav()}),u.$barFullscreen.on("click",function(){u.isFullscreen()?u.exitFullscreen():u.requestFullscreen()}),u.$barRefresh.on("click",function(){h.route.reload()}),u.$barControl.on("click",function(){u.isMobileSize()?u.sideIsOpen()?u.closeSideNav():u.openSideNav():u.isMiniNav()?u.setToDefaultNav():u.setToMiniNav()}),u.options.multiPage&&(u.tabList=[],u.$multiTabsRow=p('<div class="row"/>'),u.$multiTabs=p('<ul class="nav nav-tabs"/>').append('<li class="active"><a href="'+h.root()+'">é¦é¡µ</a></li>'),u.$contentHeader.html(u.$multiTabs)),u.loadInfo(),u.trigger(h.e.appReady)},loadInfo:function(){var r=this;r.data=null,h.request(r.options.url).addHeader("Busy-Admin-Plugin","AppInfo").pending(!1).error(function(){return!1}).success(function(e,t,n){e=e.result||{};r.data=e,r.username=e.username||"User",r.userId=e.user_id||"0",r.$barUsername.text(r.username),r._renderMenu(e.menu_list||[]),r._renderNav(e.menu_list||[]),r._renderUserDropdowns(e.user_dropdowns||[]);var i,a=!r.options.navSingleHold&&r._getNavState()||{};for(i in a)a[i]&&r.$nav.find('[data-path="'+i+'"]').not(".open").trigger(p.Event("click",{triggerFrom:"resumeNav"}));e=h.helper.parseURL(document.URL);return e.hash&&0===e.hash.indexOf("frames!")?r.setNavActive(e.hash.substr(7),"resumeFrames"):r.setNavActive(r.getPath(document.URL),"loadInfo"),r.options.navMode?r.setToMiniNav():r.setToDefaultNav(),r.trigger(h.e.appReadies),!1}).exec()},isMiniNav:function(){return this.$app&&this.$app.hasClass("busy-admin-mini-nav")},sideIsOpen:function(){return this.$frame.hasClass("busy-admin-nav-open")},_parseResult:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.error("è§£ææ°æ®å¤±è´¥",e),{message:"è§£ææ°æ®å¤±è´¥",status:!1,code:0,result:{},url:""}}return e.status=1===e.code,e.hasOwnProperty("traces")&&("POST"!==this.type?h.helper.parseURL(this.url):h.helper.parseURL("?"+this.data)).params,e},_initResponse:function(){var t=this;h.response.bindCode(t.options.needLoginCode,function(e){return h.dialog.toastError(e.message),h.route.show(e.url),!1}),h.response.setParse(function(e){return t._parseResult(e)})},_renderMenu:function(e){var i=this,n="";e.map(function(e){var t=i._parseNavItem(e);n+='<li class="'+(e.path!==i.data.menu_default||i.currentPath?"":"active")+'"><a href="'+t.url+'" data-id="'+e.id+'" data-path="'+t.path+'" target="'+t.target+'"><i class="'+e.icon+'"></i> <span>'+e.name+"</span></a></li>"}),i.$headerMenuNav=p('<ul class="nav navbar-nav"/>').html(n),i.$headerMenuLeft=p('<a class="left-arrow" href="javascript:void(0)"/>').append('<i class="fa fa-angle-double-left" />').hide(),i.$headerMenuRight=p('<a class="right-arrow" href="javascript:void(0)"/>').append('<i class="fa fa-angle-double-right" />').hide(),i.$headerMenuScroll=p('<div class="nav-scroll"/>').append(i.$headerMenuLeft).append(i.$headerMenuNav).append(i.$headerMenuRight),i.$headerMenu.html(i.$headerMenuScroll),i.$headerMenuNav.on("click","a",function(){var e=p(this),t=e.data("id"),n=e.closest("li");i.$headerMenuNav.find("li.active").removeClass("active"),n.addClass("active"),i.$nav.find("> ul > li").addClass("hide"),i.$nav.find('[data-id="'+t+'"]').removeClass("hide");e=i.$headerMenuScroll.outerWidth(!1),t=n.position().left;i.$headerMenuScroll.stop().animate({scrollLeft:t-e/2+n.outerWidth(!0)/2})}),i.$headerMenuLeft.on("click",function(){var e;p(this).hasClass("disabled")||(e=i.$headerMenuScroll[0].clientWidth/2,i.$headerMenuScroll.stop().animate({scrollLeft:i.$headerMenuScroll.scrollLeft()-e}))}),i.$headerMenuRight.on("click",function(){var e;p(this).hasClass("disabled")||(e=i.$headerMenuScroll[0].clientWidth/2,i.$headerMenuScroll.stop().animate({scrollLeft:i.$headerMenuScroll.scrollLeft()+e}))}),i.$headerMenuScroll.on("scroll",function(){var t=this,n=p(this);clearTimeout(i._headerMenuScrollTimer),i._headerMenuScrollTimer=setTimeout(function(){var e=n.scrollLeft();e<=0?i.$headerMenuLeft.addClass("disabled"):i.$headerMenuLeft.removeClass("disabled"),e+t.clientWidth>=t.scrollWidth?i.$headerMenuRight.addClass("disabled"):i.$headerMenuRight.removeClass("disabled")},20)}),i._menuReady=!0,i._computeMenu()},_computeMenu:function(){var e,t,n=this;n.isFrame&&n._menuReady&&(e=n.$win.width(),t=(t=n.$headerLeft.outerWidth(!1))+Math.abs(h.helper.float(n.$headerLeft.css("margin-left").replace("px","")))+Math.abs(h.helper.float(n.$headerLeft.css("margin-right").replace("px",""))),(t=e-(n.$headerBarLeft.outerWidth(!1)+Math.abs(h.helper.float(n.$headerBarLeft.css("margin-left").replace("px","")))+Math.abs(h.helper.float(n.$headerBarLeft.css("margin-right").replace("px",""))))-(n.$headerBarRight.outerWidth(!1)+Math.abs(h.helper.float(n.$headerBarRight.css("margin-left").replace("px","")))+Math.abs(h.helper.float(n.$headerBarRight.css("margin-right").replace("px",""))))-t)<n.$headerMenuNav.outerWidth(!0)?(n.$headerMenuLeft.show(),n.$headerMenuRight.show(),n.$headerMenuScroll.addClass("show-scroll")):(n.$headerMenuLeft.hide(),n.$headerMenuRight.hide(),n.$headerMenuScroll.removeClass("show-scroll")),n.$headerMenu.css("max-width",t+"px"),n.$headerMenuScroll.trigger("scroll"))},_renderUserDropdowns:function(e){var a="";e.map(function(e){if("divider"===e.type)a+='<li class="divider"></li>';else{var t,n=e.attr||{},i="";for(t in n)i+=t+"='"+n[t]+"' ";a+='<li><a href="'+(e.href||"javascript:void(0);")+'"'+i+'><i class="'+(e.icon||"")+'"></i> '+(e.text||"")+"</a></li>"}}),this.$barUserDropdowns.html(a)},_renderNav:function(e,s){var l=this,c='<ul class="busy-admin-nav-ul-'+(s=s||1)+'">';if(e.map(function(e){var t=e.child||[],n=l._parseNavItem(e),i=0<t.length,a=["busy-admin-nav-li-"+s],r=[],o="";1==s&&l.data.menu_default!==e.path&&a.push("hide"),r.push(i?"has-child":"is-action"),e.path===l.currentPath&&r.push("active"),(e.hides||[]).map(function(e){o+='<abbr data-hide-path="'+h.helper.snake(e.path)+'" class="hide"></abbr>'}),c+='<li class="'+a.join(" ")+'" data-id="'+e.id+'">',c+='<a class="'+r.join(" ")+'" data-path="'+n.path+'" href="'+n.url+'" target="'+n.target+'"><i class="nav-arrow fa fa-angle-down"></i> <i class="nav-icon '+e.icon+'"></i> <span class="nav-name">'+e.name+"</span>"+o+"</a>",i&&(c+=l._renderNav(t,s+1)),c+="</li>"}),c+="</ul>",1<s)return c;l.$nav.html(c),l.$nav.css({marginRight:-h.helper.getScrollbarWidth()+"px"})},_parseNavItem:function(e){var t=-1===e.url.indexOf("://")?h.root()+h.helper.ltrim(e.url,"/"):e.url,n=e.target,i=h.helper.snake(e.path);return"_blank"===n?{url:t,target:n}:((!e.url||0<(e.child||[]).length)&&(t="javascript:void(0)"),e.top_url&&!e.parent_path&&(t=h.root()+h.helper.ltrim(e.top_url,"/")),"iframe"===n&&(n="busy_admin_iframe_"+e.id),{url:t,target:n,path:i})},getContentFrame:function(){var e=this.isFrame?this.$contentBody:this.$app,t=h.helper.float(e.css("paddingTop").replace("px","")),n=h.helper.float(e.css("paddingBottom").replace("px","")),i=h.helper.float(e.css("paddingLeft").replace("px","")),a=h.helper.float(e.css("paddingRight").replace("px","")),r=e.offset(),o=this.$win.height()-r.top-t-n,s=e.outerWidth(!0)-i-a;return{target:e,height:o,width:s,top:r.top-(this.isMobileSize()&&0<this.$contentHeader.length?this.$contentHeader.outerHeight():0),left:r.left,paddingLeft:i,paddingRight:a,paddingTop:t,paddingBottom:n}},isInContent:function(e){return 0<e.closest('[data-busy-id="'+this.$contentBody.attr("data-busy-id")+'"]').length},extractContainer:function(e,t){var n={},i=p(r(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0])),e=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i),e=null!=e?p(r(e[0])):i;if(0===i.length)return n;t&&(0<a(i,"content-body").length?this.isFrame||(n.init=a(i,"app").first().children(),n.frame=!0):(n.init=a(i,"app").first().children(),n.frame=!1));t="title",t=(e=e).filter(t).add(e.find(t)).last();n.title=p.trim(t.text()||""),n.appTitle=p.trim(t.data("title")||"");t=i.find("title").last();return t.length&&(n.appTitle=p.trim(t.text()||"")),n.content=a(i,"content-body").first().children(),n.contentHeader=a(i,"content-header").first().children(),0<n.content.length&&(n.content=n.content.not(function(){return p(this).is("title")}),n.content.find("title").remove()),n},responseToHtml:function(t,n){try{h.response.parse(this._parseResult(JSON.parse(t.result)),null,function(e,t){h.dialog.toastError("è¿ååå®¹å¼å¸¸"),console.warn("è¿ååå®¹ä¸æ¯HTMLæ ¼å¼ï¼è¯·æ£æ¥æå¡ç«¯ä»£ç ")},function(e,t){h.dialog.toastError(e.message)})}catch(e){n.call(this,t.result)}},requestFullscreen:function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;t?(t.call(e),this._changeFullState(!0)):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&(e.SendKeys("{F11}"),this._changeFullState(!0))},exitFullscreen:function(){var e=document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;t?(t.call(e),this._changeFullState(!1)):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&(e.SendKeys("{F11}"),this._changeFullState(!1))},isFullscreen:function(){return this.$barFullscreenWrap.hasClass("active")},_changeFullState:function(e){e?(this.$barFullscreenWrap.addClass("active"),this.$barFullscreenIcon.removeClass("bicon-full-screen").addClass("bicon-shrink-screen")):(this.$barFullscreenWrap.removeClass("active"),this.$barFullscreenIcon.addClass("bicon-full-screen").removeClass("bicon-shrink-screen"))},getUserId:function(){return this.getData().user_id||0},getUsername:function(){return this.getData().username||""},getUserInfo:function(){return this.getData().user||{}},getData:function(){return this.data||{}},getUseData:function(){return this.getData().data||{}},trigger:function(e,t){return h.helper.execCallback(null,document,t||[],this.$doc,e),this},on:function(e,t){return this.$doc.on(e,t),this},once:function(e,t){return this.$doc.one(e,t),this},off:function(e){return this.$doc.off(e),this},_outLogin:function(e){h.app.data=null,h.app.trigger(h.e.appLoginOuted,[e]),h.route.show(e.url)},_loginSuccess:function(e){h.app.trigger(h.e.appLoginSucceed,[e]),h.route.show(e.url)},isLogin:function(){return null!=this.data}},e.DEFAULTS={navSingleHold:!1,navMode:!1,errorImgUrl:"",multiPage:!1,scrollCacheLength:50,url:"",pageTitleSuffix:"",needLoginCode:3020001,runtime:null},h.app=new e,h.regSugar("app",function(e,t,n,i){h.app[t].apply(h.app,i)})}(jQuery,busyAdmin);